var Ext=Ext||{};Ext._startTime=(new Date).getTime();
(function(){var a=Object.prototype,b=a.toString,c=!0,d={toString:1},e=function(){},g=function(){var a=g.caller.caller;return a.$owner.prototype[a.$name].apply(this,arguments)},h;Ext.global=this;for(h in d)c=null;c&&(c="hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "));Ext.enumerables=c;Ext.apply=function(a,b,d){d&&Ext.apply(a,d);if(a&&b&&"object"===typeof b){for(var e in b)a[e]=b[e];if(c)for(d=c.length;d--;)e=c[d],b.hasOwnProperty(e)&&(a[e]=
b[e])}return a};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-",scopeResetCSS:!1},Ext.buildSettings||{});Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:e,emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(a,b){var c;if(a)for(c in b)void 0===a[c]&&(a[c]=b[c]);return a},iterate:function(a,b,c){Ext.isEmpty(a)||(void 0===c&&(c=a),Ext.isIterable(a)?Ext.Array.each.call(Ext.Array,a,b,c):Ext.Object.each.call(Ext.Object,a,b,c))}});Ext.apply(Ext,{extend:function(){var b=
a.constructor,c=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])};return function(a,d,e){Ext.isObject(d)&&(e=d,d=a,a=e.constructor!==b?e.constructor:function(){d.apply(this,arguments)});d||Ext.Error.raise({sourceClass:"Ext",sourceMethod:"extend",msg:"Attempting to extend from a class which has not been loaded on the page."});var g=function(){},h=d.prototype;g.prototype=h;g=a.prototype=new g;g.constructor=a;a.superclass=h;h.constructor===b&&(h.constructor=d);a.override=function(b){Ext.override(a,
b)};g.override=c;g.proto=g;a.override(e);a.extend=function(b){return Ext.extend(a,b)};return a}}(),override:function(a,b){if(a.$isClass)a.override(b);else if("function"==typeof a)Ext.apply(a.prototype,b);else{var c=a.self,d,e;if(c&&c.$isClass)for(d in b)b.hasOwnProperty(d)&&(e=b[d],"function"==typeof e&&(c.$className&&(e.displayName=c.$className+"#"+d),e.$name=d,e.$owner=c,e.$previous=a.hasOwnProperty(d)?a[d]:g),a[d]=e);else Ext.apply(a,b)}return a}});Ext.apply(Ext,{valueFrom:function(a,b,c){return Ext.isEmpty(a,
c)?b:a},typeOf:function(a){var c;if(null===a)return"null";c=typeof a;if("undefined"===c||"string"===c||"number"===c||"boolean"===c)return c;switch(b.call(a)){case "[object Array]":return"array";case "[object Date]":return"date";case "[object Boolean]":return"boolean";case "[object Number]":return"number";case "[object RegExp]":return"regexp"}if("function"===c)return"function";if("object"===c)return void 0!==a.nodeType?3===a.nodeType?/\S/.test(a.nodeValue)?"textnode":"whitespace":"element":"object";
Ext.Error.raise({sourceClass:"Ext",sourceMethod:"typeOf",msg:'Failed to determine the type of the specified value "'+a+'". This is most likely a bug.'})},isEmpty:function(a,b){return null===a||void 0===a||(!b?""===a:!1)||Ext.isArray(a)&&0===a.length},isArray:"isArray"in Array?Array.isArray:function(a){return"[object Array]"===b.call(a)},isDate:function(a){return"[object Date]"===b.call(a)},isObject:"[object Object]"===b.call(null)?function(a){return null!==a&&void 0!==a&&"[object Object]"===b.call(a)&&
void 0===a.ownerDocument}:function(a){return"[object Object]"===b.call(a)},isSimpleObject:function(a){return a instanceof Object&&a.constructor===Object},isPrimitive:function(a){a=typeof a;return"string"===a||"number"===a||"boolean"===a},isFunction:"undefined"!==typeof document&&"function"===typeof document.getElementsByTagName("body")?function(a){return"[object Function]"===b.call(a)}:function(a){return"function"===typeof a},isNumber:function(a){return"number"===typeof a&&isFinite(a)},isNumeric:function(a){return!isNaN(parseFloat(a))&&
isFinite(a)},isString:function(a){return"string"===typeof a},isBoolean:function(a){return"boolean"===typeof a},isElement:function(a){return a?1===a.nodeType:!1},isTextNode:function(a){return a?"#text"===a.nodeName:!1},isDefined:function(a){return"undefined"!==typeof a},isIterable:function(a){var b=typeof a,c=!1;a&&"string"!=b&&("function"==b?Ext.isSafari&&(c=a instanceof NodeList||a instanceof HTMLCollection):c=!0);return c?void 0!==a.length:!1}});Ext.apply(Ext,{clone:function(a){var d,e,g;if(null===
a||void 0===a)return a;if(a.nodeType&&a.cloneNode)return a.cloneNode(!0);d=b.call(a);if("[object Date]"===d)return new Date(a.getTime());if("[object Array]"===d){d=a.length;for(g=[];d--;)g[d]=Ext.clone(a[d])}else if("[object Object]"===d&&a.constructor===Object){g={};for(e in a)g[e]=Ext.clone(a[e]);if(c)for(d=c.length;d--;)e=c[d],g[e]=a[e]}return g||a},getUniqueGlobalNamespace:function(){var a=this.uniqueGlobalNamespace,b;if(void 0===a){b=0;do a="ExtBox"+ ++b;while(void 0!==Ext.global[a]);Ext.global[a]=
Ext;this.uniqueGlobalNamespace=a}return a},functionFactoryCache:{},cacheableFunctionFactory:function(){var a=Array.prototype.slice.call(arguments),b=this.functionFactoryCache,c,d;Ext.isSandboxed&&(c=a.length,0<c&&(c--,a[c]="var Ext=window."+Ext.name+";"+a[c]));c=a.join("");d=b[c];d||(d=Function.prototype.constructor.apply(Function.prototype,a),b[c]=d);return d},functionFactory:function(){var a=Array.prototype.slice.call(arguments),b;Ext.isSandboxed&&(b=a.length,0<b&&(b--,a[b]="var Ext=window."+Ext.name+
";"+a[b]));return Function.prototype.constructor.apply(Function.prototype,a)},Logger:{verbose:e,log:e,info:e,warn:e,error:function(a){throw Error(a);},deprecate:e}});Ext.type=Ext.typeOf})();Ext.globalEval=Ext.global.execScript?function(a){execScript(a)}:function(a){(function(){eval(a)})()};
(function(){var a;Ext.Version=a=Ext.extend(Object,{constructor:function(b){var c;if(b instanceof a)return b;this.version=this.shortVersion=(""+b).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,"");c=this.version.search(/([^\d\.])/);-1!==c&&(this.release=this.version.substr(c,b.length),this.shortVersion=this.version.substr(0,c));this.shortVersion=this.shortVersion.replace(/[^\d]/g,"");b=this.version.split(".");this.major=parseInt(b.shift()||0,10);this.minor=parseInt(b.shift()||0,10);this.patch=parseInt(b.shift()||
0,10);this.build=parseInt(b.shift()||0,10);return this},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(b){return 1===a.compare(this.version,b)},isGreaterThanOrEqual:function(b){return 0<=a.compare(this.version,b)},isLessThan:function(b){return-1===
a.compare(this.version,b)},isLessThanOrEqual:function(b){return 0>=a.compare(this.version,b)},equals:function(b){return 0===a.compare(this.version,b)},match:function(a){a=""+a;return this.version.substr(0,a.length)===a},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},
gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}});Ext.apply(a,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(a){return!a?0:isNaN(a)?this.releaseValueMap[a]||a:parseInt(a,10)},compare:function(b,c){var d,e,g,b=(new a(b)).toArray(),c=(new a(c)).toArray();for(g=0;g<Math.max(b.length,c.length);g++){d=this.getComponentValue(b[g]);e=this.getComponentValue(c[g]);
if(d<e)return-1;if(d>e)return 1}return 0}});Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(b,c){Ext.versions[b]=new a(c);Ext.lastRegisteredVersion=Ext.versions[b];return this},getVersion:function(a){return void 0===a?Ext.lastRegisteredVersion:Ext.versions[a]},deprecate:function(b,c,d,e){1>a.compare(Ext.getVersion(b),c)&&d.call(e)}});Ext.setVersion("core","4.1.1.1")})();
Ext.String=function(){var a=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,b=/('|\\)/g,c=/\{(\d+)\}/g,d=/([-.*+?\^${}()|\[\]\/\\])/g,e=/^\s+|\s+$/g,g=/\s+/,h=/(^[^a-z]*|[^\w])/gi,i,j,k,l,m=function(a,b){return i[b]},n=function(a,b){return b in j?j[b]:String.fromCharCode(parseInt(b.substr(2),
10))};return{createVarName:function(a){return a.replace(h,"")},htmlEncode:function(a){return!a?a:(""+a).replace(k,m)},htmlDecode:function(a){return!a?a:(""+a).replace(l,n)},addCharacterEntities:function(a){var b=[],c=[],d,e;for(d in a)e=a[d],j[d]=e,i[e]=d,b.push(e),c.push(d);k=RegExp("("+b.join("|")+")","g");l=RegExp("("+c.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){i={};j={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(a,
b){return!Ext.isEmpty(b)?a+(-1===a.indexOf("?")?"?":"&")+b:a},trim:function(b){return b.replace(a,"")},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},uncapitalize:function(a){return a.charAt(0).toLowerCase()+a.substr(1)},ellipsis:function(a,b,c){if(a&&a.length>b){if(c){var c=a.substr(0,b-2),d=Math.max(c.lastIndexOf(" "),c.lastIndexOf("."),c.lastIndexOf("!"),c.lastIndexOf("?"));if(-1!==d&&d>=b-15)return c.substr(0,d)+"..."}return a.substr(0,b-3)+"..."}return a},escapeRegex:function(a){return a.replace(d,
"\\$1")},escape:function(a){return a.replace(b,"\\$1")},toggle:function(a,b,c){return a===b?c:b},leftPad:function(a,b,c){a=""+a;for(c=c||" ";a.length<b;)a=c+a;return a},format:function(a){var b=Ext.Array.toArray(arguments,1);return a.replace(c,function(a,c){return b[c]})},repeat:function(a,b,c){for(var d=[];b--;)d.push(a);return d.join(c||"")},splitWords:function(a){return a&&"string"==typeof a?a.replace(e,"").split(g):a||[]}}}();Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;
Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;
Ext.Number=new function(){var a=this,b="1"!==(0.9).toFixed(),c=Math;Ext.apply(this,{constrain:function(a,b,c){a=parseFloat(a);return a<b?b:a>c?c:a},snap:function(b,c,g,h){var i;if(void 0===b||b<g)return g||0;c&&(i=b%c,0!==i&&(b-=i,2*i>=c?b+=c:2*i<-c&&(b-=c)));return a.constrain(b,g,h)},snapInRange:function(b,c,g,h){var i,g=g||0;if(void 0===b||b<g)return g;if(c&&(i=(b-g)%c))b-=i,2*i>=c&&(b+=c);if(void 0!==h&&b>(h=a.snapInRange(h,c,g)))b=h;return b},toFixed:b?function(a,b){var b=b||0,g=c.pow(10,b);
return(c.round(a*g)/g).toFixed(b)}:function(a,b){return a.toFixed(b)},from:function(a,b){isFinite(a)&&(a=parseFloat(a));return!isNaN(a)?a:b},randomInt:function(a,b){return c.floor(c.random()*(b-a+1)+a)}});Ext.num=function(){return a.from.apply(this,arguments)}};
(function(){function a(a,b){return 0>b?Math.max(0,a.length+b):Math.min(a.length,b)}function b(b,c,d,e){var g=e?e.length:0,h=b.length,c=a(b,c),i,j,k;if(c===h)g&&b.push.apply(b,e);else{i=Math.min(d,h-c);d=c+i;j=d+g-i;k=h-d;h-=i;if(j<d)for(i=0;i<k;++i)b[j+i]=b[d+i];else if(j>d)for(i=k;i--;)b[j+i]=b[d+i];if(g&&c===h)b.length=h,b.push.apply(b,e);else{b.length=h+g;for(i=0;i<g;++i)b[c+i]=e[i]}}return b}function c(a,b,c,d){d&&d.length?b<a.length?a.splice.apply(a,[b,c].concat(d)):a.push.apply(a,d):a.splice(b,
c);return a}function d(a,c,d){return b(a,c,d)}function e(a,b,c){a.splice(b,c);return a}function g(c,d,e){var g=a(c,d),h=c.slice(d,a(c,g+e));4>arguments.length?b(c,g,e):b(c,g,e,j.call(arguments,3));return h}function h(a){return a.splice.apply(a,j.call(arguments,1))}var i=Array.prototype,j=i.slice,k=function(){var a=[],b;b=20;if(!a.splice)return!1;for(;b--;)a.push("A");a.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");b=a.length;a.splice(13,0,"XXX");
return b+1!=a.length?!1:!0}(),l="forEach"in i,m="map"in i,n="indexOf"in i,o="every"in i,p="some"in i,i="filter"in i,q=function(){var a=[1,2,3,4,5].sort(function(){return 0});return 1===a[0]&&2===a[1]&&3===a[2]&&4===a[3]&&5===a[4]}(),r=!0,s,t,u;try{"undefined"!==typeof document&&j.call(document.getElementsByTagName("body"))}catch(v){r=!1}t=k?e:d;u=k?c:b;k=k?h:g;s=Ext.Array={each:function(a,b,c,d){var a=s.from(a),e=a.length;if(!0!==d)for(d=0;d<e;d++){if(!1===b.call(c||a[d],a[d],d,a))return d}else for(d=
e-1;-1<d;d--)if(!1===b.call(c||a[d],a[d],d,a))return d;return!0},forEach:l?function(a,b,c){return a.forEach(b,c)}:function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a)},indexOf:n?function(a,b,c){return a.indexOf(b,c)}:function(a,b,c){for(var d=a.length,c=0>c?Math.max(0,d+c):c||0;c<d;c++)if(a[c]===b)return c;return-1},contains:n?function(a,b){return-1!==a.indexOf(b)}:function(a,b){var c,d;c=0;for(d=a.length;c<d;c++)if(a[c]===b)return!0;return!1},toArray:function(a,b,c){if(!a||!a.length)return[];
"string"===typeof a&&(a=a.split(""));if(r)return j.call(a,b||0,c||a.length);for(var d=[],c=c?0>c?a.length+c:c:a.length,b=b||0;b<c;b++)d.push(a[b]);return d},pluck:function(a,b){var c=[],d,e,g;d=0;for(e=a.length;d<e;d++)g=a[d],c.push(g[b]);return c},map:m?function(a,b,c){b||Ext.Error.raise("Ext.Array.map must have a callback function passed as second argument.");return a.map(b,c)}:function(a,b,c){b||Ext.Error.raise("Ext.Array.map must have a callback function passed as second argument.");for(var d=
[],e=0,g=a.length;e<g;e++)d[e]=b.call(c,a[e],e,a);return d},every:o?function(a,b,c){b||Ext.Error.raise("Ext.Array.every must have a callback function passed as second argument.");return a.every(b,c)}:function(a,b,c){b||Ext.Error.raise("Ext.Array.every must have a callback function passed as second argument.");for(var d=0,e=a.length;d<e;++d)if(!b.call(c,a[d],d,a))return!1;return!0},some:p?function(a,b,c){b||Ext.Error.raise("Ext.Array.some must have a callback function passed as second argument.");
return a.some(b,c)}:function(a,b,c){b||Ext.Error.raise("Ext.Array.some must have a callback function passed as second argument.");for(var d=0,e=a.length;d<e;++d)if(b.call(c,a[d],d,a))return!0;return!1},clean:function(a){for(var b=[],c=0,d=a.length,e;c<d;c++)e=a[c],Ext.isEmpty(e)||b.push(e);return b},unique:function(a){for(var b=[],c=0,d=a.length,e;c<d;c++)e=a[c],-1===s.indexOf(b,e)&&b.push(e);return b},filter:i?function(a,b,c){b||Ext.Error.raise("Ext.Array.filter must have a callback function passed as second argument.");
return a.filter(b,c)}:function(a,b,c){b||Ext.Error.raise("Ext.Array.filter must have a callback function passed as second argument.");for(var d=[],e=0,g=a.length;e<g;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d},from:function(a,b){if(void 0===a||null===a)return[];if(Ext.isArray(a))return b?j.call(a):a;var c=typeof a;return a&&void 0!==a.length&&"string"!==c&&("function"!==c||!a.apply)?s.toArray(a):[a]},remove:function(a,b){var c=s.indexOf(a,b);-1!==c&&t(a,c,1);return a},include:function(a,b){s.contains(a,
b)||a.push(b)},clone:function(a){return j.call(a)},merge:function(){var a=j.call(arguments),b=[],c,d;c=0;for(d=a.length;c<d;c++)b=b.concat(a[c]);return s.unique(b)},intersect:function(){var a=[],b=j.call(arguments),c,d,e,g,h,i,k,l,m,n,o;if(!b.length)return a;c=b.length;for(m=d=0;m<c;m++)if(e=b[m],!g||e.length<g.length)g=e,d=m;g=s.unique(g);t(b,d,1);h=g.length;c=b.length;for(m=0;m<h;m++){i=g[m];for(n=l=0;n<c;n++){d=b[n];e=d.length;for(o=0;o<e;o++)if(k=d[o],i===k){l++;break}}l===c&&a.push(i)}return a},
difference:function(a,b){var c=j.call(a),d=c.length,e,g,h;e=0;for(h=b.length;e<h;e++)for(g=0;g<d;g++)c[g]===b[e]&&(t(c,g,1),g--,d--);return c},slice:[1,2].slice(1,void 0).length?function(a,b,c){return j.call(a,b,c)}:function(a,b,c){return"undefined"===typeof b?j.call(a):"undefined"===typeof c?j.call(a,b):j.call(a,b,c)},sort:q?function(a,b){return b?a.sort(b):a.sort()}:function(a,b){for(var c=a.length,d=0,e,g,h;d<c;d++){h=d;for(g=d+1;g<c;g++)b?(e=b(a[g],a[h]),0>e&&(h=g)):a[g]<a[h]&&(h=g);h!==d&&(e=
a[d],a[d]=a[h],a[h]=e)}return a},flatten:function(a){function b(a){var d,e,g;d=0;for(e=a.length;d<e;d++)g=a[d],Ext.isArray(g)?b(g):c.push(g);return c}var c=[];return b(a)},min:function(a,b){var c=a[0],d,e,g;d=0;for(e=a.length;d<e;d++)g=a[d],b?1===b(c,g)&&(c=g):g<c&&(c=g);return c},max:function(a,b){var c=a[0],d,e,g;d=0;for(e=a.length;d<e;d++)g=a[d],b?-1===b(c,g)&&(c=g):g>c&&(c=g);return c},mean:function(a){return 0<a.length?s.sum(a)/a.length:void 0},sum:function(a){var b=0,c,d,e;c=0;for(d=a.length;c<
d;c++)e=a[c],b+=e;return b},toMap:function(a,b,c){var d={},e=a.length;if(b)if("string"==typeof b)for(;e--;)d[a[e][b]]=e+1;else for(;e--;)d[b.call(c,a[e])]=e+1;else for(;e--;)d[a[e]]=e+1;return d},_replaceSim:b,_spliceSim:g,erase:t,insert:function(a,b,c){return u(a,b,0,c)},replace:u,splice:k,push:function(a){var b=arguments.length,c=1,d;for(void 0===a?a=[]:Ext.isArray(a)||(a=[a]);c<b;c++)d=arguments[c],Array.prototype.push[Ext.isArray(d)?"apply":"call"](a,d);return a}};Ext.each=s.each;s.union=s.merge;
Ext.min=s.min;Ext.max=s.max;Ext.sum=s.sum;Ext.mean=s.mean;Ext.flatten=s.flatten;Ext.clean=s.clean;Ext.unique=s.unique;Ext.pluck=s.pluck;Ext.toArray=function(){return s.toArray.apply(s,arguments)}})();
Ext.Function={flexSetter:function(a){return function(b,c){var d,e;if(null===b)return this;if("string"!==typeof b){for(d in b)b.hasOwnProperty(d)&&a.call(this,d,b[d]);if(Ext.enumerables)for(e=Ext.enumerables.length;e--;)d=Ext.enumerables[e],b.hasOwnProperty(d)&&a.call(this,d,b[d])}else a.call(this,b,c);return this}},bind:function(a,b,c,d){if(2===arguments.length)return function(){return a.apply(b,arguments)};var e=Array.prototype.slice;return function(){var g=c||arguments;!0===d?(g=e.call(arguments,
0),g=g.concat(c)):"number"==typeof d&&(g=e.call(arguments,0),Ext.Array.insert(g,d,c));return a.apply(b||Ext.global,g)}},pass:function(a,b,c){Ext.isArray(b)||(b=Ext.isIterable(b)?Ext.Array.clone(b):void 0!==b?[b]:[]);return function(){var d=[].concat(b);d.push.apply(d,arguments);return a.apply(c||this,d)}},alias:function(a,b){return function(){return a[b].apply(a,arguments)}},clone:function(a){return function(){return a.apply(this,arguments)}},createInterceptor:function(a,b,c,d){return Ext.isFunction(b)?
function(){var e=arguments;b.target=this;b.method=a;return!1!==b.apply(c||this||Ext.global,e)?a.apply(this||Ext.global,e):d||null}:a},createDelayed:function(a,b,c,d,e){if(c||d)a=Ext.Function.bind(a,c,d,e);return function(){var c=this,d=Array.prototype.slice.call(arguments);setTimeout(function(){a.apply(c,d)},b)}},defer:function(a,b,c,d,e){a=Ext.Function.bind(a,c,d,e);if(0<b)return setTimeout(Ext.supports.TimeoutActualLateness?function(){a()}:a,b);a();return 0},createSequence:function(a,b,c){return b?
function(){var d=a.apply(this,arguments);b.apply(c||this,arguments);return d}:a},createBuffered:function(a,b,c,d){var e;return function(){var g=d||Array.prototype.slice.call(arguments,0),h=c||this;e&&clearTimeout(e);e=setTimeout(function(){a.apply(h,g)},b)}},createThrottled:function(a,b,c){var d,e,g,h,i=function(){a.apply(c||this,g);d=(new Date).getTime()};return function(){e=(new Date).getTime()-d;g=arguments;clearTimeout(h);!d||e>=b?i():h=setTimeout(i,b-e)}},interceptBefore:function(a,b,c,d){var e=
a[b]||Ext.emptyFn;return a[b]=function(){var a=c.apply(d||this,arguments);e.apply(this,arguments);return a}},interceptAfter:function(a,b,c,d){var e=a[b]||Ext.emptyFn;return a[b]=function(){e.apply(this,arguments);return c.apply(d||this,arguments)}}};Ext.defer=Ext.Function.alias(Ext.Function,"defer");Ext.pass=Ext.Function.alias(Ext.Function,"pass");Ext.bind=Ext.Function.alias(Ext.Function,"bind");
(function(){var a=function(){},b=Ext.Object={chain:function(b){a.prototype=b;b=new a;a.prototype=null;return b},toQueryObjects:function(a,d,e){var g=b.toQueryObjects,h=[],i,j;if(Ext.isArray(d)){i=0;for(j=d.length;i<j;i++)e?h=h.concat(g(a+"["+i+"]",d[i],!0)):h.push({name:a,value:d[i]})}else if(Ext.isObject(d))for(i in d)d.hasOwnProperty(i)&&(e?h=h.concat(g(a+"["+i+"]",d[i],!0)):h.push({name:a,value:d[i]}));else h.push({name:a,value:d});return h},toQueryString:function(a,d){var e=[],g=[],h,i,j,k;for(h in a)a.hasOwnProperty(h)&&
(e=e.concat(b.toQueryObjects(h,a[h],d)));h=0;for(i=e.length;h<i;h++)j=e[h],k=j.value,Ext.isEmpty(k)?k="":Ext.isDate(k)&&(k=Ext.Date.toString(k)),g.push(encodeURIComponent(j.name)+"="+encodeURIComponent(""+k));return g.join("&")},fromQueryString:function(a,b){var e=a.replace(/^\?/,"").split("&"),g={},h,i,j,k,l,m,n,o,p;j=0;for(k=e.length;j<k;j++)if(l=e[j],0<l.length)if(i=l.split("="),h=decodeURIComponent(i[0]),i=void 0!==i[1]?decodeURIComponent(i[1]):"",b){n=h.match(/(\[):?([^\]]*)\]/g);h=h.match(/^([^\[]+)/);
if(!h)throw Error('[Ext.Object.fromQueryString] Malformed query string given, failed parsing name from "'+l+'"');h=h[0];o=[];if(null===n)g[h]=i;else{l=0;for(m=n.length;l<m;l++)p=n[l],p=2===p.length?"":p.substring(1,p.length-1),o.push(p);o.unshift(h);h=g;l=0;for(m=o.length;l<m;l++)if(p=o[l],l===m-1)Ext.isArray(h)&&""===p?h.push(i):h[p]=i;else{if(void 0===h[p]||"string"===typeof h[p])n=o[l+1],h[p]=Ext.isNumeric(n)||""===n?[]:{};h=h[p]}}}else g.hasOwnProperty(h)?(Ext.isArray(g[h])||(g[h]=[g[h]]),g[h].push(i)):
g[h]=i;return g},each:function(a,b,e){for(var g in a)if(a.hasOwnProperty(g)&&!1===b.call(e||a,g,a[g],a))break},merge:function(a){for(var d=1,e=arguments.length,g=b.merge,h=Ext.clone,i,j,k,l;d<e;d++)for(j in i=arguments[d],i)(k=i[j])&&k.constructor===Object?(l=a[j])&&l.constructor===Object?g(l,k):a[j]=h(k):a[j]=k;return a},mergeIf:function(a){for(var b=1,e=arguments.length,g=Ext.clone,h,i,j;b<e;b++)for(i in h=arguments[b],h)i in a||(j=h[i],a[i]=j&&j.constructor===Object?g(j):j);return a},getKey:function(a,
b){for(var e in a)if(a.hasOwnProperty(e)&&a[e]===b)return e;return null},getValues:function(a){var b=[],e;for(e in a)a.hasOwnProperty(e)&&b.push(a[e]);return b},getKeys:"function"==typeof Object.keys?function(a){return!a?[]:Object.keys(a)}:function(a){var b=[],e;for(e in a)a.hasOwnProperty(e)&&b.push(e);return b},getSize:function(a){var b=0,e;for(e in a)a.hasOwnProperty(e)&&b++;return b},classify:function(a){var d=[],e={},g=function(){for(var a=0,b=d.length,c;a<b;a++)c=d[a],this[c]=new e[c]},h,i;
for(h in a)if(a.hasOwnProperty(h)&&(i=a[h])&&i.constructor===Object)d.push(h),e[h]=b.classify(i);g.prototype=a;return g}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf;Ext.urlEncode=function(){var a=Ext.Array.from(arguments),d="";"string"===typeof a[1]&&(d=a[1]+"&",a[1]=!1);return d+b.toQueryString.apply(b,a)};Ext.urlDecode=function(){return b.fromQueryString.apply(b,arguments)}})();
(function(){function a(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})}Ext.Date={now:Date.now||function(){return+new Date},toString:function(a){var b=Ext.String.leftPad;return a.getFullYear()+"-"+b(a.getMonth()+1,2,"0")+"-"+b(a.getDate(),2,"0")+"T"+b(a.getHours(),2,"0")+":"+b(a.getMinutes(),2,"0")+":"+b(a.getSeconds(),2,"0")},getElapsed:function(a,b){return Math.abs(a-(b||new Date))},useStrict:!1,formatCodeToRegex:function(c,d){var e=b.parseCodes[c];
e&&(e="function"==typeof e?e():e,b.parseCodes[c]=e);return e?Ext.applyIf({c:e.c?a(e.c,d||"{0}"):e.c},e):{g:0,c:null,s:Ext.String.escapeRegex(c)}},parseFunctions:{MS:function(a){return(a=(a||"").match(/\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\//))?new Date(1*((a[1]||"")+a[2])):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
monthNames:"January February March April May June July August September October November December".split(" "),monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(a){return Ext.Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Ext.Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Ext.Date.monthNumbers[a.substring(0,
1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(){var a=/(\\.)/g,b=/([gGhHisucUOPZ]|MS)/;return function(e){return b.test(e.replace(a,""))}}(),formatContainsDateInfo:function(){var a=/(\\.)/g,b=/([djzmnYycU]|MS)/;return function(e){return b.test(e.replace(a,""))}}(),unescapeFormat:function(){var a=/\\/gi;return function(b){return b.replace(a,"")}}(),formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",
l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",
Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",
O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var a,d,e;a=[];for(d=0;12>d;++d)e="Y-m-dTH:i:sP".charAt(d),a.push("T"==e?"'T'":b.getFormatCode(e));return a.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(a,d,e,g,h,i,j){var g=g||0,h=h||0,i=i||0,j=j||0,k=b.add(new Date(100>a?100:a,d-1,e,g,h,i,j),b.YEAR,100>a?a-100:0);return a==k.getFullYear()&&d==k.getMonth()+1&&e==k.getDate()&&
g==k.getHours()&&h==k.getMinutes()&&i==k.getSeconds()&&j==k.getMilliseconds()},parse:function(a,d,e){var g=b.parseFunctions;null==g[d]&&b.createParser(d);return g[d](a,Ext.isDefined(e)?e:b.useStrict)},parseDate:function(a,d,e){return b.parse(a,d,e)},getFormatCode:function(a){var d=b.formatCodes[a];d&&(d="function"==typeof d?d():d,b.formatCodes[a]=d);return d||"'"+Ext.String.escape(a)+"'"},createFormat:function(a){var d=[],e=!1,g="",h;for(h=0;h<a.length;++h)g=a.charAt(h),!e&&"\\"==g?e=!0:e?(e=!1,d.push("'"+
Ext.String.escape(g)+"'")):d.push(b.getFormatCode(g));b.formatFunctions[a]=Ext.functionFactory("return "+d.join("+"))},createParser:function(){return function(c){for(var d=b.parseRegexes.length,e=1,g=[],h=[],i=!1,j="",k=0,l=c.length,m=[];k<l;++k)j=c.charAt(k),!i&&"\\"==j?i=!0:i?(i=!1,h.push(Ext.String.escape(j))):(j=b.formatCodeToRegex(j,e),e+=j.g,h.push(j.s),j.g&&j.c&&(j.calcAtEnd?m.push(j.c):g.push(j.c)));g=g.concat(m);b.parseRegexes[d]=RegExp("^"+h.join("")+"$","i");b.parseFunctions[c]=Ext.functionFactory("input",
"strict",a("var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,\ndef = Ext.Date.defaults,\nresults = String(input).match(Ext.Date.parseRegexes[{0}]);\nif(results){\n{1}\nif(u != null){\nv = new Date(u * 1000);\n}else{\ndt = Ext.Date.clearTime(new Date);\ny = Ext.Number.from(y, Ext.Number.from(def.y, dt.getFullYear()));\nm = Ext.Number.from(m, Ext.Number.from(def.m - 1, dt.getMonth()));\nd = Ext.Number.from(d, Ext.Number.from(def.d, dt.getDate()));\nh  = Ext.Number.from(h, Ext.Number.from(def.h, dt.getHours()));\ni  = Ext.Number.from(i, Ext.Number.from(def.i, dt.getMinutes()));\ns  = Ext.Number.from(s, Ext.Number.from(def.s, dt.getSeconds()));\nms = Ext.Number.from(ms, Ext.Number.from(def.ms, dt.getMilliseconds()));\nif(z >= 0 && y >= 0){\nv = Ext.Date.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);\nv = !strict? v : (strict === true && (z <= 364 || (Ext.Date.isLeapYear(v) && z <= 365))? Ext.Date.add(v, Ext.Date.DAY, z) : null);\n}else if(strict === true && !Ext.Date.isValid(y, m + 1, d, h, i, s, ms)){\nv = null;\n}else{\nv = Ext.Date.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);\n}\n}\n}\nif(v){\nif(zz != null){\nv = Ext.Date.add(v, Ext.Date.SECOND, -v.getTimezoneOffset() * 60 - zz);\n}else if(o){\nv = Ext.Date.add(v, Ext.Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));\n}\n}\nreturn v;",
d,g.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var a=[],d=0;7>d;a.push(b.getShortDayName(d)),++d);return{g:0,c:null,s:"(?:"+a.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+b.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},
W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Ext.Date.getMonthNumber(results[{0}]), 10);\n",s:"("+b.monthNames.join("|")+")"}},M:function(){for(var a=[],d=0;12>d;a.push(b.getShortMonthName(d)),++d);return Ext.applyIf({s:"("+a.join("|")+")"},b.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return b.formatCodeToRegex("Y")},
Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Ext.Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,
c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:"o = results[{0}];\nvar sn = o.substring(0,1),\nhr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),\nmn = o.substring(3,5) % 60;\no = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",
s:"([+-]\\d{4})"},P:{g:1,c:"o = results[{0}];\nvar sn = o.substring(0,1),\nhr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),\nmn = o.substring(4,6) % 60;\no = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var a=[],d=[b.formatCodeToRegex("Y",
1),b.formatCodeToRegex("m",2),b.formatCodeToRegex("d",3),b.formatCodeToRegex("H",4),b.formatCodeToRegex("i",5),b.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {\nif(results[8] == 'Z'){\nzz = 0;\n}else if (results[8].indexOf(':') > -1){",b.formatCodeToRegex("P",8).c,"}else{",b.formatCodeToRegex("O",8).c,"}\n}"].join("\n")}],e,g;e=0;for(g=d.length;e<g;++e)a.push(d[e].c);return{g:1,c:a.join(""),s:[d[0].s,"(?:-",d[1].s,
"(?:-",d[2].s,"(?:(?:T| )?",d[3].s,":",d[4].s,"(?::",d[5].s,")?(?:(?:\\.|,)(\\d+))?(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?)?)?)?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(a,d){return b.format(a,d)},isEqual:function(a,b){return a&&b?a.getTime()===b.getTime():!(a||b)},format:function(a,d){var e=b.formatFunctions;if(!Ext.isDate(a))return"";null==e[d]&&b.createFormat(d);return e[d].call(a)+""},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,
"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a,b){var e=a.getTimezoneOffset();return(0<e?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(e)/60),2,"0")+(b?":":"")+Ext.String.leftPad(Math.abs(e%60),2,"0")},getDayOfYear:function(a){var d=0,e=Ext.Date.clone(a),g=a.getMonth(),h;h=0;e.setDate(1);for(e.setMonth(0);h<g;e.setMonth(++h))d+=b.getDaysInMonth(e);return d+a.getDate()-1},getWeekOfYear:function(){return function(a){var a=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()+3)/864E5,a=Math.floor(a/
7),b=(new Date(6048E5*a)).getUTCFullYear();return a-Math.floor(Date.UTC(b,0,7)/6048E5)+1}}(),isLeapYear:function(a){a=a.getFullYear();return!!(0==(a&3)&&(a%100||0==a%400&&a))},getFirstDayOfMonth:function(a){a=(a.getDay()-(a.getDate()-1))%7;return 0>a?a+7:a},getLastDayOfMonth:function(a){return b.getLastDateOfMonth(a).getDay()},getFirstDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),b.getDaysInMonth(a))},
getDaysInMonth:function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(d){var e=d.getMonth();return 1==e&&b.isLeapYear(d)?29:a[e]}}(),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(a){return new Date(a.getTime())},isDST:function(a){return(new Date(a.getFullYear(),0,1)).getTimezoneOffset()!=a.getTimezoneOffset()},clearTime:function(a,d){if(d)return Ext.Date.clearTime(Ext.Date.clone(a));
var e=a.getDate(),g,h;a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);if(a.getDate()!=e){g=1;for(h=b.add(a,Ext.Date.HOUR,g);h.getDate()!=e;g++,h=b.add(a,Ext.Date.HOUR,g));a.setDate(e);a.setHours(h.getHours())}return a},add:function(a,b,e){var g=Ext.Date.clone(a);if(!b||0===e)return g;switch(b.toLowerCase()){case Ext.Date.MILLI:g.setMilliseconds(g.getMilliseconds()+e);break;case Ext.Date.SECOND:g.setSeconds(g.getSeconds()+e);break;case Ext.Date.MINUTE:g.setMinutes(g.getMinutes()+
e);break;case Ext.Date.HOUR:g.setHours(g.getHours()+e);break;case Ext.Date.DAY:g.setDate(g.getDate()+e);break;case Ext.Date.MONTH:b=a.getDate();28<b&&(b=Math.min(b,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(a),Ext.Date.MONTH,e)).getDate()));g.setDate(b);g.setMonth(a.getMonth()+e);break;case Ext.Date.YEAR:b=a.getDate(),28<b&&(b=Math.min(b,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(a),Ext.Date.YEAR,e)).getDate())),g.setDate(b),g.setFullYear(a.getFullYear()+
e)}return g},between:function(a,b,e){a=a.getTime();return b.getTime()<=a&&a<=e.getTime()},compat:function(){var a=window.Date,d;d="useStrict formatCodeToRegex parseFunctions parseRegexes formatFunctions y2kYear MILLI SECOND MINUTE HOUR DAY MONTH YEAR defaults dayNames monthNames monthNumbers getShortMonthName getShortDayName getMonthNumber formatCodes isValid parseDate getFormatCode createFormat createParser parseCodes".split(" ");var e="dateFormat format getTimezone getGMTOffset getDayOfYear getWeekOfYear isLeapYear getFirstDayOfMonth getLastDayOfMonth getDaysInMonth getSuffix clone isDST clearTime add between".split(" "),
g=d.length,h=e.length,i,j,k;for(k=0;k<g;k++)i=d[k],a[i]=b[i];for(d=0;d<h;d++)j=e[d],a.prototype[j]=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this);return b[j].apply(b,a)}}};var b=Ext.Date})();
(function(a){var b=[],c=function(){};Ext.apply(c,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(a){var b=a.prototype,c,h,i,j;h=this.prototype=Ext.Object.chain(b);h.self=this;this.superclass=h.superclass=b;if(!a.$isClass)for(i in c=Ext.Base.prototype,c)i in h&&(h[i]=c[i]);if(j=b.$inheritableStatics){i=0;for(b=j.length;i<b;i++)c=j[i],this.hasOwnProperty(c)||(this[c]=a[c])}a.$onExtended&&(this.$onExtended=
a.$onExtended.slice());h.config=new h.configClass;h.initConfigList=h.initConfigList.slice();h.initConfigMap=Ext.clone(h.initConfigMap);h.configMap=Ext.Object.chain(h.configMap)},$onExtended:[],triggerExtended:function(){var a=this.$onExtended,b=a.length,c,h;if(0<b)for(c=0;c<b;c++)h=a[c],h.fn.apply(h.scope||this,arguments)},onExtended:function(a,b){this.$onExtended.push({fn:a,scope:b});return this},addConfig:function(a,b){var c=this.prototype,h=Ext.Class.configNameCache,i=c.configMap,j=c.initConfigList,
k=c.initConfigMap,l=c.config,m,n,o;for(n in a)a.hasOwnProperty(n)&&(i[n]||(i[n]=!0),o=a[n],m=h[n].initialized,!k[n]&&(null!==o&&!c[m])&&(k[n]=!0,j.push(n)));b?Ext.merge(l,a):Ext.mergeIf(l,a);c.configClass=Ext.Object.classify(l)},addStatics:function(a){var b,c;for(c in a)a.hasOwnProperty(c)&&(b=a[c],"function"==typeof b&&(!b.$isClass&&b!==Ext.emptyFn&&b!==Ext.identityFn)&&(b.$owner=this,b.$name=c,b.displayName=Ext.getClassName(this)+"."+c),this[c]=b);return this},addInheritableStatics:function(a){var b,
c,h=this.prototype,i;b=h.$inheritableStatics;c=h.$hasInheritableStatics;b||(b=h.$inheritableStatics=[],c=h.$hasInheritableStatics={});for(i in a)if(a.hasOwnProperty(i)&&(h=a[i],"function"==typeof h&&(h.displayName=Ext.getClassName(this)+"."+i),this[i]=h,!c[i]))c[i]=!0,b.push(i);return this},addMembers:function(a){var b=this.prototype,c=Ext.enumerables,h=[],i,j,k;for(j in a)h.push(j);c&&h.push.apply(h,c);c=0;for(i=h.length;c<i;c++)j=h[c],a.hasOwnProperty(j)&&(k=a[j],"function"==typeof k&&(!k.$isClass&&
k!==Ext.emptyFn)&&(k.$owner=this,k.$name=j,k.displayName=(this.$className||"")+"#"+j),b[j]=k);return this},addMember:function(a,b){"function"==typeof b&&(!b.$isClass&&b!==Ext.emptyFn)&&(b.$owner=this,b.$name=a,b.displayName=(this.$className||"")+"#"+a);this.prototype[a]=b;return this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(a,b){var c=this.prototype,h=a.prototype,i=Ext.getClassName(this),j,k,l,m,b=Ext.Array.from(b);j=0;for(k=b.length;j<k;j++)l=b[j],m=h[l],"function"==
typeof m&&(m=Ext.Function.clone(m),i&&(m.displayName=i+"#"+l),m.$owner=this,m.$name=l),c[l]=m;return this},override:function(a){var b=Ext.enumerables,c=this.prototype,h=Ext.Function.clone,i,j,k,l,m,n;2===arguments.length&&(i=a,a={},a[i]=arguments[1],b=null);do{m=[];l=null;for(i in a)"statics"==i?l=a[i]:"config"==i?this.addConfig(a[i],!0):m.push(i);b&&m.push.apply(m,b);for(j=m.length;j--;)if(i=m[j],a.hasOwnProperty(i)){k=a[i];if("function"==typeof k&&(!k.$className&&k!==Ext.emptyFn)&&("undefined"!=
typeof k.$owner&&(k=h(k)),this.$className&&(k.displayName=this.$className+"#"+i),k.$owner=this,k.$name=i,n=c[i]))k.$previous=n;c[i]=k}c=this;a=l}while(a);return this},callParent:function(a){var c;return(c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},callSuper:function(a){var c;return(c=this.callSuper.caller)&&((c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},mixin:function(a,b){var c=b.prototype,h=
this.prototype,i;"undefined"!=typeof c.onClassMixedIn&&c.onClassMixedIn.call(b,this);h.hasOwnProperty("mixins")||(h.mixins="mixins"in h?Ext.Object.chain(h.mixins):{});for(i in c)"mixins"===i?Ext.merge(h.mixins,c[i]):"undefined"==typeof h[i]&&("mixinId"!=i&&"config"!=i)&&(h[i]=c[i]);"config"in c&&this.addConfig(c.config,!1);h.mixins[a]=c},getName:function(){return Ext.getClassName(this)},createAlias:a(function(a,b){this.override(a,function(){return this[b].apply(this,arguments)})}),addXtype:function(a){var b=
this.prototype,c=b.xtypesMap,h=b.xtypes,i=b.xtypesChain;b.hasOwnProperty("xtypesMap")||(c=b.xtypesMap=Ext.merge({},b.xtypesMap||{}),h=b.xtypes=b.xtypes?[].concat(b.xtypes):[],i=b.xtypesChain=b.xtypesChain?[].concat(b.xtypesChain):[],b.xtype=a);c[a]||(c[a]=!0,h.push(a),i.push(a),Ext.ClassManager.setAlias(this,"widget."+a));return this}});c.implement({isInstance:!0,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var a=this.statics.caller,
b=this.self;return!a?b:a.$owner},callParent:function(a){var c,g=(c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name]);if(!g){c=this.callParent.caller;var h;if(!c.$owner){if(!c.caller)throw Error("Attempting to call a protected method from the public scope, which is not allowed");c=c.caller}h=c.$owner.superclass;c=c.$name;if(!(c in h))throw Error("this.callParent() was called but there's no such method ("+c+") found in the parent class ("+(Ext.getClassName(h)||
"Object")+")");}return g.apply(this,a||b)},callSuper:function(a){var c,g=(c=this.callSuper.caller)&&(c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name];if(!g){c=this.callSuper.caller;var h;if(!c.$owner){if(!c.caller)throw Error("Attempting to call a protected method from the public scope, which is not allowed");c=c.caller}h=c.$owner.superclass;c=c.$name;if(!(c in h))throw Error("this.callSuper() was called but there's no such method ("+c+") found in the parent class ("+(Ext.getClassName(h)||"Object")+
")");}return g.apply(this,a||b)},self:c,constructor:function(){return this},initConfig:function(a){var b=a,c=Ext.Class.configNameCache,h=new this.configClass,i=this.initConfigList,j=this.configMap,k,l;this.initConfig=Ext.emptyFn;this.initialConfig=b||{};this.config=a=b?Ext.merge(h,a):h;if(b)for(k in i=i.slice(),b)j[k]&&null!==b[k]&&(i.push(k),this[c[k].initialized]=!1);h=0;for(j=i.length;h<j;h++)k=i[h],b=c[k],l=b.initialized,this[l]||(this[l]=!0,this[b.set].call(this,a[k]));return this},hasConfig:function(a){return Boolean(this.configMap[a])},
setConfig:function(a,b){if(!a)return this;var c=Ext.Class.configNameCache,h=this.config,i=this.configMap,j=this.initialConfig,k,l,b=Boolean(b);for(k in a)if(!b||!j.hasOwnProperty(k))if(l=a[k],h[k]=l,i[k])this[c[k].set](l);return this},getConfig:function(a){return this[Ext.Class.configNameCache[a].get]()},getInitialConfig:function(a){var b=this.config;return a?b[a]:b},onConfigUpdate:function(a,b,c){var h=this.self,i=h.$className,j,k,l,m,n,a=Ext.Array.from(a),c=c||this;j=0;for(k=a.length;j<k;j++)l=
a[j],l="update"+Ext.String.capitalize(l),m=this[l]||Ext.emptyFn,n=function(){m.apply(this,arguments);c[b].apply(c,arguments)},n.$name=l,n.$owner=h,n.displayName=i+"#"+l,this[l]=n},destroy:function(){this.destroy=Ext.emptyFn}});c.prototype.callOverridden=c.prototype.callParent;Ext.Base=c})(Ext.Function.flexSetter);
(function(){function a(a){function b(){return this.constructor.apply(this,arguments)||null}a&&(b.displayName=a);return b}var b,c=Ext.Base,d=[],e,g;for(e in c)c.hasOwnProperty(e)&&d.push(e);g=d.length;Ext.Class=b=function(a,c,d){"function"!=typeof a&&(d=c,c=a,a=null);c||(c={});a=b.create(a,c);b.process(a,c,d);return a};Ext.apply(b,{onBeforeCreated:function(a,b,c){a.addMembers(b);c.onCreated.call(a,a)},create:function(b,e){var j,k;b||(b=a(e.$className));for(k=0;k<g;k++)j=d[k],b[j]=c[j];return b},process:function(a,
c,d){var e=c.preprocessors||b.defaultPreprocessors,g=this.preprocessors,m={onBeforeCreated:this.onBeforeCreated},n=[],o,p,q,r,s,t,u;delete c.preprocessors;q=0;for(r=e.length;q<r;q++)if(o=e[q],"string"==typeof o)if(o=g[o],p=o.properties,!0===p)n.push(o.fn);else{if(p){s=0;for(t=p.length;s<t;s++)if(u=p[s],c.hasOwnProperty(u)){n.push(o.fn);break}}}else n.push(o);m.onCreated=d?d:Ext.emptyFn;m.preprocessors=n;this.doProcess(a,c,m)},doProcess:function(a,b,c){var d=c.preprocessors.shift();d?!1!==d.call(this,
a,b,c,this.doProcess)&&this.doProcess(a,b,c):c.onBeforeCreated.apply(this,arguments)},preprocessors:{},registerPreprocessor:function(a,b,c,d,e){d||(d="last");c||(c=[a]);this.preprocessors[a]={name:a,properties:c||!1,fn:b};this.setDefaultPreprocessorPosition(a,d,e);return this},getPreprocessor:function(a){return this.preprocessors[a]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(a){this.defaultPreprocessors=
Ext.Array.from(a);return this},setDefaultPreprocessorPosition:function(a,b,c){var d=this.defaultPreprocessors;if("string"==typeof b){if("first"===b)return d.unshift(a),this;if("last"===b)return d.push(a),this;b="after"===b?1:-1}c=Ext.Array.indexOf(d,c);-1!==c&&Ext.Array.splice(d,Math.max(0,c+b),0,a);return this},configNameCache:{},getConfigNameMap:function(a){var b=this.configNameCache,c=b[a];c||(c=a.charAt(0).toUpperCase()+a.substr(1),c=b[a]={internal:a,initialized:"_is"+c+"Initialized",apply:"apply"+
c,update:"update"+c,set:"set"+c,get:"get"+c,doSet:"doSet"+c,changeEvent:a.toLowerCase()+"change"});return c}});b.registerPreprocessor("extend",function(a,b){var c=Ext.Base,d=c.prototype,e=b.extend,g;delete b.extend;c=e&&e!==Object?e:c;e=c.prototype;if(!c.$isClass)for(g in d)e[g]||(e[g]=d[g]);a.extend(c);a.triggerExtended.apply(a,arguments);b.onClassExtended&&(a.onExtended(b.onClassExtended,a),delete b.onClassExtended)},!0);b.registerPreprocessor("statics",function(a,b){a.addStatics(b.statics);delete b.statics});
b.registerPreprocessor("inheritableStatics",function(a,b){a.addInheritableStatics(b.inheritableStatics);delete b.inheritableStatics});b.registerPreprocessor("config",function(a,c){var d=c.config,e=a.prototype;delete c.config;Ext.Object.each(d,function(a,d){var g=b.getConfigNameMap(a),h=g.internal,j=g.initialized,q=g.apply,r=g.update,s=g.set,t=g.get,g=s in e||c.hasOwnProperty(s),u=q in e||c.hasOwnProperty(q),v=r in e||c.hasOwnProperty(r),w,y;null===d||!g&&!u&&!v?(e[h]=d,e[j]=!0):e[j]=!1;g||(c[s]=function(a){var b=
this[h],c=this[q],d=this[r];this[j]||(this[j]=true);c&&(a=c.call(this,a,b));if(typeof a!="undefined"){this[h]=a;d&&a!==b&&d.call(this,a,b)}return this});if(!(t in e)||c.hasOwnProperty(t))w=(y=c[t]||!1)?function(){return y.apply(this,arguments)}:function(){return this[h]},c[t]=function(){var b;if(!this[j]){this[j]=true;this[s](this.config[a])}b=this[t];"$previous"in b?b.$previous=w:this[t]=w;return w.apply(this,arguments)}});a.addConfig(d,!0)});b.registerPreprocessor("mixins",function(a,b,c){var d=
b.mixins,e,g,n,o;delete b.mixins;Ext.Function.interceptBefore(c,"onCreated",function(){if(d instanceof Array){n=0;for(o=d.length;n<o;n++)g=d[n],e=g.prototype.mixinId||g.$className,a.mixin(e,g)}else for(var b in d)d.hasOwnProperty(b)&&a.mixin(b,d[b])})});Ext.extend=function(a,c,d){2===arguments.length&&Ext.isObject(c)&&(d=c,c=a,a=null);var e;if(!c)throw Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");d.extend=c;d.preprocessors=["extend","statics","inheritableStatics",
"mixins","config"];a?(e=new b(a,d),e.prototype.constructor=a):e=new b(d);e.prototype.override=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])};return e}})();
(function(a,b,c,d,e){function g(){return function(){return this.constructor.apply(this,arguments)||null}}var h=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(a){var b=this.existCache,c,d,g,h,o;if("string"!=typeof a||1>a.length)throw Error("[Ext.ClassManager] Invalid classname, must be a string and must not be empty");
if(this.classes[a]||b[a])return!0;h=e;o=this.parseNamespace(a);c=0;for(d=o.length;c<d;c++)if(g=o[c],"string"!=typeof g)h=g;else{if(!h||!h[g])return!1;h=h[g]}b[a]=!0;this.triggerCreated(a);return!0},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(a){var b=this.createdListeners,c=this.nameCreatedListeners,d=this.maps.nameToAlternates[a],e=[a],g,h,p,q;g=0;for(h=b.length;g<h;g++)p=b[g],p.fn.call(p.scope,a);d&&e.push.apply(e,d);g=0;for(h=e.length;g<h;g++)if(q=e[g],b=c[q]){a=0;for(d=
b.length;a<d;a++)p=b[a],p.fn.call(p.scope,q);delete c[q]}},onCreated:function(a,b,c){var d=this.createdListeners,e=this.nameCreatedListeners,g={fn:a,scope:b};c?this.isCreated(c)?a.call(b,c):(e[c]||(e[c]=[]),e[c].push(g)):d.push(g)},parseNamespace:function(a){if("string"!=typeof a)throw Error("[Ext.ClassManager] Invalid namespace, must be a string");var b=this.namespaceParseCache,c,d,g,h,o,p,q,r;if(this.enableNamespaceParseCache&&b.hasOwnProperty(a))return b[a];c=[];d=this.namespaceRewrites;g=e;h=
a;q=0;for(r=d.length;q<r;q++)if(o=d[q],p=o.from,o=o.to,h===p||h.substring(0,p.length)===p){h=h.substring(p.length);"string"!=typeof o?g=o:c=c.concat(o.split("."));break}c.push(g);c=c.concat(h.split("."));this.enableNamespaceParseCache&&(b[a]=c);return c},setNamespace:function(a,b){var c=e,d=this.parseNamespace(a),g=d.length-1,h=d[g],o,p;for(o=0;o<g;o++)p=d[o],"string"!=typeof p?c=p:(c[p]||(c[p]={}),c=c[p]);c[h]=b;return c[h]},createNamespaces:function(){var a=e,b,c,d,g,h,o;d=0;for(h=arguments.length;d<
h;d++){b=this.parseNamespace(arguments[d]);g=0;for(o=b.length;g<o;g++)c=b[g],"string"!=typeof c?a=c:(a[c]||(a[c]={}),a=a[c])}return a},set:function(a,b){var c=this.maps,d=c.nameToAlternates,e=this.getName(b);this.classes[a]=this.setNamespace(a,b);e&&e!==a&&(c.alternateToName[a]=e,c=d[e]||(d[e]=[]),c.push(a));return this},get:function(a){var b=this.classes,c,d,g;if(b[a])return b[a];b=e;a=this.parseNamespace(a);d=0;for(g=a.length;d<g;d++)if(c=a[d],"string"!=typeof c)b=c;else{if(!b||!b[c])return null;
b=b[c]}return b},setAlias:function(a,b){var c=this.maps.aliasToName,d=this.maps.nameToAliases,g;g="string"==typeof a?a:this.getName(a);b&&c[b]!==g&&(c[b]&&Ext.isDefined(e.console)&&e.console.log("[Ext.ClassManager] Overriding existing alias: '"+b+"' of: '"+c[b]+"' with: '"+g+"'. Be sure it's intentional."),c[b]=g);d[g]||(d[g]=[]);b&&Ext.Array.include(d[g],b);return this},addNameAliasMappings:function(a){var b=this.maps.aliasToName,c=this.maps.nameToAliases,d,e,g,h;for(d in a){e=c[d]||(c[d]=[]);for(h=
0;h<a[d].length;h++)g=a[d][h],b[g]||(b[g]=d,e.push(g))}return this},addNameAlternateMappings:function(a){var b=this.maps.alternateToName,c=this.maps.nameToAlternates,d,e,g,h;for(d in a){e=c[d]||(c[d]=[]);for(h=0;h<a[d].length;h++)g=a[d],b[g]||(b[g]=d,e.push(g))}return this},getByAlias:function(a){return this.get(this.getNameByAlias(a))},getNameByAlias:function(a){return this.maps.aliasToName[a]||""},getNameByAlternate:function(a){return this.maps.alternateToName[a]||""},getAliasesByName:function(a){return this.maps.nameToAliases[a]||
[]},getName:function(a){return a&&a.$className||""},getClass:function(a){return a&&a.self||null},create:function(b,c,d){if(null!=b&&"string"!=typeof b)throw Error("[Ext.define] Invalid class name '"+b+"' specified, must be a non-empty string");var e=g();"function"==typeof c&&(c=c(e));b&&(e.displayName=b);c.$className=b;return new a(e,c,function(){var a=c.postprocessors||h.defaultPostprocessors,e=h.postprocessors,g=[],l,q,r,s,t,u,v;delete c.postprocessors;q=0;for(r=a.length;q<r;q++){l=a[q];if(typeof l==
"string"){l=e[l];u=l.properties;if(u===true)g.push(l.fn);else if(u){s=0;for(t=u.length;s<t;s++){v=u[s];if(c.hasOwnProperty(v)){g.push(l.fn);break}}}}else g.push(l)}c.postprocessors=g;c.createdFn=d;h.processCreate(b,this,c)})},processCreate:function(a,b,c){var d=c.postprocessors.shift(),e=c.createdFn;d?!1!==d.call(this,a,b,c,this.processCreate)&&this.processCreate(a,b,c):(a&&this.set(a,b),e&&e.call(b,b),a&&this.triggerCreated(a))},createOverride:function(a,b,c){var d=this,e=b.override,g=b.requires,
h=b.uses,p=function(){var q;g?(q=g,g=null,Ext.Loader.require(q,p)):(q=d.get(e),delete b.override,delete b.requires,delete b.uses,Ext.override(q,b),d.triggerCreated(a),h&&Ext.Loader.addUsedClasses(h),c&&c.call(q))};d.existCache[a]=!0;d.onCreated(p,d,e);return d},instantiateByAlias:function(){var a=arguments[0],b=c.call(arguments),d=this.getNameByAlias(a);if(!d){d=this.maps.aliasToName[a];if(!d)throw Error("[Ext.createByAlias] Cannot create an instance of unrecognized alias: "+a);e.console&&e.console.warn("[Ext.Loader] Synchronously loading '"+
d+"'; consider adding Ext.require('"+a+"') above Ext.onReady");Ext.syncRequire(d)}b[0]=d;return this.instantiate.apply(this,b)},instantiate:function(){var a=arguments[0],b=typeof a,d=c.call(arguments,1),g=a,h;if("function"!=b){"string"!=b&&0===d.length&&(d=[a],a=a.xclass);if("string"!=typeof a||1>a.length)throw Error("[Ext.create] Invalid class name or alias '"+a+"' specified, must be a non-empty string");b=this.get(a)}else b=a;if(!b&&(h=this.getNameByAlias(a)))a=h,b=this.get(a);if(!b&&(h=this.getNameByAlternate(a)))a=
h,b=this.get(a);b||(e.console&&e.console.warn("[Ext.Loader] Synchronously loading '"+a+"'; consider adding Ext.require('"+(h?g:a)+"') above Ext.onReady"),Ext.syncRequire(a),b=this.get(a));if(!b)throw Error("[Ext.create] Cannot create an instance of unrecognized class name / alias: "+g);if("function"!=typeof b)throw Error("[Ext.create] '"+a+"' is a singleton and cannot be instantiated");return this.getInstantiator(d.length)(b,d)},dynInstantiate:function(a,b){b=d(b,!0);b.unshift(a);return this.instantiate.apply(this,
b)},getInstantiator:function(a){var b=this.instantiators,c,d;c=b[a];if(!c){d=[];for(c=0;c<a;c++)d.push("a["+c+"]");c=b[a]=new Function("c","a","return new c("+d.join(",")+")");c.displayName="Ext.ClassManager.instantiate"+a}return c},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(a,b,c,d,e){d||(d="last");c||(c=[a]);this.postprocessors[a]={name:a,properties:c||!1,fn:b};this.setDefaultPostprocessorPosition(a,d,e);return this},setDefaultPostprocessors:function(a){this.defaultPostprocessors=
d(a);return this},setDefaultPostprocessorPosition:function(a,b,c){var d=this.defaultPostprocessors;if("string"==typeof b){if("first"===b)return d.unshift(a),this;if("last"===b)return d.push(a),this;b="after"===b?1:-1}c=Ext.Array.indexOf(d,c);-1!==c&&Ext.Array.splice(d,Math.max(0,c+b),0,a);return this},getNamesByExpression:function(a){var b=this.maps.nameToAliases,c=[],d,e,g,h,p;if("string"!=typeof a||1>a.length)throw Error("[Ext.ClassManager.getNamesByExpression] Expression "+a+" is invalid, must be a non-empty string");
if(-1!==a.indexOf("*"))for(d in a=a.replace(/\*/g,"(.*?)"),g=RegExp("^"+a+"$"),b){if(b.hasOwnProperty(d))if(e=b[d],-1!==d.search(g))c.push(d);else{h=0;for(p=e.length;h<p;h++)if(a=e[h],-1!==a.search(g)){c.push(d);break}}}else(b=this.getNameByAlias(a))?c.push(b):(b=this.getNameByAlternate(a))?c.push(b):c.push(a);return c}};h.registerPostprocessor("alias",function(a,c,d){var a=d.alias,e,d=0;for(e=a.length;d<e;d++)b=a[d],this.setAlias(c,b)},["xtype","alias"]);h.registerPostprocessor("singleton",function(a,
b,c,d){d.call(this,a,new b,c);return!1});h.registerPostprocessor("alternateClassName",function(a,b,c){var c=c.alternateClassName,d,e,g;c instanceof Array||(c=[c]);d=0;for(e=c.length;d<e;d++){g=c[d];if("string"!=typeof g)throw Error("[Ext.define] Invalid alternate of: '"+g+"' for class: '"+a+"'; must be a valid string");this.set(g,b)}});Ext.apply(Ext,{create:b(h,"instantiate"),widget:function(a,b){var c=a,d,e;"string"!=typeof c?(b=a,c=b.xtype):b=b||{};if(b.isComponent)return b;c="widget."+c;(d=h.getNameByAlias(c))||
(e=!0);d=h.get(d);return e||!d?h.instantiateByAlias(c,b):new d(b)},createByAlias:b(h,"instantiateByAlias"),define:function(a,b,c){return b.override?h.createOverride.apply(h,arguments):h.create.apply(h,arguments)},getClassName:b(h,"getName"),getDisplayName:function(a){if(a){if(a.displayName)return a.displayName;if(a.$name&&a.$class)return Ext.getClassName(a.$class)+"#"+a.$name;if(a.$className)return a.$className}return"Anonymous"},getClass:b(h,"getClass"),namespace:b(h,"createNamespaces")});Ext.createWidget=
Ext.widget;Ext.ns=Ext.namespace;a.registerPreprocessor("className",function(a,b){b.$className&&(a.$className=b.$className,a.displayName=a.$className)},!0,"first");a.registerPreprocessor("alias",function(a,b){var c=a.prototype,e=d(b.xtype),g=d(b.alias),h=Array.prototype.slice.call(c.xtypesChain||[]),o=Ext.merge({},c.xtypesMap||{}),p,q,r,s;p=0;for(q=g.length;p<q;p++){r=g[p];if("string"!=typeof r||1>r.length)throw Error("[Ext.define] Invalid alias of: '"+r+"' for class: '"+name+"'; must be a valid string");
"widget."===r.substring(0,7)&&(s=r.substring(7),Ext.Array.include(e,s))}a.xtype=b.xtype=e[0];b.xtypes=e;p=0;for(q=e.length;p<q;p++)s=e[p],o[s]||(o[s]=!0,h.push(s));b.xtypesChain=h;b.xtypesMap=o;Ext.Function.interceptAfter(b,"onClassCreated",function(){var a=c.mixins,b,d;for(b in a)if(a.hasOwnProperty(b)&&(d=a[b],e=d.xtypes)){p=0;for(q=e.length;p<q;p++)s=e[p],o[s]||(o[s]=!0,h.push(s))}});p=0;for(q=e.length;p<q;p++){s=e[p];if("string"!=typeof s||1>s.length)throw Error("[Ext.define] Invalid xtype of: '"+
s+"' for class: '"+name+"'; must be a valid non-empty string");Ext.Array.include(g,"widget."+s)}b.alias=g},["xtype","alias"])})(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global);
Ext.Loader=new function(){var a=this,b=Ext.ClassManager,c=Ext.Class,d=Ext.Function.flexSetter,e=Ext.Function.alias,g=Ext.Function.pass,h=Ext.Function.defer,i=Ext.Array.erase,j="undefined"==typeof window,k=j&&"function"==typeof require,l=j&&"undefined"!=typeof system&&-1!==system.program.search(/jsdb/),m="undefined"!=typeof phantom&&phantom.fs,n=["extend","mixins","requires"],o={},p=[],q=/\/\.\//g,r=/\./g;Ext.apply(a,{isInHistory:o,history:p,config:{enabled:!1,scriptChainDelay:!1,disableCaching:!0,
disableCachingParam:"_dc",garbageCollect:!1,paths:{Ext:"."},preserveScripts:!0,scriptCharset:void 0},setConfig:function(b,c){Ext.isObject(b)&&1===arguments.length?Ext.merge(a.config,b):a.config[b]=Ext.isObject(c)?Ext.merge(a.config[b],c):c;return a},getConfig:function(b){return b?a.config[b]:a.config},setPath:d(function(b,c){a.config.paths[b]=c;return a}),addClassPathMappings:function(b){for(var c in b)a.config.paths[c]=b[c];return a},getPath:function(b){var c="",d=a.config.paths,e=a.getPrefix(b);
if(0<e.length){if(e===b)return d[e];c=d[e];b=b.substring(e.length+1)}0<c.length&&(c+="/");return c.replace(q,"/")+b.replace(r,"/")+".js"},getPrefix:function(b){var c=a.config.paths,d,e="";if(c.hasOwnProperty(b))return b;for(d in c)c.hasOwnProperty(d)&&d+"."===b.substring(0,d.length+1)&&d.length>e.length&&(e=d);return e},isAClassNameWithAKnownPrefix:function(b){var c=a.getPrefix(b);return""!==c&&c!==b},require:function(a,b,c){b&&b.call(c)},syncRequire:function(){},exclude:function(b){return{require:function(c,
d,e){return a.require(c,d,e,b)},syncRequire:function(c,d,e){return a.syncRequire(c,d,e,b)}}},onReady:function(a,b,c,d){var e;!1!==c&&Ext.onDocumentReady&&(e=a,a=function(){Ext.onDocumentReady(e,b,d)});a.call(b)}});var s=[],t={},u={},v={},w={},y=[],x=[],z={};Ext.apply(a,{documentHead:"undefined"!=typeof document&&(document.head||document.getElementsByTagName("head")[0]),isLoading:!1,queue:s,isClassFileLoaded:t,isFileLoaded:u,readyListeners:y,optionalRequires:x,requiresMap:z,numPendingFiles:0,numLoadedFiles:0,
hasFileLoadError:!1,classNameToFilePathMap:v,scriptsLoading:0,syncModeEnabled:!1,scriptElements:w,refreshQueue:function(){var c=s.length,d,e,g,h;if(!c&&!a.scriptsLoading)return a.triggerReady();for(d=0;d<c;d++)if(e=s[d])if(h=e.requires,!(h.length>a.numLoadedFiles)){for(g=0;g<h.length;)b.isCreated(h[g])?i(h,g,1):g++;if(0===e.requires.length){i(s,d,1);e.callback.call(e.scope);a.refreshQueue();break}}return a},injectScriptElement:function(b,c,d,e,g){var i=document.createElement("script"),j=!1,k=a.config,
l=function(){j||(j=!0,i.onload=i.onreadystatechange=i.onerror=null,"number"==typeof k.scriptChainDelay?h(c,k.scriptChainDelay,e):c.call(e),a.cleanupScriptElement(i,!1===k.preserveScripts,k.garbageCollect))};i.type="text/javascript";i.onerror=function(){h(d,1,e);a.cleanupScriptElement(i,!1===k.preserveScripts,k.garbageCollect)};if(g=g||k.scriptCharset)i.charset=g;"addEventListener"in i?i.onload=l:"readyState"in i?i.onreadystatechange=function(){("loaded"==this.readyState||"complete"==this.readyState)&&
l()}:i.onload=l;i.src=b;(a.documentHead||document.getElementsByTagName("head")[0]).appendChild(i);return i},removeScriptElement:function(b){w[b]&&(a.cleanupScriptElement(w[b],!0,!!a.getConfig("garbageCollect")),delete w[b]);return a},cleanupScriptElement:function(b,c,d){var e;b.onload=b.onreadystatechange=b.onerror=null;if(c&&(Ext.removeNode(b),d))for(e in b)try{b[e]=null,delete b[e]}catch(g){}return a},loadScript:function(b){var c=a.getConfig(),d="string"==typeof b,e=d?b:b.url,g=!d&&b.onError,h=
!d&&b.onLoad,i=!d&&b.scope;a.isLoading=!0;a.numPendingFiles++;a.scriptsLoading++;b=c.disableCaching?e+"?"+c.disableCachingParam+"="+Ext.Date.now():e;w[e]=a.injectScriptElement(b,function(){a.numPendingFiles--;a.scriptsLoading--;h&&h.call(i);0===a.numPendingFiles+a.scriptsLoading&&a.refreshQueue()},function(){a.numPendingFiles--;a.scriptsLoading--;g&&g.call(i,"Failed loading '"+e+"', please verify that the file exists");0===a.numPendingFiles+a.scriptsLoading&&a.refreshQueue()})},loadScriptFile:function(b,
c,d,e,g){if(u[b])return a;var h=a.getConfig(),i=b+(h.disableCaching?"?"+h.disableCachingParam+"="+Ext.Date.now():""),h=!1,j,k="",e=e||a;a.isLoading=!0;if(g){j="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{j.open("GET",i,!1),j.send(null)}catch(l){h=!0}i=1223===j.status?204:0===j.status&&"file:"==(self.location||{}).protocol?200:j.status;(h||0===i)&&!m?d.call(a,"Failed loading synchronously via XHR: '"+b+"'; It's likely that the file is either being loaded from a different domain or from the local file system whereby cross origin requests are not allowed due to security reasons. Use asynchronous loading with Ext.require instead.",
g):200<=i&&300>i||304===i||m?(Ext.isIE||(k="\n//@ sourceURL="+b),Ext.globalEval(j.responseText+k),c.call(e)):d.call(a,"Failed loading synchronously via XHR: '"+b+"'; please verify that the file exists. XHR status code: "+i,g);j=null}else w[b]=a.injectScriptElement(i,c,function(){d.call(e,"Failed loading '"+b+"', please verify that the file exists",g)},e)},syncRequire:function(){var b=a.syncModeEnabled;b||(a.syncModeEnabled=!0);a.require.apply(a,arguments);b||(a.syncModeEnabled=!1);a.refreshQueue()},
require:function(c,d,e,h){var i={},j={},k=[],k=[],l=[],m=[],n,o,p,q,x,r;if(h){h="string"===typeof h?[h]:h;q=0;for(x=h.length;q<x;q++)if(n=h[q],"string"==typeof n&&0<n.length){k=b.getNamesByExpression(n);n=0;for(r=k.length;n<r;n++)i[k[n]]=!0}}c="string"===typeof c?[c]:c?c:[];h=d?0<d.length?function(){var a=[],c,e;c=0;for(e=m.length;c<e;c++)a.push(b.get(m[c]));return d.apply(this,a)}:d:Ext.emptyFn;e=e||Ext.global;q=0;for(x=c.length;q<x;q++)if(n=c[q],"string"==typeof n&&0<n.length){k=b.getNamesByExpression(n);
r=k.length;for(n=0;n<r;n++)p=k[n],!0!==i[p]&&(m.push(p),!b.isCreated(p)&&!j[p]&&(j[p]=!0,l.push(p)))}if(0<l.length){if(!a.config.enabled)throw Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(1<l.length?"es":"")+": "+l.join(", "));}else return h.call(e),a;(c=a.syncModeEnabled)||s.push({requires:l.slice(),callback:h,scope:e});x=l.length;for(q=0;q<x;q++)if(o=l[q],i=a.getPath(o),c&&t.hasOwnProperty(o)&&(a.numPendingFiles--,a.removeScriptElement(i),
delete t[o]),!t.hasOwnProperty(o))t[o]=!1,v[o]=i,a.numPendingFiles++,a.loadScriptFile(i,g(a.onFileLoaded,[o,i],a),g(a.onFileLoadError,[o,i],a),a,c);return c&&(h.call(e),1===x)?b.get(o):a},onFileLoaded:function(b,c){a.numLoadedFiles++;t[b]=!0;u[c]=!0;a.numPendingFiles--;0===a.numPendingFiles&&a.refreshQueue();if(!a.syncModeEnabled&&0===a.numPendingFiles&&a.isLoading&&!a.hasFileLoadError){var d=[],e=[],g,h,i,j,k;h=0;for(i=s.length;h<i;h++){g=s[h].requires;j=0;for(k=g.length;j<k;j++)t[g[j]]&&d.push(g[j])}if(!(1>
d.length)){d=Ext.Array.filter(Ext.Array.unique(d),function(a){return!z.hasOwnProperty(a)},a);h=0;for(i=d.length;h<i;h++)e.push(v[d[h]]);throw Error("The following classes are not declared even if their files have been loaded: '"+d.join("', '")+"'. Please check the source code of their corresponding files for possible typos: '"+e.join("', '"));}}},onFileLoadError:function(b,c,d){a.numPendingFiles--;a.hasFileLoadError=!0;throw Error("[Ext.Loader] "+d);},addUsedClasses:function(b){var c,d,e;if(b){b=
"string"==typeof b?[b]:b;d=0;for(e=b.length;d<e;d++)c=b[d],"string"==typeof c&&!Ext.Array.contains(x,c)&&x.push(c)}return a},triggerReady:function(){var b;b=x;if(a.isLoading&&(a.isLoading=!1,0!==b.length))return b=b.slice(),x.length=0,a.require(b,a.triggerReady,a),a;for(;y.length&&!a.isLoading;)b=y.shift(),b.fn.call(b.scope);return a},onReady:function(b,c,d,e){var g;!1!==d&&Ext.onDocumentReady&&(g=b,b=function(){Ext.onDocumentReady(g,c,e)});a.isLoading?y.push({fn:b,scope:c}):b.call(c)},historyPush:function(b){b&&
(t.hasOwnProperty(b)&&!o[b])&&(o[b]=!0,p.push(b));return a}});Ext.disableCacheBuster=function(a,b){var c=new Date;c.setTime(c.getTime()+864E5*(a?3650:-1));c=c.toGMTString();document.cookie="ext-cache=1; expires="+c+"; path="+(b||"/")};j&&(k?Ext.apply(a,{syncModeEnabled:!0,setPath:d(function(b,c){c=require("fs").realpathSync(c);a.config.paths[b]=c;return a}),loadScriptFile:function(a,b,c,d){require(a);b.call(d)}}):l&&Ext.apply(a,{syncModeEnabled:!0,loadScriptFile:function(a,b,c,d){load(a);b.call(d)}}));
Ext.require=e(a,"require");Ext.syncRequire=e(a,"syncRequire");Ext.exclude=e(a,"exclude");Ext.onReady=function(b,c,d){a.onReady(b,c,!0,d)};c.registerPreprocessor("loader",function(c,d,e,g){var h=this,i=[],j,k=b.getName(c),l,m,o,p,q,x,r,s;l=0;for(o=n.length;l<o;l++)if(x=n[l],d.hasOwnProperty(x))if(r=d[x],"string"==typeof r)i.push(r);else if(r instanceof Array){m=0;for(p=r.length;m<p;m++)q=r[m],"string"==typeof q&&i.push(q)}else if("function"!=typeof r)for(m in r)r.hasOwnProperty(m)&&(q=r[m],"string"==
typeof q&&i.push(q));if(0!==i.length){var u=[],t;if(k){z[k]=i;s=a.requiredByMap||(a.requiredByMap={});l=0;for(o=i.length;l<o;l++)j=i[l],(s[j]||(s[j]=[])).push(k);t=function(a){u.push(a);if(z[a]){if(Ext.Array.contains(z[a],k))throw Error("Deadlock detected while loading dependencies! '"+k+"' and '"+u[1]+"' mutually require each other. Path: "+u.join(" -> ")+" -> "+u[0]);l=0;for(o=z[a].length;l<o;l++)t(z[a][l])}};t(k)}a.require(i,function(){l=0;for(o=n.length;l<o;l++)if(x=n[l],d.hasOwnProperty(x))if(r=
d[x],"string"==typeof r)d[x]=b.get(r);else if(r instanceof Array){m=0;for(p=r.length;m<p;m++)q=r[m],"string"==typeof q&&(d[x][m]=b.get(q))}else if("function"!=typeof r)for(var a in r)r.hasOwnProperty(a)&&(q=r[a],"string"==typeof q&&(d[x][a]=b.get(q)));g.call(h,c,d,e)});return!1}},!0,"after","className");b.registerPostprocessor("uses",function(b,c,d){(b=d.uses)&&a.addUsedClasses(b)});b.onCreated(a.historyPush)};
Ext._classPathMetadata&&(Ext.Loader.addClassPathMappings(Ext._classPathMetadata),Ext._classPathMetadata=null);(function(){var a=document.getElementsByTagName("script"),a=a[a.length-1].src,b=a.substring(0,a.lastIndexOf("/")+1),c=Ext.Loader;a.indexOf("/platform/core/src/class/")!=-1?b=b+"../../../../extjs/":a.indexOf("/core/src/class/")!=-1&&(b=b+"../../../");c.setConfig({enabled:true,disableCaching:true,paths:{Ext:b+"src"}})})();Ext._endTime=(new Date).getTime();Ext._beforereadyhandler&&Ext._beforereadyhandler();
Ext.Error=Ext.extend(Error,{statics:{ignore:!1,raise:function(a){a=a||{};Ext.isString(a)&&(a={msg:a});var b=this.raise.caller;if(b){if(b.$name)a.sourceMethod=b.$name;if(b.$owner)a.sourceClass=b.$owner.$className}if(Ext.Error.handle(a)!==true){b=Ext.Error.prototype.toString.call(a);Ext.log({msg:b,level:"error",dump:a,stack:true});throw new Ext.Error(a);}},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(a){Ext.isString(a)&&(a={msg:a});Ext.apply(this,a);this.message=
this.message||this.msg},toString:function(){return(this.sourceClass?this.sourceClass:"")+(this.sourceMethod?"."+this.sourceMethod+"(): ":"")+(this.msg||"(No description provided)")}});Ext.deprecated=function(a){function b(){Ext.Error.raise('The method "'+b.$owner.$className+"."+b.$name+'" has been removed. '+a)}a||(a="");return b};
(function(){function a(){var g=Ext.log.counters,h=Ext.supports,h=h&&h.WindowOnError;if(g&&g.error+g.warn+g.info+g.log){e=["Logged Errors:",g.error,"Warnings:",g.warn,"Info:",g.info,"Log:",g.log].join(" ");c?e="*** Errors: "+c+" - "+e:g.error&&(e="*** "+e);d.status=e}if(!Ext.isDefined(Ext.Error.notify))Ext.Error.notify=Ext.isIE6||Ext.isIE7;if(Ext.Error.notify&&(h?c:g&&g.error)){Ext.Error.notify=false;if(b){d.clearInterval(b);b=null}alert("Unhandled error on page: See console or log");b=d.setInterval(a,
1E3)}}var b,c=0,d=Ext.global,e;typeof window!=="undefined"&&(b=d.setInterval(a,1E3))})();
Ext.JSON=new function(){var a=this,b,c,d=null,e=!!{}.hasOwnProperty,g=function(){d===null&&(d=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]");return d},h=function(a){return a<10?"0"+a:a},i=function(a){return eval("("+a+")")},j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\x0B":"\\u000b"},k=/[\\\"\x00-\x1f\x7f-\uffff]/g;a.encodeString=function(a){return'"'+a.replace(k,function(a){var b=j[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+
'"'};a.encodeValue=function(a,b){if(a===null||a===void 0)return"null";if(Ext.isDate(a))return Ext.JSON.encodeDate(a);if(Ext.isString(a))return Ext.JSON.encodeString(a);if(typeof a=="number")return isFinite(a)?""+a:"null";if(Ext.isBoolean(a))return""+a;if(a.toJSON)return a.toJSON();if(Ext.isArray(a)){var c;if(b){c=a.length;var d=b+"   ",g=","+d,h=["[",d],i;for(i=0;i<c;i=i+1)h.push(Ext.JSON.encodeValue(a[i],d),g);h[h.length-1]=b+"]";c=h.join("")}else{c=["[",""];d=a.length;for(g=0;g<d;g=g+1)c.push(Ext.JSON.encodeValue(a[g]),
",");c[c.length-1]="]";c=c.join("")}return c}if(Ext.isObject(a)){if(b){d=b+"   ";g=","+d;h=["{",d];for(c in a)(!e||a.hasOwnProperty(c))&&h.push(Ext.JSON.encodeValue(c)+": "+Ext.JSON.encodeValue(a[c],d),g);h[h.length-1]=b+"}";c=h.join("")}else{c=["{",""];for(d in a)(!e||a.hasOwnProperty(d))&&c.push(Ext.JSON.encodeValue(d),":",Ext.JSON.encodeValue(a[d]),",");c[c.length-1]="}";c=c.join("")}return c}return typeof a==="function"?"null":"undefined"};a.encodeDate=function(a){return'"'+a.getFullYear()+"-"+
h(a.getMonth()+1)+"-"+h(a.getDate())+"T"+h(a.getHours())+":"+h(a.getMinutes())+":"+h(a.getSeconds())+'"'};a.encode=function(c){b||(b=g()?JSON.stringify:a.encodeValue);return b(c)};a.decode=function(a,b){c||(c=g()?JSON.parse:i);try{return c(a)}catch(d){if(b===true)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+a})}}};Ext.encode=Ext.JSON.encode;Ext.decode=Ext.JSON.decode;
Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1E3,windowId:"ext-window",documentId:"ext-document",isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!0,addCacheEntry:function(a,b,c){(c=c||b.dom)||Ext.Error.raise("Cannot add an entry to the element cache without the DOM node");a=a||b&&b.id||c.id;c=Ext.cache[a]||(Ext.cache[a]={data:{},events:{},dom:c,skipGarbageCollection:!(!c.getElementById&&!c.navigator)});if(b){b.$cache=c;c.el=b}return c},updateCacheEntry:function(a,
b){a.dom=b;if(a.el)a.el.dom=b;return a},id:function(a,b){var c="",a=Ext.getDom(a,true)||{};if(a===document)a.id=this.documentId;else if(a===window)a.id=this.windowId;if(!a.id){this.isSandboxed&&(c=Ext.sandboxName.toLowerCase()+"-");a.id=c+(b||"ext-gen")+ ++Ext.idSeed}return a.id},escapeId:function(){var a=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,b=/([\W]{1})/g,c=/^(\d)/g,d=function(a,b){return"\\"+b},e=function(a,b){return"\\00"+b.charCodeAt(0).toString(16)+" "};return function(g){return a.test(g)?g:g.replace(b,
d).replace(c,e)}}(),getBody:function(){var a;return function(){return a||(a=Ext.get(document.body))}}(),getHead:function(){var a;return function(){return a||(a=Ext.get(document.getElementsByTagName("head")[0]))}}(),getDoc:function(){var a;return function(){return a||(a=Ext.get(document))}}(),getCmp:function(a){return Ext.ComponentManager.get(a)},getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var a=arguments.length,b,c;for(b=0;b<a;b++)(c=
arguments[b])&&(Ext.isArray(c)?this.destroy.apply(this,c):Ext.isFunction(c.destroy)?c.destroy():c.dom&&c.remove())},callback:function(a,b,c,d){if(Ext.isFunction(a)){c=c||[];b=b||window;d?Ext.defer(a,d,b,c):a.apply(b,c)}},htmlEncode:function(a){return Ext.String.htmlEncode(a)},htmlDecode:function(a){return Ext.String.htmlDecode(a)},urlAppend:function(a,b){return Ext.String.urlAppend(a,b)}});Ext.ns=Ext.namespace;window.undefined=window.undefined;
(function(){function a(b){var c,d,e=Ext.global.console,g="log",h=a.indent||0,i;a.indent=h;if(typeof b!="string"){c=b;b=c.msg||"";g=c.level||g;d=c.dump;i=c.stack;if(c.indent)++a.indent;else if(c.outdent)a.indent=h=Math.max(h-1,0);if(d&&(!e||!e.dir)){c=b;var j;var k,l,m=[];for(j in d)if(d.hasOwnProperty(j)){l=d[j];k=typeof l;if(k!="function"){k=k=="undefined"?k:l===null||N.test(k)||Ext.isDate(l)?Ext.encode(l):Ext.isArray(l)?"[ ]":Ext.isObject(l)?"{ }":k;m.push(Ext.encode(j)+": "+k)}}j=m.length?" \nData: {\n  "+
m.join(",\n  ")+"\n}":"";b=c+j;d=null}}arguments.length>1&&(b=b+Array.prototype.slice.call(arguments,1).join(""));b=h?Ext.String.repeat(" ",a.indentSize*h)+b:b;g!="log"&&(b="["+g.charAt(0).toUpperCase()+"] "+b);if(e){if(e[g])e[g](b);else e.log(b);d&&e.dir(d);i&&e.trace&&(!e.firebug||g!="error")&&e.trace()}else if(Ext.isOpera)opera.postError(b);else{e=a.out;h=a.max;e.length>=h&&Ext.Array.erase(e,0,e.length-3*Math.floor(h/4));e.push(b)}++a.count;++a.counters[g]}function b(b,c){typeof c[0]=="string"&&
c.unshift({});c[0].level=b;a.apply(this,c)}var c=function(a){return a.test(Ext.userAgent)},d=document.compatMode=="CSS1Compat",e=function(a,b){var c;return a&&(c=b.exec(Ext.userAgent))?parseFloat(c[1]):0},g=document.documentMode,h=c(/opera/),i=h&&c(/version\/10\.5/),j=c(/\bchrome\b/),k=c(/webkit/),l=!j&&c(/safari/),m=l&&c(/applewebkit\/4/),n=l&&c(/version\/3/),o=l&&c(/version\/4/),p=l&&c(/version\/5\.0/),q=l&&c(/version\/5/),r=!h&&c(/msie/),s=r&&(c(/msie 7/)&&g!=8&&g!=9||g==7),t=r&&(c(/msie 8/)&&
g!=7&&g!=9||g==8),g=r&&(c(/msie 9/)&&g!=7&&g!=8||g==9),u=r&&c(/msie 6/),v=!k&&c(/gecko/),w=v&&c(/rv:1\.9/),y=v&&c(/rv:2\.0/),x=v&&c(/rv:5\./),z=v&&c(/rv:10\./),A=w&&c(/rv:1\.9\.0/),C=w&&c(/rv:1\.9\.1/),G=w&&c(/rv:1\.9\.2/),H=c(/windows|win32/),I=c(/macintosh|mac os x/),c=c(/linux/),E=null,J=e(true,/\bchrome\/(\d+\.\d+)/),B=e(true,/\bfirefox\/(\d+\.\d+)/),K=e(r,/msie (\d+\.\d+)/),L=e(h,/version\/(\d+\.\d+)/),M=e(l,/version\/(\d+\.\d+)/),e=e(k,/webkit\/(\d+\.\d+)/),F=/^https/i.test(window.location.protocol),
D;try{document.execCommand("BackgroundImageCache",false,true)}catch(O){}var N=/string|number|boolean/;a.error=function(){b("error",Array.prototype.slice.call(arguments))};a.info=function(){b("info",Array.prototype.slice.call(arguments))};a.warn=function(){b("warn",Array.prototype.slice.call(arguments))};a.count=0;a.counters={error:0,warn:0,info:0,log:0};a.indentSize=2;a.out=[];a.max=750;a.show=function(){window.open("","extlog").document.write('<html><head><script type="text/javascript">var lastCount = 0;function update () {var ext = window.opener.Ext,extlog = ext && ext.log;if (extlog && extlog.out && lastCount != extlog.count) {lastCount = extlog.count;var s = "<tt>" + extlog.out.join("~~~").replace(/[&]/g, "&amp;").replace(/[<]/g, "&lt;").replace(/[ ]/g, "&#160;").replace(/\\~\\~\\~/g, "<br/>") + "</tt>";document.body.innerHTML = s;}setTimeout(update, 1000);}setTimeout(update, 1000);<\/script></head><body></body></html>')};
D=function(){};D.info=D.warn=D.error=Ext.emptyFn;Ext.setVersion("extjs","4.1.1.1");Ext.apply(Ext,{SSL_SECURE_URL:F&&r?"javascript:''":"about:blank",scopeResetCSS:Ext.buildSettings.scopeResetCSS,resetCls:Ext.buildSettings.baseCSSPrefix+"reset",enableNestedListenerRemoval:false,USE_NATIVE_JSON:false,getDom:function(a,b){if(!a||!document)return null;if(a.dom)return a.dom;if(typeof a=="string"){var c=Ext.getElementById(a);return c&&(r&&b)&&a!=c.getAttribute("id")?null:c}return a},removeNode:u||s||t?function(){var a;
return function(b){if(b&&b.tagName.toUpperCase()!="BODY"){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(b):Ext.EventManager.removeAll(b);var c=Ext.cache,d=b.id;if(c[d]){delete c[d].dom;delete c[d]}t&&b.parentNode&&b.parentNode.removeChild(b);a=a||document.createElement("div");a.appendChild(b);a.innerHTML=""}}}():function(a){if(a&&a.parentNode&&a.tagName.toUpperCase()!="BODY"){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(a):Ext.EventManager.removeAll(a);var b=Ext.cache,
c=a.id;if(b[c]){delete b[c].dom;delete b[c]}a.parentNode.removeChild(a)}},isStrict:d,isIEQuirks:r&&!d,isOpera:h,isOpera10_5:i,isWebKit:k,isChrome:j,isSafari:l,isSafari3:n,isSafari4:o,isSafari5:q,isSafari5_0:p,isSafari2:m,isIE:r,isIE6:u,isIE7:s,isIE8:t,isIE9:g,isGecko:v,isGecko3:w,isGecko4:y,isGecko5:x,isGecko10:z,isFF3_0:A,isFF3_5:C,isFF3_6:G,isFF4:4<=B&&B<5,isFF5:5<=B&&B<6,isFF10:10<=B&&B<11,isLinux:c,isWindows:H,isMac:I,chromeVersion:J,firefoxVersion:B,ieVersion:K,operaVersion:L,safariVersion:M,
webKitVersion:e,isSecure:F,BLANK_IMAGE_URL:u||s?"//www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(a,b,c){return Ext.isEmpty(a,c)?b:a},escapeRe:function(a){return a.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(a){if(Ext.isReady){var b={},c,d,e;for(d in a)if((c=d.split("@"))[1]){e=c[0];b[e]||(b[e]=Ext.select(e));b[e].on(c[1],a[d])}b=null}else Ext.onReady(function(){Ext.addBehaviors(a)})},getScrollbarSize:function(a){if(!Ext.isReady)return{};
if(a||!E){var a=document.body,b=document.createElement("div");b.style.width=b.style.height="100px";b.style.overflow="scroll";b.style.position="absolute";a.appendChild(b);E={width:b.offsetWidth-b.clientWidth,height:b.offsetHeight-b.clientHeight};a.removeChild(b)}return E},getScrollBarWidth:function(a){return Ext.getScrollbarSize(a).width+2},copyTo:function(a,b,c,d){typeof c=="string"&&(c=c.split(/[,;\s]/));var e,g=c.length,h;for(e=0;e<g;e++){h=c[e];if(d||b.hasOwnProperty(h))a[h]=b[h]}return a},destroyMembers:function(a){for(var b=
1,c=arguments,d=c.length;b<d;b++){Ext.destroy(a[c[b]]);delete a[c[b]]}},log:a||D,partition:function(a,b){var c=[[],[]],d,e,g=a.length;for(d=0;d<g;d++){e=a[d];c[b&&b(e,d,a)||!b&&e?0:1].push(e)}return c},invoke:function(a,b){var c=[],d=Array.prototype.slice.call(arguments,2),e,g,h=a.length;for(e=0;e<h;e++)(g=a[e])&&typeof g[b]=="function"?c.push(g[b].apply(g,d)):c.push(void 0);return c},zip:function(){var a=Ext.partition(arguments,function(a){return typeof a!="function"}),b=a[0],a=a[1][0],c=Ext.max(Ext.pluck(b,
"length")),d=[],e,g,h;for(e=0;e<c;e++){d[e]=[];if(a)d[e]=a.apply(a,Ext.pluck(b,e));else{g=0;for(h=b.length;g<h;g++)d[e].push(b[g][e])}}return d},toSentence:function(a,b){var c=a.length,d;if(c<=1)return a[0];d=a.slice(0,c-1);c=a[c-1];return Ext.util.Format.format("{0} {1} {2}",d.join(", "),b||"and",c)},useShims:u})})();Ext.application=function(a){Ext.require("Ext.app.Application");Ext.onReady(function(){new Ext.app.Application(a)})};
(function(){Ext.ns("Ext.util");Ext.util.Format={};var a=Ext.util.Format,b=/<\/?[^>]+>/gi,c=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,d=/\r?\n/g,e=/[^\d\.]/g,g;Ext.apply(a,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:false,undef:function(a){return a!==void 0?a:""},defaultValue:function(a,b){return a!==void 0&&a!==""?a:b},substr:"ab".substr(-1)!="b"?function(a,b,c){a=""+a;return b<0?a.substr(Math.max(a.length+b,0),c):a.substr(b,c)}:function(a,b,
c){return(""+a).substr(b,c)},lowercase:function(a){return(""+a).toLowerCase()},uppercase:function(a){return(""+a).toUpperCase()},usMoney:function(b){return a.currency(b,"$",2)},currency:function(b,c,d,e){var g="",m=",0",n=0,b=b-0;if(b<0){b=-b;g="-"}d=Ext.isDefined(d)?d:a.currencyPrecision;for(m=m+(m+(d>0?".":""));n<d;n++)m=m+"0";b=a.number(b,m);return(e||a.currencyAtEnd)===true?Ext.String.format("{0}{1}{2}",g,b,c||a.currencySign):Ext.String.format("{0}{1}{2}",g,c||a.currencySign,b)},date:function(a,
b){if(!a)return"";Ext.isDate(a)||(a=new Date(Date.parse(a)));return Ext.Date.dateFormat(a,b||Ext.Date.defaultFormat)},dateRenderer:function(b){return function(c){return a.date(c,b)}},stripTags:function(a){return!a?a:(""+a).replace(b,"")},stripScripts:function(a){return!a?a:(""+a).replace(c,"")},fileSize:function(a){return a<1024?a+" bytes":a<1048576?Math.round(a*10/1024)/10+" KB":Math.round(a*10/1048576)/10+" MB"},math:function(){var a={};return function(b,c){a[c]||(a[c]=Ext.functionFactory("v","return v "+
c+";"));return a[c](b)}}(),round:function(a,b){var c=Number(a);if(typeof b=="number"){b=Math.pow(10,b);c=Math.round(a*b)/b}return c},number:function(b,c){if(!c)return b;b=Ext.Number.from(b,NaN);if(isNaN(b))return"";var d=a.thousandSeparator,k=a.decimalSeparator,l=b<0,m,n,o,p,q,r,b=Math.abs(b);if(c.substr(c.length-2)=="/i"){g||(g=RegExp("[^\\d\\"+a.decimalSeparator+"]","g"));c=c.substr(0,c.length-2);m=c.indexOf(d)!=-1;n=c.replace(g,"").split(k)}else{m=c.indexOf(",")!=-1;n=c.replace(e,"").split(".")}n.length>
2?Ext.Error.raise({sourceClass:"Ext.util.Format",sourceMethod:"number",value:b,formatString:c,msg:"Invalid number format, should have no more than 1 decimal"}):b=n.length>1?Ext.Number.toFixed(b,n[1].length):Ext.Number.toFixed(b,0);o=b.toString();n=o.split(".");if(m){m=n[0];o=[];p=m.length;q=m.length%3||3;for(r=0;r<p;r=r+q){r!==0&&(q=3);o[o.length]=m.substr(r,q)}o=o.join(d);n[1]&&(o=o+(k+n[1]))}else n[1]&&(o=n[0]+k+n[1]);l&&(l=o.replace(/[^1-9]/g,"")!=="");return(l?"-":"")+c.replace(/[\d,?\.?]+/,o)},
numberRenderer:function(b){return function(c){return a.number(c,b)}},plural:function(a,b,c){return a+" "+(a==1?b:c?c:b+"s")},nl2br:function(a){return Ext.isEmpty(a)?"":a.replace(d,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(a){a=Ext.isEmpty(a)?"":a;Ext.isNumber(a)&&(a=a.toString());var a=a.split(" "),b=a.length;if(b==
1)a[1]=a[2]=a[3]=a[0];else if(b==2){a[2]=a[0];a[3]=a[1]}else b==3&&(a[3]=a[1]);return{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}},escapeRegex:function(a){return a.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})})();
Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(a){typeof a=="number"?this.interval=a:a&&Ext.apply(this,a);this.tasks=[];this.timerFn=Ext.Function.bind(this.onTick,this)},newTask:function(a){a=new Ext.util.TaskRunner.Task(a);a.manager=this;return a},start:function(a){var b=(new Date).getTime();if(!a.pending){this.tasks.push(a);a.pending=true}a.stopped=false;a.taskStartTime=b;a.taskRunTime=a.fireOnStart!==false?0:a.taskStartTime;a.taskRunCount=0;this.firing||(a.fireOnStart!==
false?this.startTimer(0,b):this.startTimer(a.interval,b));return a},stop:function(a){if(!a.stopped){a.stopped=true;a.onStop&&a.onStop.call(a.scope||a,a)}return a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1.0E99,onTick:function(){var a=this.tasks,b=(new Date).getTime(),c=1.0E99,d=a.length,e,g,h,i,j;this.timerId=null;this.firing=true;for(h=0;h<d||h<(d=a.length);++h){i=a[h];if(!(j=i.stopped)){e=i.taskRunTime+i.interval;if(e<=b){j=1;try{j=i.run.apply(i.scope||i,i.args||
[++i.taskRunCount])}catch(k){try{i.onError&&(j=i.onError.call(i.scope||i,i,k))}catch(l){}}i.taskRunTime=b;if(j===false||i.taskRunCount===i.repeat){this.stop(i);j=true}else{j=i.stopped;e=b+i.interval}}if(!j&&i.duration&&i.duration<=b-i.taskStartTime){this.stop(i);j=true}}if(j){i.pending=false;g||(g=a.slice(0,h))}else{g&&g.push(i);c>e&&(c=e)}}if(g)this.tasks=g;this.firing=false;this.tasks.length&&this.startTimer(c-b,(new Date).getTime())},startTimer:function(a,b){var c=b+a,d=this.timerId;if(d&&this.nextExpires-
c>this.interval){clearTimeout(d);d=null}if(!d){if(a<this.interval)a=this.interval;this.timerId=setTimeout(this.timerFn,a);this.nextExpires=c}}},function(){var a=this.prototype;a.destroy=a.stopAll;Ext.util.TaskManager=Ext.TaskManager=new this;this.Task=new Ext.Class({isTask:true,stopped:true,fireOnStart:false,constructor:function(a){Ext.apply(this,a)},restart:function(a){if(a!==void 0)this.interval=a;this.manager.start(this)},start:function(a){this.stopped&&this.restart(a)},stop:function(){this.manager.stop(this)}});
a=this.Task.prototype;a.destroy=a.stop});
Ext.define("Ext.perf.Accumulator",function(){function a(a,b){a.sum=a.sum+b;a.min=Math.min(a.min,b);a.max=Math.max(a.max,b)}function b(b){var b=b?b:i()-this.time,c=this.accum;++c.count;--c.depth||a(c.total,b);a(c.pure,b-this.childTime);if(e=this.parent){++e.accum.childCount;e.childTime=e.childTime+b}}function c(a,b){return function(){var c=a.enter(),d=b.apply(this,arguments);c.leave();return d}}function d(a,b,c,d){var e={avg:0,min:d.min,max:d.max,sum:0};if(a){e.sum=d.sum-b*(c||0);e.avg=e.sum/a}return e}
var e=null,g=Ext.global.chrome,h,i=function(){i=function(){return(new Date).getTime()};var a,b;if(Ext.isChrome&&g&&g.Interval){a=new g.Interval;a.start();i=function(){return a.microseconds()/1E3}}else if(window.ActiveXObject)try{b=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=b;i=function(){return b.milliseconds}}catch(c){}else if(Date.now)i=Date.now;Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=i;return i()};return{constructor:function(a){this.count=this.childCount=this.depth=
this.maxDepth=0;this.pure={min:Number.MAX_VALUE,max:0,sum:0};this.total={min:Number.MAX_VALUE,max:0,sum:0};this.name=a},statics:{getTimestamp:i},format:function(a){h||(h=new Ext.XTemplate('{name} - {count} call(s)<tpl if="count"><tpl if="childCount"> ({childCount} children)</tpl><tpl if="depth - 1"> ({depth} deep)</tpl><tpl for="times">, {type}: {[this.time(values.sum)]} msec (avg={[this.time(values.sum / parent.count)]})</tpl></tpl>',{time:function(a){return Math.round(a*100)/100}}));a=this.getData(a);
a.name=this.name;a.pure.type="Pure";a.total.type="Total";a.times=[a.pure,a.total];return h.apply(a)},getData:function(a){return{count:this.count,childCount:this.childCount,depth:this.maxDepth,pure:d(this.count,this.childCount,a,this.pure),total:d(this.count,this.childCount,a,this.total)}},enter:function(){var a={accum:this,leave:b,childTime:0,parent:e};++this.depth;if(this.maxDepth<this.depth)this.maxDepth=this.depth;e=a;a.time=i();return a},monitor:function(a,b,c){var d=this.enter();c?a.apply(b,
c):a.call(b);d.leave()},report:function(){Ext.log(this.format())},tap:function(a,b){var d=this,e=typeof b=="string"?[b]:b,g,h,i,q,r,s,t;Ext.ClassManager.onCreated(function(){if(typeof a=="string"){g=Ext.global;q=a.split(".");i=0;for(r=q.length;i<r;++i)g=g[q[i]]}else g=a;i=0;for(r=e.length;i<r;++i){s=e[i];(h=s.charAt(0)=="!")?s=s.substring(1):h=!(s in g.prototype);t=h?g:g.prototype;t[s]=c(d,t[s])}},d,a);return d}}}(),function(){Ext.perf.getTimestamp=this.getTimestamp});
Ext.define("Ext.perf.Monitor",{singleton:!0,alternateClassName:"Ext.Perf",requires:["Ext.perf.Accumulator"],constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var a=new Ext.perf.Accumulator("$"),b=a.total,c=Ext.perf.Accumulator.getTimestamp,d=0,e,g;g=c();do{e=a.enter();e.leave();++d}while(b.sum<100);return(c()-g)/d},get:function(a){var b=this.accumulatorsByName[a];if(!b){this.accumulatorsByName[a]=b=new Ext.perf.Accumulator(a);this.accumulators.push(b)}return b},
enter:function(a){return this.get(a).enter()},monitor:function(a,b,c){this.get(a).monitor(b,c)},report:function(){var a=this.accumulators,b=this.calibrate();a.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0});this.updateGC();Ext.log("Calibration: "+Math.round(b*100)/100+" msec/sample");Ext.each(a,function(a){Ext.log(a.format(b))})},getData:function(a){var b={};Ext.each(this.accumulators,function(c){if(a||c.count)b[c.name]=c.getData()});return b},reset:function(){Ext.each(this.accumulators,
function(a){a.count=a.childCount=a.depth=a.maxDepth=0;a.pure={min:Number.MAX_VALUE,max:0,sum:0};a.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var a=this.accumulatorsByName.GC,b=Ext.senchaToolbox,c;if(a){a.count=b.garbageCollectionCounter||0;if(a.count){c=a.pure;a.total.sum=c.sum=b.garbageCollectionMilliseconds;c.min=c.max=c.sum/a.count;c=a.total;c.min=c.max=c.sum/a.count}}},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;if(a){this.get("GC");a.watchGarbageCollector(false)}},
setup:function(a){a||(a={render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}});this.currentConfig=a;var b,c,d,e,g;for(b in a)if(a.hasOwnProperty(b)){c=a[b];d=Ext.Perf.get(b);for(e in c)if(c.hasOwnProperty(e)){g=c[e];d.tap(e,g)}}this.watchGC()}});
Ext.is={init:function(a){var b=this.platforms,c=b.length,d,e,a=a||window.navigator;for(d=0;d<c;d++){e=b[d];this[e.identity]=e.regex.test(a[e.property])}this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android;this.Tablet=this.iPad;this.Phone=!this.Desktop&&!this.Tablet;this.iOS=this.iPhone||this.iPad||this.iPod;this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",
regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]};Ext.is.init();
(function(){var a=function(a,c){var d=a.ownerDocument.defaultView;return((d?d.getComputedStyle(a,null):a.currentStyle)||a.style)[c]};Ext.supports={init:function(){var a=document,c=this.tests,d=c.length,e=d&&Ext.isReady&&a.createElement("div"),g,h=[];if(e){e.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>';
a.body.appendChild(e)}for(;d--;){g=c[d];e||g.early?this[g.identity]=g.fn.call(this,a,e):h.push(g)}e&&a.body.removeChild(e);this.tests=h},PointerEvents:"pointerEvents"in document.documentElement.style,CSS3BoxShadow:"boxShadow"in document.documentElement.style||"WebkitBoxShadow"in document.documentElement.style||"MozBoxShadow"in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:typeof window.orientation!="undefined"&&"onorientationchange"in window,DeviceMotion:"ondevicemotion"in
window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,TimeoutActualLateness:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=arguments.length!==0},0)}(),tests:[{identity:"Transitions",fn:function(b,c){for(var d=["webkit","Moz","o","ms","khtml"],e=[d[0]+"TransitionEnd","transitionend",d[2]+"TransitionEnd",d[3]+"TransitionEnd",d[4]+"TransitionEnd"],g=d.length,h=0,i=false;h<g;h++)if(a(c,d[h]+"TransitionProperty")){Ext.supports.CSS3Prefix=d[h];Ext.supports.CSS3TransitionEnd=e[h];i=
true;break}return i}},{identity:"RightMargin",fn:function(a,c){var d=a.defaultView;return!(d&&d.getComputedStyle(c.firstChild.firstChild,null).marginRight!="0px")}},{identity:"DisplayChangeInputSelectionBug",early:true,fn:function(){var a=Ext.webKitVersion;return 0<a&&a<533}},{identity:"DisplayChangeTextAreaSelectionBug",early:true,fn:function(){var a=Ext.webKitVersion;return 0<a&&a<534.24}},{identity:"TransparentColor",fn:function(a,c,d){d=a.defaultView;return!(d&&d.getComputedStyle(c.lastChild,
null).backgroundColor!="transparent")}},{identity:"ComputedStyle",fn:function(a,c,d){return(d=a.defaultView)&&d.getComputedStyle}},{identity:"Svg",fn:function(a){return!!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(a){return!!a.createElement("canvas").getContext}},{identity:"Vml",fn:function(a){a=a.createElement("div");a.innerHTML="<\!--[if vml]><br/><br/><![endif]--\>";return a.childNodes.length==2}},{identity:"Float",fn:function(a,
c){return!!c.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(a){return!!a.createElement("audio").canPlayType}},{identity:"History",fn:function(){var a=window.history;return!(!a||!a.pushState)}},{identity:"CSS3DTransform",fn:function(){return typeof WebKitCSSMatrix!="undefined"&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(a,c){c.style.cssText="background-image:-webkit-gradient(linear, left top, right bottom, from(black), to(white));background-image:linear-gradient(left top, black, white);background-image:-moz-linear-gradient(left top, black, white);background-image:-o-linear-gradient(left top, black, white)";
return(""+c.style.backgroundImage).indexOf("gradient")!==-1}},{identity:"CSS3BorderRadius",fn:function(){var a=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],c;for(c=0;c<a.length;c++)if(document.body.style[a[c]]!==void 0)return true;return false}},{identity:"GeoLocation",fn:function(){return typeof navigator!="undefined"&&typeof navigator.geolocation!="undefined"||typeof google!="undefined"&&typeof google.gears!="undefined"}},{identity:"MouseEnterLeave",
fn:function(a,c){return"onmouseenter"in c&&"onmouseleave"in c}},{identity:"MouseWheel",fn:function(a,c){return"onmousewheel"in c}},{identity:"Opacity",fn:function(a,c){if(Ext.isIE6||Ext.isIE7||Ext.isIE8)return false;c.firstChild.style.cssText="opacity:0.73";return c.firstChild.style.opacity=="0.73"}},{identity:"Placeholder",fn:function(a){return"placeholder"in a.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)}},{identity:"BoundingClientRect",
fn:function(a,c){return Ext.isFunction(c.getBoundingClientRect)}},{identity:"IncludePaddingInWidthCalculation",fn:function(a,c){return c.childNodes[1].firstChild.offsetWidth==210}},{identity:"IncludePaddingInHeightCalculation",fn:function(a,c){return c.childNodes[1].firstChild.offsetHeight==210}},{identity:"ArraySort",fn:function(){var a=[1,2,3,4,5].sort(function(){return 0});return a[0]===1&&a[1]===2&&a[2]===3&&a[3]===4&&a[4]===5}},{identity:"Range",fn:function(){return!!document.createRange}},{identity:"CreateContextualFragment",
fn:function(){var a=Ext.supports.Range?document.createRange():false;return a&&!!a.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){return"maxlength"in document.createElement("textarea")}},{identity:"GetPositionPercentage",fn:function(b,c){return a(c.childNodes[2],"left")=="10%"}}]}})();Ext.supports.init();
Ext.util.DelayedTask=function(a,b,c){var d=this,e,g=function(){clearInterval(e);e=null;a.apply(b,c||[])};this.delay=function(h,i,j,k){d.cancel();a=i||a;b=j||b;c=k||c;e=setInterval(g,h)};this.cancel=function(){if(e){clearInterval(e);e=null}}};
Ext.require("Ext.util.DelayedTask",function(){Ext.util.Event=Ext.extend(Object,function(){function a(a,b,c,d){return function(){c.target===arguments[0]&&a.apply(d,arguments)}}function b(a,b,c,d){b.task=new Ext.util.DelayedTask;return function(){b.task.delay(c.buffer,a,d,Ext.Array.toArray(arguments))}}function c(a,b,c,d){return function(){var e=new Ext.util.DelayedTask;if(!b.tasks)b.tasks=[];b.tasks.push(e);e.delay(c.delay||10,a,d,Ext.Array.toArray(arguments))}}function d(a,b,c,d){return function(){var c=
b.ev;c.removeListener(b.fn,d)&&c.observable&&c.observable.hasListeners[c.name]--;return a.apply(d,arguments)}}var e={};return{isEvent:true,constructor:function(a,b){this.name=b;this.observable=a;this.listeners=[]},addListener:function(a,b,c){b=b||this.observable;a||Ext.Error.raise({sourceClass:Ext.getClassName(this.observable),sourceMethod:"addListener",msg:"The specified callback function is undefined"});if(!this.isListening(a,b)){a=this.createListener(a,b,c);if(this.firing)this.listeners=this.listeners.slice(0);
this.listeners.push(a)}},createListener:function(g,h,i){var i=i||e,h=h||this.observable,j={fn:g,scope:h,o:i,ev:this};i.single&&(g=d(g,j,i,h));i.target&&(g=a(g,j,i,h));i.delay&&(g=c(g,j,i,h));i.buffer&&(g=b(g,j,i,h));j.fireFn=g;return j},findListener:function(a,b){for(var c=this.listeners,d=c.length,e,l;d--;)if(e=c[d]){l=e.scope;if(e.fn==a&&l==(b||this.observable))return d}return-1},isListening:function(a,b){return this.findListener(a,b)!==-1},removeListener:function(a,b){var c,d,e;c=this.findListener(a,
b);if(c!=-1){d=this.listeners[c];if(this.firing)this.listeners=this.listeners.slice(0);if(d.task){d.task.cancel();delete d.task}if(e=d.tasks&&d.tasks.length){for(;e--;)d.tasks[e].cancel();delete d.tasks}Ext.Array.erase(this.listeners,c,1);return true}return false},clearListeners:function(){for(var a=this.listeners,b=a.length;b--;)this.removeListener(a[b].fn,a[b].scope)},fire:function(){var a=this.listeners,b=a.length,c,d,e;if(b>0){this.firing=true;for(c=0;c<b;c++){e=a[c];d=arguments.length?Array.prototype.slice.call(arguments,
0):[];e.o&&d.push(e.o);if(e&&e.fireFn.apply(e.scope||this.observable,d)===false)return this.firing=false}}this.firing=false;return true}}}())});
Ext.EventManager=new function(){var a=this,b=document,c=window;Ext.apply(a,{hasBoundOnReady:false,hasFiredReady:false,deferReadyEvent:1,onReadyChain:[],readyEvent:function(){var a=new Ext.util.Event;a.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||(new Date).getTime();a.self.prototype.fire.apply(a,arguments);Ext._afterReadytime=(new Date).getTime()};return a}(),idleEvent:new Ext.util.Event,isReadyPaused:function(){return/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady},
bindReadyEvent:function(){if(!a.hasBoundOnReady)if(b.readyState=="complete")a.onReadyEvent({type:b.readyState||"body"});else{document.addEventListener("DOMContentLoaded",a.onReadyEvent,false);window.addEventListener("load",a.onReadyEvent,false);a.hasBoundOnReady=true}},onReadyEvent:function(b){b&&b.type&&a.onReadyChain.push(b.type);if(a.hasBoundOnReady){document.removeEventListener("DOMContentLoaded",a.onReadyEvent,false);window.removeEventListener("load",a.onReadyEvent,false)}Ext.isReady||a.fireDocReady()},
fireDocReady:function(){if(!Ext.isReady){Ext._readyTime=(new Date).getTime();Ext.isReady=true;Ext.supports.init();a.onWindowUnload();a.readyEvent.onReadyChain=a.onReadyChain;if(Ext.isNumber(a.deferReadyEvent)){Ext.Function.defer(a.fireReadyEvent,a.deferReadyEvent);a.hasDocReadyTimer=true}else a.fireReadyEvent()}},fireReadyEvent:function(){var b=a.readyEvent;a.hasDocReadyTimer=false;for(a.isFiring=true;b.listeners.length&&!a.isReadyPaused();)b.fire();a.isFiring=false;a.hasFiredReady=true},onDocumentReady:function(b,
c,g){g=g||{};g.single=true;a.readyEvent.addListener(b,c,g);!a.isFiring&&!a.hasDocReadyTimer&&(Ext.isReady?a.fireReadyEvent():a.bindReadyEvent())},stoppedMouseDownEvent:new Ext.util.Event,propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(a){var e,a=Ext.getDom(a);e=a===b||a===c?a===b?Ext.documentId:Ext.windowId:Ext.id(a);Ext.cache[e]||Ext.addCacheEntry(e,null,a);return e},prepareListenerConfig:function(b,c,g){var h=
a.propRe,i,j;for(i in c)if(c.hasOwnProperty(i)&&!h.test(i)){j=c[i];j=typeof j=="function"?[b,i,j,c.scope,c]:[b,i,j.fn,j.scope,j];g?a.removeListener.apply(a,j):a.addListener.apply(a,j)}},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(b,c){if(a.mouseEnterLeaveRe.test(b)&&!Ext.supports.MouseEnterLeave){c&&(c=Ext.Function.createInterceptor(c,a.contains));b=b=="mouseenter"?"mouseover":"mouseout"}else b=="mousewheel"&&(!Ext.supports.MouseWheel&&!Ext.isOpera)&&(b="DOMMouseScroll");return{eventName:b,
fn:c}},contains:function(b){var c=b.browserEvent.currentTarget,b=a.getRelatedTarget(b);if(c&&c.firstChild)for(;b;){if(b===c)return false;(b=b.parentNode)&&b.nodeType!=1&&(b=null)}return true},addListener:function(c,e,g,h,i){if(typeof e!=="string")a.prepareListenerConfig(c,e);else{var j=c.dom||Ext.getDom(c),k,l;g||Ext.Error.raise({sourceClass:"Ext.EventManager",sourceMethod:"addListener",targetElement:c,eventName:e,msg:'Error adding "'+e+'" listener. The handler function is undefined.'});i=i||{};k=
a.normalizeEvent(e,g);l=a.createListenerWrap(j,e,k.fn,h,i);j.attachEvent?j.attachEvent("on"+k.eventName,l):j.addEventListener(k.eventName,l,i.capture||false);j==b&&e=="mousedown"&&a.stoppedMouseDownEvent.addListener(l);a.getEventListenerCache(c.dom?c:j,e).push({fn:g,wrap:l,scope:h})}},removeListener:function(c,e,g,h){if(typeof e!=="string")a.prepareListenerConfig(c,e,true);else for(var i=Ext.getDom(c),c=c.dom?c:Ext.get(i),c=a.getEventListenerCache(c,e),j=a.normalizeEvent(e).eventName,k=c.length,l,
m;k--;)if((l=c[k])&&(!g||l.fn==g)&&(!h||l.scope===h)){m=l.wrap;if(m.task){clearTimeout(m.task);delete m.task}if(l=m.tasks&&m.tasks.length){for(;l--;)clearTimeout(m.tasks[l]);delete m.tasks}i.detachEvent?i.detachEvent("on"+j,m):i.removeEventListener(j,m,false);m&&(i==b&&e=="mousedown")&&a.stoppedMouseDownEvent.removeListener(m);Ext.Array.erase(c,k,1)}},removeAll:function(b){var b=b.dom?b:Ext.get(b),c,g,h;if(b){c=b.$cache||b.getCache();g=c.events;for(h in g)g.hasOwnProperty(h)&&a.removeListener(b,h);
c.events={}}},purgeElement:function(b,c){var g=Ext.getDom(b),h=0;c?a.removeListener(b,c):a.removeAll(b);if(g&&g.childNodes)for(g=b.childNodes.length;h<g;h++)a.purgeElement(b.childNodes[h],c)},createListenerWrap:function(b,c,g,h,i){var i=i||{},j,k,l=/\\/g,m=function(n,o){if(!k){j=["if(!"+Ext.name+") {return;}"];i.buffer||i.delay||i.freezeEvent?j.push("e = new X.EventObjectImpl(e, "+(i.freezeEvent?"true":"false")+");"):j.push("e = X.EventObject.setEvent(e);");if(i.delegate){j.push('var result, t = e.getTarget("'+
(i.delegate+"").replace(l,"\\\\")+'", this);');j.push("if(!t) {return;}")}else j.push("var t = e.target, result;");i.target&&j.push("if(e.target !== options.target) {return;}");if(i.stopEvent)j.push("e.stopEvent();");else{i.preventDefault&&j.push("e.preventDefault();");i.stopPropagation&&j.push("e.stopPropagation();")}i.normalized===false&&j.push("e = e.browserEvent;");if(i.buffer){j.push("(wrap.task && clearTimeout(wrap.task));");j.push("wrap.task = setTimeout(function() {")}if(i.delay){j.push("wrap.tasks = wrap.tasks || [];");
j.push("wrap.tasks.push(setTimeout(function() {")}j.push("result = fn.call(scope || dom, e, t, options);");i.single&&j.push("evtMgr.removeListener(dom, ename, fn, scope);");if(c!=="mousemove"){j.push("if (evtMgr.idleEvent.listeners.length) {");j.push("evtMgr.idleEvent.fire();");j.push("}")}i.delay&&j.push("}, "+i.delay+"));");i.buffer&&j.push("}, "+i.buffer+");");j.push("return result;");k=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",j.join("\n"))}return k.call(b,
n,i,g,h,c,b,m,o,Ext,a)};return m},getEventListenerCache:function(b,c){var g;if(!b)return[];g=b.$cache?b.$cache:Ext.cache[a.getId(b)];g=g.events||(g.events={});return g[c]||(g[c]=[])},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(b){a.stopPropagation(b);a.preventDefault(b)},stopPropagation:function(a){a=a.browserEvent||a;a.stopPropagation?a.stopPropagation():a.cancelBubble=true},preventDefault:function(a){a=a.browserEvent||a;if(a.preventDefault)a.preventDefault();
else{a.returnValue=false;try{if(a.ctrlKey||a.keyCode>111&&a.keyCode<124)a.keyCode=-1}catch(b){}}},getRelatedTarget:function(b){var b=b.browserEvent||b,c=b.relatedTarget;if(!c)if(a.mouseLeaveRe.test(b.type))c=b.toElement;else if(a.mouseEnterRe.test(b.type))c=b.fromElement;return a.resolveTextNode(c)},getPageX:function(b){return a.getPageXY(b)[0]},getPageY:function(b){return a.getPageXY(b)[1]},getPageXY:function(a){var a=a.browserEvent||a,c=a.pageX,g=a.pageY,h=b.documentElement,i=b.body;if(!c&&c!==
0){c=a.clientX+(h&&h.scrollLeft||i&&i.scrollLeft||0)-(h&&h.clientLeft||i&&i.clientLeft||0);g=a.clientY+(h&&h.scrollTop||i&&i.scrollTop||0)-(h&&h.clientTop||i&&i.clientTop||0)}return[c,g]},getTarget:function(b){b=b.browserEvent||b;return a.resolveTextNode(b.target||b.srcElement)},resolveTextNode:Ext.isGecko?function(a){if(a){var b=HTMLElement.prototype.toString.call(a);if(!(b=="[xpconnect wrapped native prototype]"||b=="[object XULElement]"))return a.nodeType==3?a.parentNode:a}}:function(a){return a&&
a.nodeType==3?a.parentNode:a},curWidth:0,curHeight:0,onWindowResize:function(b,e,g){var h=a.resizeEvent;if(!h){a.resizeEvent=h=new Ext.util.Event;a.on(c,"resize",a.fireResize,null,{buffer:100})}h.addListener(b,e,g)},fireResize:function(){var b=Ext.Element.getViewWidth(),c=Ext.Element.getViewHeight();if(a.curHeight!=c||a.curWidth!=b){a.curHeight=c;a.curWidth=b;a.resizeEvent.fire(b,c)}},removeResizeListener:function(b,c){var g=a.resizeEvent;g&&g.removeListener(b,c)},onWindowUnload:function(b,e,g){var h=
a.unloadEvent;if(!h){a.unloadEvent=h=new Ext.util.Event;a.addListener(c,"unload",a.fireUnload)}b&&h.addListener(b,e,g)},fireUnload:function(){try{b=c=void 0;var d,e,g,h,i;a.unloadEvent.fire();if(Ext.isGecko3){d=Ext.ComponentQuery.query("gridview");e=0;for(g=d.length;e<g;e++)d[e].scrollToTop()}i=Ext.cache;for(h in i)i.hasOwnProperty(h)&&a.removeAll(h)}catch(j){}},removeUnloadListener:function(b,c){var g=a.unloadEvent;g&&g.removeListener(b,c)},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],
10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera),getKeyEvent:function(){return a.useKeyDown?"keydown":"keypress"}});!("addEventListener"in document)&&document.attachEvent&&Ext.apply(a,{pollScroll:function(){var b=true;try{document.documentElement.doScroll("left")}catch(c){b=false}if(b&&document.body)a.onReadyEvent({type:"doScroll"});else a.scrollTimeout=setTimeout(a.pollScroll,20);return b},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var b=document.readyState;if(a.readyStatesRe.test(b))a.onReadyEvent({type:b})},
bindReadyEvent:function(){var c=true;if(!a.hasBoundOnReady){try{c=window.frameElement===void 0}catch(e){c=false}if(!c||!b.documentElement.doScroll)a.pollScroll=Ext.emptyFn;if(a.pollScroll()!==true)if(b.readyState=="complete")a.onReadyEvent({type:"already "+(b.readyState||"body")});else{b.attachEvent("onreadystatechange",a.checkReadyState);window.attachEvent("onload",a.onReadyEvent);a.hasBoundOnReady=true}}},onReadyEvent:function(b){b&&b.type&&a.onReadyChain.push(b.type);if(a.hasBoundOnReady){document.detachEvent("onreadystatechange",
a.checkReadyState);window.detachEvent("onload",a.onReadyEvent)}if(Ext.isNumber(a.scrollTimeout)){clearTimeout(a.scrollTimeout);delete a.scrollTimeout}Ext.isReady||a.fireDocReady()},onReadyChain:[]});Ext.onReady=function(a,b,c){Ext.Loader.onReady(a,b,true,c)};Ext.onDocumentReady=a.onDocumentReady;a.on=a.addListener;a.un=a.removeListener;Ext.onReady(function(){function a(b){h.push(g+b)}var c=b.body||b.getElementsByTagName("body")[0],g=Ext.baseCSSPrefix,h=[g+"body"],i=[],j=Ext.supports.CSS3LinearGradient,
k=Ext.supports.CSS3BorderRadius,l=[],m,n;if(!c)return false;m=c.parentNode;if(Ext.isIE){a("ie");if(Ext.isIE6)a("ie6");else{a("ie7p");if(Ext.isIE7)a("ie7");else{a("ie8p");if(Ext.isIE8)a("ie8");else{a("ie9p");Ext.isIE9&&a("ie9")}}}(Ext.isIE6||Ext.isIE7)&&a("ie7m");(Ext.isIE6||Ext.isIE7||Ext.isIE8)&&a("ie8m");(Ext.isIE7||Ext.isIE8)&&a("ie78")}if(Ext.isGecko){a("gecko");Ext.isGecko3&&a("gecko3");Ext.isGecko4&&a("gecko4");Ext.isGecko5&&a("gecko5")}Ext.isOpera&&a("opera");Ext.isWebKit&&a("webkit");if(Ext.isSafari){a("safari");
Ext.isSafari2&&a("safari2");Ext.isSafari3&&a("safari3");Ext.isSafari4&&a("safari4");Ext.isSafari5&&a("safari5");Ext.isSafari5_0&&a("safari5_0")}Ext.isChrome&&a("chrome");Ext.isMac&&a("mac");Ext.isLinux&&a("linux");k||a("nbr");j||a("nlg");if(Ext.scopeResetCSS){n=Ext.resetElementSpec={cls:g+"reset"};j||l.push(g+"nlg");k||l.push(g+"nbr");if(l.length)n.cn={cls:l.join(" ")};Ext.resetElement=Ext.getBody().createChild(n);if(l.length)Ext.resetElement=Ext.get(Ext.resetElement.dom.firstChild)}else{Ext.resetElement=
Ext.getBody();a("reset")}if(m){Ext.isBorderBox=Ext.isStrict&&(Ext.isIE6||Ext.isIE7)?false:true;Ext.isBorderBox&&i.push(g+"border-box");Ext.isStrict?i.push(g+"strict"):i.push(g+"quirks");Ext.fly(m,"_internal").addCls(i)}Ext.fly(c,"_internal").addCls(h);return true})};
Ext.define("Ext.EventObjectImpl",{uses:["Ext.util.Point"],BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,
NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var a;if(Ext.isGecko)a=3;else if(Ext.isMac){a=Ext.isSafari&&Ext.webKitVersion>=532?120:12;a=a*3}else a=120;return a}(),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,
63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{"0":0,1:1,2:2},constructor:function(a,b){a&&this.setEvent(a.browserEvent||a,b)},setEvent:function(a,b){var c;if(a==this||a&&a.browserEvent)return a;if(this.browserEvent=a){c=a.button?this.btnMap[a.button]:a.which?a.which-1:-1;this.clickRe.test(a.type)&&c==-1&&(c=0);c={type:a.type,button:c,shiftKey:a.shiftKey,ctrlKey:a.ctrlKey||a.metaKey||false,altKey:a.altKey,keyCode:a.keyCode,charCode:a.charCode,target:Ext.EventManager.getTarget(a),
relatedTarget:Ext.EventManager.getRelatedTarget(a),currentTarget:a.currentTarget,xy:b?this.getXY():null}}else c={button:-1,shiftKey:false,ctrlKey:false,altKey:false,keyCode:0,charCode:0,target:null,xy:[0,0]};Ext.apply(this,c);return this},stopEvent:function(){this.stopPropagation();this.preventDefault()},preventDefault:function(){this.browserEvent&&Ext.EventManager.preventDefault(this.browserEvent)},stopPropagation:function(){var a=this.browserEvent;if(a){a.type=="mousedown"&&Ext.EventManager.stoppedMouseDownEvent.fire(this);
Ext.EventManager.stopPropagation(a)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isWebKit?this.safariKeys[a]||a:a},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){if(!this.xy)this.xy=Ext.EventManager.getPageXY(this.browserEvent);return this.xy},getTarget:function(a,
b,c){return a?Ext.fly(this.target).findParent(a,b,c):c?Ext.get(this.target):this.target},getRelatedTarget:function(a,b,c){return a?Ext.fly(this.relatedTarget).findParent(a,b,c):c?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(a){var b=Math.round(a/this.WHEEL_SCALE);!b&&a&&(b=a<0?-1:1);return b},getWheelDeltas:function(){var a=this.browserEvent,b=0,c=0;if(Ext.isDefined(a.wheelDeltaX)){b=a.wheelDeltaX;c=a.wheelDeltaY}else if(a.wheelDelta)c=a.wheelDelta;else if(a.detail){c=
-a.detail;c>100?c=3:c<-100&&(c=-3);if(Ext.isDefined(a.axis)&&a.axis===a.HORIZONTAL_AXIS){b=c;c=0}}return{x:this.correctWheelDelta(b),y:this.correctWheelDelta(c)}},getWheelDelta:function(){return this.getWheelDeltas().y},within:function(a,b,c){if(a){var b=b?this.getRelatedTarget():this.getTarget(),d;if(b){d=Ext.fly(a).contains(b);!d&&c&&(d=b==Ext.getDom(a));return d}}return false},isNavKeyPress:function(){var a=this.normalizeKey(this.keyCode);return a>=33&&a<=40||a==this.RETURN||a==this.TAB||a==this.ESC},
isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return this.type=="keypress"&&this.ctrlKey||this.isNavKeyPress()||a==this.BACKSPACE||a>=16&&a<=20||a>=44&&a<=46},getPoint:function(){var a=this.getXY();return new Ext.util.Point(a[0],a[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:function(){function a(a,b){var d=a!="mousemove";return function(e,k){var l=k.getXY(),l=c.createMouseEvent(e.ownerDocument,a,true,d,b,l[0],l[1],k.ctrlKey,
k.altKey,k.shiftKey,k.metaKey,k.button,k.relatedTarget);c.fireEvent(e,a,l)}}function b(){}var c,d={},e;if(!Ext.isIE&&document.createEvent)c={createHtmlEvent:function(a,b,c,d){a=a.createEvent("HTMLEvents");a.initEvent(b,c,d);return a},createMouseEvent:function(a,b,c,d,e,l,m,n,o,p,q,r,s){var t=a.createEvent("MouseEvents"),u=a.defaultView||window;if(t.initMouseEvent)t.initMouseEvent(b,c,d,u,e,l,m,l,m,n,o,p,q,r,s);else{t=a.createEvent("UIEvents");t.initEvent(b,c,d);t.view=u;t.detail=e;t.screenX=l;t.screenY=
m;t.clientX=l;t.clientY=m;t.ctrlKey=n;t.altKey=o;t.metaKey=q;t.shiftKey=p;t.button=r;t.relatedTarget=s}return t},createUIEvent:function(a,b,c,d,e){var l=a.createEvent("UIEvents");l.initUIEvent(b,c,d,a.defaultView||window,e);return l},fireEvent:function(a,b,c){a.dispatchEvent(c)},fixTarget:function(a){return a==window&&!a.dispatchEvent?document:a}};else if(document.createEventObject){e={"0":1,1:4,2:2};c={createHtmlEvent:function(a,b,c,d){a=a.createEventObject();a.bubbles=c;a.cancelable=d;return a},
createMouseEvent:function(a,b,c,d,k,l,m,n,o,p,q,r,s){a=a.createEventObject();a.bubbles=c;a.cancelable=d;a.detail=k;a.screenX=l;a.screenY=m;a.clientX=l;a.clientY=m;a.ctrlKey=n;a.altKey=o;a.shiftKey=p;a.metaKey=q;a.button=e[r]||r;a.relatedTarget=s;return a},createUIEvent:function(a,b,c,d){a=a.createEventObject();a.bubbles=c;a.cancelable=d;return a},fireEvent:function(a,b,c){a.fireEvent("on"+b,c)},fixTarget:function(a){return a==document?document.documentElement:a}}}Ext.Object.each({load:[false,false],
unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(a,b){var e=b[0],j=b[1];d[a]=function(b){var d=c.createHtmlEvent(a,e,j);c.fireEvent(b,a,d)}});Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(b){d[b]=a(b,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(a,b){var e=b[0],
j=b[1];d[a]=function(b){var d=c.createUIEvent(b.ownerDocument,a,e,j,1);c.fireEvent(b,a,d)}});if(!c){d={};c={fixTarget:function(a){return a}}}return function(a){var e=d[this.type]||b,a=a?a.dom||a:this.getTarget(),a=c.fixTarget(a);e(a,this)}}()},function(){Ext.EventObject=new Ext.EventObjectImpl});
Ext.define("Ext.dom.AbstractQuery",{select:function(a,b){var c=[],d,e,g,h,i,b=b||document;typeof b=="string"&&(b=document.getElementById(b));a=a.split(",");e=0;for(h=a.length;e<h;e++)if(typeof a[e]=="string")if(typeof a[e][0]=="@"){d=b.getAttributeNode(a[e].substring(1));c.push(d)}else{d=b.querySelectorAll(a[e]);g=0;for(i=d.length;g<i;g++)c.push(d[g])}return c},selectNode:function(a,b){return this.select(a,b)[0]},is:function(a,b){typeof a=="string"&&(a=document.getElementById(a));return this.select(b).indexOf(a)!==
-1}});
Ext.define("Ext.dom.AbstractHelper",{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:function(){function a(a,b,c){return b+"-"+c.toLowerCase()}var b=/([a-z])([A-Z])/g,c={};return function(d){return c[d]||(c[d]=d.replace(b,a))}}(),generateMarkup:function(a,b){var c,d,e;if(typeof a=="string")b.push(a);else if(Ext.isArray(a))for(e=0;e<
a.length;e++)a[e]&&this.generateMarkup(a[e],b);else{e=a.tag||"div";b.push("<",e);for(c in a)if(a.hasOwnProperty(c)){d=a[c];if(!this.confRe.test(c))if(typeof d=="object"){b.push(" ",c,'="');this.generateStyles(d,b).push('"')}else b.push(" ",this.attributeTransform[c]||c,'="',d,'"')}if(this.emptyTags.test(e))b.push("/>");else{b.push(">");(d=a.tpl)&&d.applyOut(a.tplData,b);(d=a.html)&&b.push(d);(d=a.cn||a.children)&&this.generateMarkup(d,b);c=this.closeTags;b.push(c[e]||(c[e]="</"+e+">"))}}return b},
generateStyles:function(a,b){var c=b||[],d;for(d in a)a.hasOwnProperty(d)&&c.push(this.decamelizeName(d),":",a[d],";");return b||c.join("")},markup:function(a){return typeof a=="string"?a:this.generateMarkup(a,[]).join("")},applyStyles:function(a,b){if(b){var c=0,d,a=Ext.fly(a);typeof b=="function"&&(b=b.call());if(typeof b=="string"){b=Ext.util.Format.trim(b).split(/\s*(?::|;)\s*/);for(d=b.length;c<d;)a.setStyle(b[c++],b[c++])}else Ext.isObject(b)&&a.setStyle(b)}},insertHtml:function(a,b,c){var d=
{},e,g,a=a.toLowerCase();d.beforebegin=["BeforeBegin","previousSibling"];d.afterend=["AfterEnd","nextSibling"];g=b.ownerDocument.createRange();e="setStart"+(this.endRe.test(a)?"After":"Before");if(d[a]){g[e](b);c=g.createContextualFragment(c);b.parentNode.insertBefore(c,a=="beforebegin"?b:b.nextSibling);return b[(a=="beforebegin"?"previous":"next")+"Sibling"]}d=(a=="afterbegin"?"first":"last")+"Child";if(b.firstChild){g[e](b[d]);c=g.createContextualFragment(c);a=="afterbegin"?b.insertBefore(c,b.firstChild):
b.appendChild(c)}else b.innerHTML=c;return b[d];throw'Illegal insertion point -> "'+a+'"';},insertBefore:function(a,b,c){return this.doInsert(a,b,c,"beforebegin")},insertAfter:function(a,b,c){return this.doInsert(a,b,c,"afterend","nextSibling")},insertFirst:function(a,b,c){return this.doInsert(a,b,c,"afterbegin","firstChild")},append:function(a,b,c){return this.doInsert(a,b,c,"beforeend","",true)},overwrite:function(a,b,c){a=Ext.getDom(a);a.innerHTML=this.markup(b);return c?Ext.get(a.firstChild):
a.firstChild},doInsert:function(a,b,c,d){a=this.insertHtml(d,Ext.getDom(a),this.markup(b));return c?Ext.get(a,true):a}});
(function(){var a=window.document,b=/^\s+|\s+$/g,c=/\s/;if(!Ext.cache)Ext.cache={};Ext.define("Ext.dom.AbstractElement",{inheritableStatics:{get:function(b){var c=Ext.dom.Element,g,h;if(!b)return null;if(typeof b=="string"){if(b==Ext.windowId)return c.get(window);if(b==Ext.documentId)return c.get(a);if((g=Ext.cache[b])&&g.skipGarbageCollection)return c=g.el;if(!(b=a.getElementById(b)))return null;return c=g&&g.el?Ext.updateCacheEntry(g,b).el:new c(b,!!g)}if(b.tagName){if(!(h=b.id))h=Ext.id(b);return c=
(g=Ext.cache[h])&&g.el?Ext.updateCacheEntry(g,b).el:new c(b,!!g)}if(b instanceof this){if(b!=this.docEl&&b!=this.winEl){h=b.id;(g=Ext.cache[h])&&Ext.updateCacheEntry(g,a.getElementById(h)||b.dom)}return b}if(b.isComposite)return b;if(Ext.isArray(b))return this.select(b);if(b===a){if(!this.docEl){this.docEl=Ext.Object.chain(c.prototype);this.docEl.dom=a;this.docEl.id=Ext.id(a);this.addToCache(this.docEl)}return this.docEl}if(b===window){if(!this.winEl){this.winEl=Ext.Object.chain(c.prototype);this.winEl.dom=
window;this.winEl.id=Ext.id(window);this.addToCache(this.winEl)}return this.winEl}return null},addToCache:function(a,b){a&&Ext.addCacheEntry(b,a);return a},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var a,e={},g,h,i,j,k,l=[],m=false;g=0;for(h=arguments.length;g<h;g++){a=arguments[g];Ext.isString(a)&&(a=a.replace(b,"").split(c));if(a){i=0;for(j=a.length;i<j;i++){k=a[i];if(!e[k]){g&&(m=true);e[k]=true}}}}for(k in e)l.push(k);l.changed=m;return l},removeCls:function(a,
e){var g={},h,i,j,k=[],l=false;if(a){Ext.isString(a)&&(a=a.replace(b,"").split(c));h=0;for(i=a.length;h<i;h++)g[a[h]]=true}if(e){Ext.isString(e)&&(e=e.split(c));h=0;for(i=e.length;h<i;h++){j=e[h];if(g[j]){l=true;delete g[j]}}}for(j in g)k.push(j);k.changed=l;return k},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(b,c){var g=typeof b=="string"?a.getElementById(b):b,h;if(!g)return null;h=g.id;if(!c&&h&&Ext.cache[h])return Ext.cache[h].el;this.dom=g;this.id=h||Ext.id(g);this.self.addToCache(this)},
set:function(a,b){var c=this.dom,h,i;for(h in a)if(a.hasOwnProperty(h)){i=a[h];h=="style"?this.applyStyles(i):h=="cls"?c.className=i:b!==false?i===void 0?c.removeAttribute(h):c.setAttribute(h,i):c[h]=i}return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a)},getValue:function(a){var b=this.dom.value;return a?parseInt(b,10):b},remove:function(){var a=this.dom;if(a){Ext.removeNode(a);delete this.dom}},contains:function(a){if(!a)return false;a=a.dom||a;return a===this.dom||Ext.dom.AbstractElement.isAncestor(this.dom,
a)},getAttribute:function(a,b){var c=this.dom;return c.getAttributeNS(b,a)||c.getAttribute(b+":"+a)||c.getAttribute(a)||c[a]},update:function(a){if(this.dom)this.dom.innerHTML=a;return this},setHTML:function(a){if(this.dom)this.dom.innerHTML=a;return this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){this.setVisible(false);return this},show:function(){this.setVisible(true);return this},setVisible:function(a){var b=this.self,c=this.getVisibilityMode(),h=Ext.baseCSSPrefix;
switch(c){case b.VISIBILITY:this.removeCls([h+"hidden-display",h+"hidden-offsets"]);this[a?"removeCls":"addCls"](h+"hidden-visibility");break;case b.DISPLAY:this.removeCls([h+"hidden-visibility",h+"hidden-offsets"]);this[a?"removeCls":"addCls"](h+"hidden-display");break;case b.OFFSETS:this.removeCls([h+"hidden-visibility",h+"hidden-display"]);this[a?"removeCls":"addCls"](h+"hidden-offsets")}return this},getVisibilityMode:function(){var a=(this.$cache||this.getCache()).data,b=a.visibilityMode;if(b===
void 0)a.visibilityMode=b=this.self.DISPLAY;return b},setVisibilityMode:function(a){(this.$cache||this.getCache()).data.visibilityMode=a;return this},getCache:function(){var a=this.dom.id||Ext.id(this.dom);return this.$cache=Ext.cache[a]||Ext.addCacheEntry(a,null,this.dom)}},function(){var b=this;Ext.getDetachedBody=function(){var c=b.detachedBodyEl;if(!c){c=a.createElement("div");b.detachedBodyEl=c=new b.Fly(c);c.isDetachedBody=true}return c};Ext.getElementById=function(c){var g=a.getElementById(c),
h;if(!g&&(h=b.detachedBodyEl))g=h.dom.querySelector("#"+Ext.escapeId(c));return g};Ext.get=function(a){return Ext.dom.Element.get(a)};this.addStatics({Fly:new Ext.Class({extend:b,isFly:true,constructor:function(a){this.dom=a},attach:function(a){this.dom=a;this.$cache=a.id?Ext.cache[a.id]:null;return this}}),_flyweights:{},fly:function(a,c){var h=null,i=b._flyweights,c=c||"_global";if(a=Ext.getDom(a)){h=i[c]||(i[c]=new b.Fly);h.dom=a;h.$cache=a.id?Ext.cache[a.id]:null}return h}});Ext.fly=function(){return b.fly.apply(b,
arguments)};(function(b){b.destroy=b.remove;b.getById=a.querySelector?function(b,c){var d=a.getElementById(b)||this.dom.querySelector("#"+Ext.escapeId(b));return c?d:d?Ext.get(d):null}:function(b,c){var d=a.getElementById(b);return c?d:d?Ext.get(d):null}})(this.prototype)})})();
Ext.dom.AbstractElement.addInheritableStatics({unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(a,
b){if(typeof a=="number")return a+(b||this.defaultUnit||"px");if(a===""||a=="auto"||a===void 0||a===null)return a||"";if(!this.unitRe.test(a)){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Warning, size detected as NaN on Element.addUnits.");return a||""}return a},isAncestor:function(a,b){var c=false,a=Ext.getDom(a),b=Ext.getDom(b);if(a&&b){if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(b)&16);for(;b=b.parentNode;)c=b==a||c}return c},
parseBox:function(a){typeof a!="string"&&(a=a.toString());var a=a.split(" "),b=a.length;if(b==1)a[1]=a[2]=a[3]=a[0];else if(b==2){a[2]=a[0];a[3]=a[1]}else b==3&&(a[3]=a[1]);return{top:parseFloat(a[0])||0,right:parseFloat(a[1])||0,bottom:parseFloat(a[2])||0,left:parseFloat(a[3])||0}},unitizeBox:function(a,b){var c=this.addUnits,d=this.parseBox(a);return c(d.top,b)+" "+c(d.right,b)+" "+c(d.bottom,b)+" "+c(d.left,b)},camelReplaceFn:function(a,b){return b.charAt(1).toUpperCase()},normalize:function(a){a==
"float"&&(a=Ext.supports.Float?"cssFloat":"styleFloat");return this.propertyCache[a]||(this.propertyCache[a]=a.replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(!Ext.isStrict?document.body.scrollHeight:document.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?document.body.scrollWidth:document.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},
getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){return Ext.supports.OrientationChange?window.orientation==0?"portrait":"landscape":window.innerHeight>window.innerWidth?"portrait":"landscape"},fromPoint:function(a,b){return Ext.get(document.elementFromPoint(a,b))},parseStyles:function(a){var b={},c=this.cssRe,d;if(a)for(c.lastIndex=0;d=c.exec(a);)b[d[1]]=d[2];return b}});
(function(){function a(a,b,c){return function(){a.selectionStart=b;a.selectionEnd=c}}var b=document,c=Ext.dom.AbstractElement,d=null,e=b.compatMode=="CSS1Compat",g;!("activeElement"in b)&&b.addEventListener&&b.addEventListener("focus",function(a){a&&a.target&&(d=a.target==b?null:a.target)},true);c.addInheritableStatics({getActiveElement:function(){return b.activeElement||d},getRightMarginFixCleaner:function(c){var e=Ext.supports,g=e.DisplayChangeInputSelectionBug,k=e.DisplayChangeTextAreaSelectionBug,
l;if(g||k){l=(e=b.activeElement||d)&&e.tagName;if((k&&l=="TEXTAREA"||g&&l=="INPUT"&&e.type=="text")&&Ext.dom.Element.isAncestor(c,e)){c=e.selectionStart;g=e.selectionEnd;if(Ext.isNumber(c)&&Ext.isNumber(g))return a(e,c,g)}}return Ext.emptyFn},getViewWidth:function(a){return a?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(a){return a?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(!e?
b.body.scrollHeight:b.documentElement.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(!e?b.body.scrollWidth:b.documentElement.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE?Ext.isStrict?b.documentElement.clientHeight:b.body.clientHeight:self.innerHeight},getViewportWidth:function(){return!Ext.isStrict&&!Ext.isOpera?b.body.clientWidth:Ext.isIE?b.documentElement.clientWidth:self.innerWidth},getY:function(a){return Ext.dom.Element.getXY(a)[1]},
getX:function(a){return Ext.dom.Element.getXY(a)[0]},getXY:function(a){var d=b.body,e=b.documentElement,k=0,l=0,m=[0,0],n=Math.round,o,a=Ext.getDom(a);if(a!=b&&a!=d){if(Ext.isIE)try{o=a.getBoundingClientRect();l=e.clientTop||d.clientTop;k=e.clientLeft||d.clientLeft}catch(p){o={left:0,top:0}}else o=a.getBoundingClientRect();g||(g=new c.Fly);g.attach(document);a=g.getScroll();m=[n(o.left+a.left-k),n(o.top+a.top-l)]}return m},setXY:function(a,b){(a=Ext.fly(a,"_setXY")).position();var c=a.translatePoints(b),
d=a.dom.style,e;for(e in c)isNaN(c[e])||(d[e]=c[e]+"px")},setX:function(a,b){Ext.dom.Element.setXY(a,[b,false])},setY:function(a,b){Ext.dom.Element.setXY(a,[false,b])},serializeForm:function(a){var a=a.elements||(document.forms[a]||Ext.getDom(a)).elements,b=false,c=encodeURIComponent,d="",e=a.length,g,n,o,p,q,r,s;for(q=0;q<e;q++){g=a[q];n=g.name;o=g.type;p=g.options;if(!g.disabled&&n)if(/select-(one|multiple)/i.test(o)){r=p.length;for(o=0;o<r;o++){s=p[o];if(s.selected){g=s.hasAttribute?s.hasAttribute("value"):
s.getAttributeNode("value").specified;d=d+Ext.String.format("{0}={1}&",c(n),c(g?s.value:s.text))}}}else if(!/file|undefined|reset|button/i.test(o)&&(!/radio|checkbox/i.test(o)||g.checked)&&!(o=="submit"&&b)){d=d+(c(n)+"="+c(g.value)+"&");b=/submit/i.test(o)}}return d.substr(0,d.length-1)}})})();
Ext.dom.AbstractElement.override({getAnchorXY:function(a,b,c){var a=(a||"tl").toLowerCase(),c=c||{},d=this.dom==document.body||this.dom==document,e=c.width||d?window.innerWidth:this.getWidth(),g=c.height||d?window.innerHeight:this.getHeight(),h=Math.round,i=this.getXY(),c=d?0:!b?i[0]:0,b=d?0:!b?i[1]:0,a={c:[h(e*0.5),h(g*0.5)],t:[h(e*0.5),0],l:[0,h(g*0.5)],r:[e,h(g*0.5)],b:[h(e*0.5),g],tl:[0,0],bl:[0,g],br:[e,g],tr:[e,0]}[a];return[a[0]+c,a[1]+b]},alignToRe:/^([a-z]+)-([a-z]+)(\?)?$/,getAlignToXY:function(a,
b,c,d){d=!!d;a=Ext.get(a);if(!a||!a.dom)throw Error("Element.alignToXY with an element that doesn't exist");c=c||[0,0];!b||b=="?"?b="tl-bl?":!/-/.test(b)&&b!==""&&(b="tl-"+b);var b=b.toLowerCase(),e=b.match(this.alignToRe),g=window.innerWidth,h=window.innerHeight,i="",j="",k,l;if(!e)throw"Element.alignTo with an invalid alignment "+b;i=e[1];j=e[2];b=!!e[3];e=this.getAnchorXY(i,true);k=a.getAnchorXY(j,d);d=k[0]-e[0]+c[0];c=k[1]-e[1]+c[1];if(b){b=this.getWidth();e=this.getHeight();a=a.getPageBox();
k=i.charAt(0);i=i.charAt(i.length-1);l=j.charAt(0);j=j.charAt(j.length-1);k=k=="t"&&l=="b"||k=="b"&&l=="t";j=i=="r"&&j=="l"||i=="l"&&j=="r";d+b>g&&(d=j?a.left-b:g-b);d<0&&(d=j?a.right:0);c+e>h&&(c=k?a.top-e:h-e);c<0&&(c=k?a.bottom:0)}return[d,c]},getAnchor:function(){var a=(this.$cache||this.getCache()).data,b;if(this.dom){b=a._anchor;if(!b)b=a._anchor={};return b}},adjustForConstraints:function(a,b){var c=this.getConstrainVector(b,a);if(c){a[0]=a[0]+c[0];a[1]=a[1]+c[1]}return a}});
Ext.dom.AbstractElement.addMethods({appendChild:function(a){return Ext.get(a).appendTo(this)},appendTo:function(a){Ext.getDom(a).appendChild(this.dom);return this},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this},insertFirst:function(a,b){a=a||{};if(a.nodeType||a.dom||typeof a=="string"){a=Ext.getDom(a);this.dom.insertBefore(a,this.dom.firstChild);return!b?
Ext.get(a):a}return this.createChild(a,this.dom.firstChild,b)},insertSibling:function(a,b,c){var d=(b||"before").toLowerCase()=="after",e,g,h,i;if(Ext.isArray(a)){g=this;h=a.length;for(i=0;i<h;i++){e=Ext.fly(g,"_internal").insertSibling(a[i],b,c);d&&(g=e)}return e}a=a||{};if(a.nodeType||a.dom){e=this.dom.parentNode.insertBefore(Ext.getDom(a),d?this.dom.nextSibling:this.dom);c||(e=Ext.get(e))}else e=d&&!this.dom.nextSibling?Ext.core.DomHelper.append(this.dom.parentNode,a,!c):Ext.core.DomHelper[d?"insertAfter":
"insertBefore"](this.dom,a,!c);return e},replace:function(a){a=Ext.get(a);this.insertBefore(a);a.remove();return this},replaceWith:function(a){if(a.nodeType||a.dom||typeof a=="string"){a=Ext.get(a);this.dom.parentNode.insertBefore(a,this.dom)}else a=Ext.core.DomHelper.insertBefore(this.dom,a);delete Ext.cache[this.id];Ext.removeNode(this.dom);this.id=Ext.id(this.dom=a);Ext.dom.AbstractElement.addToCache(this.isFlyweight?new Ext.dom.AbstractElement(this.dom):this);return this},createChild:function(a,
b,c){a=a||{tag:"div"};return b?Ext.core.DomHelper.insertBefore(b,a,c!==true):Ext.core.DomHelper[!this.dom.firstChild?"insertFirst":"append"](this.dom,a,c!==true)},wrap:function(a,b,c){var d=a=Ext.core.DomHelper.insertBefore(this.dom,a||{tag:"div"},true);c&&(d=Ext.DomQuery.selectNode(c,a.dom));d.appendChild(this.dom);return b?a.dom:a},insertHtml:function(a,b,c){a=Ext.core.DomHelper.insertHtml(a,this.dom,b);return c?Ext.get(a):a}});
(function(){var a=Ext.dom.AbstractElement;a.override({getX:function(a){return this.getXY(a)[0]},getY:function(a){return this.getXY(a)[1]},getXY:function(){var a=window.webkitConvertPointFromNodeToPage(this.dom,new WebKitPoint(0,0));return[a.x,a.y]},getOffsetsTo:function(a){var c=this.getXY(),a=Ext.fly(a,"_internal").getXY();return[c[0]-a[0],c[1]-a[1]]},setX:function(a){return this.setXY([a,this.getY()])},setY:function(a){return this.setXY([this.getX(),a])},setLeft:function(b){this.setStyle("left",
a.addUnits(b));return this},setTop:function(b){this.setStyle("top",a.addUnits(b));return this},setRight:function(b){this.setStyle("right",a.addUnits(b));return this},setBottom:function(b){this.setStyle("bottom",a.addUnits(b));return this},setXY:function(a){var c,d,e;arguments.length>1&&(a=[a,arguments[1]]);c=this.translatePoints(a);d=this.dom.style;for(e in c)c.hasOwnProperty(e)&&(isNaN(c[e])||(d[e]=c[e]+"px"));return this},getLeft:function(){return parseInt(this.getStyle("left"),10)||0},getRight:function(){return parseInt(this.getStyle("right"),
10)||0},getTop:function(){return parseInt(this.getStyle("top"),10)||0},getBottom:function(){return parseInt(this.getStyle("bottom"),10)||0},translatePoints:function(a,c){var c=isNaN(a[1])?c:a[1],a=isNaN(a[0])?a:a[0],d=this.isStyle("position","relative"),e=this.getXY(),g=parseInt(this.getStyle("left"),10),h=parseInt(this.getStyle("top"),10),g=!isNaN(g)?g:d?0:this.dom.offsetLeft,h=!isNaN(h)?h:d?0:this.dom.offsetTop;return{left:a-e[0]+g,top:c-e[1]+h}},setBox:function(a){var c=a.width,d=a.height,e=a.top,
a=a.left;a!==void 0&&this.setLeft(a);e!==void 0&&this.setTop(e);c!==void 0&&this.setWidth(c);d!==void 0&&this.setHeight(d);return this},getBox:function(a,c){var d=this.dom,e=d.offsetWidth,d=d.offsetHeight,g,h,i,j,k;g=c?a?[0,0]:[parseInt(this.getStyle("left"),10)||0,parseInt(this.getStyle("top"),10)||0]:this.getXY();if(a){h=this.getBorderWidth.call(this,"l")+this.getPadding.call(this,"l");i=this.getBorderWidth.call(this,"r")+this.getPadding.call(this,"r");j=this.getBorderWidth.call(this,"t")+this.getPadding.call(this,
"t");k=this.getBorderWidth.call(this,"b")+this.getPadding.call(this,"b");e={x:g[0]+h,y:g[1]+j,"0":g[0]+h,1:g[1]+j,width:e-(h+i),height:d-(j+k)}}else e={x:g[0],y:g[1],"0":g[0],1:g[1],width:e,height:d};e.left=e.x;e.top=e.y;e.right=e.x+e.width;e.bottom=e.y+e.height;return e},getPageBox:function(a){var c=this.dom,d=c.offsetWidth,e=c.offsetHeight,g=this.getXY(),h=g[1],i=g[0]+d,j=g[1]+e,g=g[0];return!c?new Ext.util.Region:a?new Ext.util.Region(h,i,j,g):{left:g,top:h,width:d,height:e,right:i,bottom:j}}})})();
(function(){var a=Ext.dom.AbstractElement,b=/^\s+|\s+$/g,c=/\w/g,d=/\s+/,e=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,g=Ext.supports.ClassList,h={l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},i={l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"};a.override({styleHooks:{},addStyles:function(a,b){var d=0,e=(a||"").match(c),g,h=e.length,i,q=[];if(h==1)d=Math.abs(parseFloat(this.getStyle(b[e[0]]))||0);else if(h){for(g=
0;g<h;g++){i=e[g];q.push(b[i])}q=this.getStyle(q);for(g=0;g<h;g++){i=e[g];d=d+Math.abs(parseFloat(q[b[i]])||0)}}return d},addCls:g?function(a){(""+a).indexOf("undefined")>-1&&Ext.Logger.warn("called with an undefined className: "+a);var c=this.dom,e,g,h,i,p;typeof a=="string"&&(a=a.replace(b,"").split(d));if(c&&a&&(i=a.length))if(c.className){e=c.classList;for(h=0;h<i;++h)if((p=a[h])&&!e.contains(p))if(g)g.push(p);else g=(g=c.className.replace(b,""))?[g,p]:[p];if(g)c.className=g.join(" ")}else c.className=
a.join(" ");return this}:function(a){(""+a).indexOf("undefined")>-1&&Ext.Logger.warn("called with an undefined className: '"+a+"'");var b=this.dom;if(b&&a&&a.length){a=Ext.Element.mergeClsList(b.className,a);if(a.changed)b.className=a.join(" ")}return this},removeCls:function(a){var c=this.dom,e;typeof a=="string"&&(a=a.replace(b,"").split(d));if(c&&c.className&&a&&(e=a.length))if(e==1&&g)a[0]&&c.classList.remove(a[0]);else{a=Ext.Element.removeCls(c.className,a);if(a.changed)c.className=a.join(" ")}return this},
radioCls:function(a){var b=this.dom.parentNode.childNodes,c,d,e,a=Ext.isArray(a)?a:[a];d=0;for(e=b.length;d<e;d++)(c=b[d])&&c.nodeType==1&&Ext.fly(c,"_internal").removeCls(a);return this.addCls(a)},toggleCls:g?function(a){var c=this.dom;if(c)(a=a.replace(b,""))&&c.classList.toggle(a);return this}:function(a){return this.hasCls(a)?this.removeCls(a):this.addCls(a)},hasCls:g?function(a){var b=this.dom;return b&&a?b.classList.contains(a):false}:function(a){var b=this.dom;return b?a&&(" "+b.className+
" ").indexOf(" "+a+" ")!=-1:false},replaceCls:function(a,b){return this.removeCls(a).addCls(b)},isStyle:function(a,b){return this.getStyle(a)==b},getStyle:function(b,c){var d=this.dom,e=typeof b!="string",g=this.styleHooks,h=b,i=h,q=1,r,s,t,u;if(e){s={};h=i[0];u=0;if(!(q=i.length))return s}if(!d||d.documentElement)return s||"";r=d.style;if(c)t=r;else{t=d.ownerDocument.defaultView.getComputedStyle(d,null);if(!t){c=true;t=r}}do{(r=g[h])||(g[h]=r={name:a.normalize(h)});if(r.get)r=r.get(d,this,c,t);else{r=
r.name;r=t[r]}if(!e)return r;s[h]=r;h=i[++u]}while(u<q);return s},getStyles:function(){var a=Ext.Array.slice(arguments),b=a.length,c;b&&typeof a[b-1]=="boolean"&&(c=a.pop());return this.getStyle(a,c)},isTransparent:function(a){return(a=this.getStyle(a))?e.test(a):false},setStyle:function(b,c){var d=this.dom,e=this.styleHooks,g=d.style,h=b,i;if(typeof h=="string"){(i=e[h])||(e[h]=i={name:a.normalize(h)});c=c==null?"":c;i.set?i.set(d,c,this):g[i.name]=c;i.afterSet&&i.afterSet(d,c,this)}else for(h in b)if(b.hasOwnProperty(h)){(i=
e[h])||(e[h]=i={name:a.normalize(h)});c=b[h];c=c==null?"":c;i.set?i.set(d,c,this):g[i.name]=c;i.afterSet&&i.afterSet(d,c,this)}return this},getHeight:function(a){var b=this.dom,a=a?b.clientHeight-this.getPadding("tb"):b.offsetHeight;return a>0?a:0},getWidth:function(a){var b=this.dom,a=a?b.clientWidth-this.getPadding("lr"):b.offsetWidth;return a>0?a:0},setWidth:function(b){this.dom.style.width=a.addUnits(b);return this},setHeight:function(b){this.dom.style.height=a.addUnits(b);return this},getBorderWidth:function(a){return this.addStyles(a,
h)},getPadding:function(a){return this.addStyles(a,i)},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},applyStyles:function(b){if(b){var c,d,e=this.dom;typeof b=="function"&&(b=b.call());if(typeof b=="string"){b=Ext.util.Format.trim(b).split(/\s*(?::|;)\s*/);c=0;for(d=b.length;c<d;)e.style[a.normalize(b[c++])]=b[c++]}else typeof b=="object"&&this.setStyle(b)}},setSize:function(b,c){var d=this.dom.style;if(Ext.isObject(b)){c=b.height;b=b.width}d.width=a.addUnits(b);d.height=
a.addUnits(c);return this},getViewSize:function(){var b=document,c=this.dom;return c==b||c==b.body?{width:a.getViewportWidth(),height:a.getViewportHeight()}:{width:c.clientWidth,height:c.clientHeight}},getSize:function(a){var b=this.dom;return{width:Math.max(0,a?b.clientWidth-this.getPadding("lr"):b.offsetWidth),height:Math.max(0,a?b.clientHeight-this.getPadding("tb"):b.offsetHeight)}},repaint:function(){var a=this.dom;this.addCls(Ext.baseCSSPrefix+"repaint");setTimeout(function(){Ext.fly(a).removeCls(Ext.baseCSSPrefix+
"repaint")},1);return this},getMargin:function(a){var b={t:"top",l:"left",r:"right",b:"bottom"},c;if(a)return this.addStyles.call(this,a,this.margins);a=[];for(c in this.margins)this.margins.hasOwnProperty(c)&&a.push(this.margins[c]);if((a=this.getStyle(a))&&typeof a=="object")for(c in this.margins)this.margins.hasOwnProperty(c)&&(a[b[c]]=parseFloat(a[this.margins[c]])||0);return a},mask:function(a,b,c){var d=this,e=d.dom,g=(d.$cache||d.getCache()).data,h=g.mask,i,r,s=Ext.baseCSSPrefix;d.addCls(s+
"masked");d.getStyle("position")=="static"&&d.addCls(s+"masked-relative");h&&h.remove();i=d.createChild({cls:s+"mask"+(c!==false?"":" "+s+"mask-gray"),html:a?'<div class="'+(b||s+"mask-message")+'">'+a+"</div>":""});r=d.getSize();g.mask=i;if(e===document.body){r.height=window.innerHeight;d.orientationHandler&&Ext.EventManager.unOrientationChange(d.orientationHandler,d);d.orientationHandler=function(){r=d.getSize();r.height=window.innerHeight;i.setSize(r)};Ext.EventManager.onOrientationChange(d.orientationHandler,
d)}i.setSize(r);Ext.is.iPad&&Ext.repaint()},unmask:function(){var a=(this.$cache||this.getCache()).data,b=a.mask,c=Ext.baseCSSPrefix;if(b){b.remove();delete a.mask}this.removeCls([c+"masked",c+"masked-relative"]);if(this.dom===document.body){Ext.EventManager.unOrientationChange(this.orientationHandler,this);delete this.orientationHandler}}});a.populateStyleMap=function(b,c){var d=["margin-","padding-","border-width-"],e=["before","after"],g,h,i;for(g=d.length;g--;)for(i=2;i--;){h=d[g]+e[i];b[a.normalize(h)]=
b[h]={name:a.normalize(d[g]+c[i])}}};Ext.onReady(function(){function b(a,c,d,g){a=g[this.name]||"";return e.test(a)?"transparent":a}function c(a,b,d,e){var b=e.marginRight,g,h;if(b!="0px"){g=a.style;h=g.display;g.display="inline-block";b=(d?e:a.ownerDocument.defaultView.getComputedStyle(a,null)).marginRight;g.display=h}return b}function d(b,c,e,g){var c=g.marginRight,h,i,j;if(c!="0px"){h=b.style;i=a.getRightMarginFixCleaner(b);j=h.display;h.display="inline-block";c=(e?g:b.ownerDocument.defaultView.getComputedStyle(b,
"")).marginRight;h.display=j;i()}return c}var g=Ext.supports,h,i,p,q;h=a.prototype.styleHooks;a.populateStyleMap(h,["left","right"]);g.init&&g.init();if(!g.RightMargin)h.marginRight=h["margin-right"]={name:"marginRight",get:g.DisplayChangeInputSelectionBug||g.DisplayChangeTextAreaSelectionBug?d:c};if(!g.TransparentColor){g=["background-color","border-color","color","outline-color"];for(i=g.length;i--;){p=g[i];q=a.normalize(p);h[p]=h[q]={name:q,get:b}}}})})();
Ext.dom.AbstractElement.override({findParent:function(a,b,c){var d=this.dom,e=document.documentElement,g=0,h,b=b||50;if(isNaN(b)){h=Ext.getDom(b);b=Number.MAX_VALUE}for(;d&&d.nodeType==1&&g<b&&d!=e&&d!=h;){if(Ext.DomQuery.is(d,a))return c?Ext.get(d):d;g++;d=d.parentNode}return null},findParentNode:function(a,b,c){var d=Ext.fly(this.dom.parentNode,"_internal");return d?d.findParent(a,b,c):null},up:function(a,b){return this.findParentNode(a,b,true)},select:function(a,b){return Ext.dom.Element.select(a,
this.dom,b)},query:function(a){return Ext.DomQuery.select(a,this.dom)},down:function(a,b){var c=Ext.DomQuery.selectNode(a,this.dom);return b?c:Ext.get(c)},child:function(a,b){var c;c=Ext.id(this.dom);c=Ext.escapeId(c);c=Ext.DomQuery.selectNode("#"+c+" > "+a,this.dom);return b?c:Ext.get(c)},parent:function(a,b){return this.matchNode("parentNode","parentNode",a,b)},next:function(a,b){return this.matchNode("nextSibling","nextSibling",a,b)},prev:function(a,b){return this.matchNode("previousSibling","previousSibling",
a,b)},first:function(a,b){return this.matchNode("nextSibling","firstChild",a,b)},last:function(a,b){return this.matchNode("previousSibling","lastChild",a,b)},matchNode:function(a,b,c,d){if(!this.dom)return null;for(b=this.dom[b];b;){if(b.nodeType==1&&(!c||Ext.DomQuery.is(b,c)))return!d?Ext.get(b):b;b=b[a]}return null},isAncestor:function(a){return this.self.isAncestor.call(this.self,this.dom,a)}});
(function(){var a=document.createElement("div"),b=["BeforeBegin","previousSibling"],c=["AfterEnd","nextSibling"],d={beforebegin:b,afterend:c},e={beforebegin:b,afterend:c,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};Ext.define("Ext.dom.Helper",{extend:"Ext.dom.AbstractHelper",requires:["Ext.dom.AbstractElement"],tableRe:/^table|tbody|tr|td$/i,tableElRe:/td|tr|tbody/i,useDom:false,createDom:function(a,b){var c;c=document;var d,e,l;if(Ext.isArray(a)){c=c.createDocumentFragment();
e=0;for(d=a.length;e<d;e++)this.createDom(a[e],c)}else if(typeof a=="string")c=c.createTextNode(a);else{c=c.createElement(a.tag||"div");d=!!c.setAttribute;for(e in a)if(!this.confRe.test(e)){l=a[e];e=="cls"?c.className=l:d?c.setAttribute(e,l):c[e]=l}Ext.DomHelper.applyStyles(c,a.style);if(e=a.children||a.cn)this.createDom(e,c);else if(a.html)c.innerHTML=a.html}b&&b.appendChild(c);return c},ieTable:function(b,c,d,e){a.innerHTML=[c,d,e].join("");d=-1;for(c=a;++d<b;)c=c.firstChild;if(b=c.nextSibling)for(c=
document.createDocumentFragment();b;){c.appendChild(b);b=b.nextSibling}return c},insertIntoTable:function(a,b,c,d){var e=b=="beforebegin",l=b=="afterbegin",m=b=="beforeend",n=b=="afterend";if(a=="td"&&(l||m)||!this.tableElRe.test(a)&&(e||n))return null;b=e?c:n?c.nextSibling:l?c.firstChild:null;if(e||n)c=c.parentNode;a=a=="td"||a=="tr"&&(m||l)?this.ieTable(4,"<table><tbody><tr>",d,"</tr></tbody></table>"):a=="tbody"&&(m||l)||a=="tr"&&(e||n)?this.ieTable(3,"<table><tbody>",d,"</tbody></table>"):this.ieTable(2,
"<table>",d,"</table>");c.insertBefore(a,b);return a},createContextualFragment:function(b){var c=document.createDocumentFragment(),d;a.innerHTML=b;d=a.childNodes;for(b=d.length;b--;)c.appendChild(d[0]);return c},applyStyles:function(a,b){if(b){a=Ext.fly(a);typeof b=="function"&&(b=b.call());typeof b=="string"&&(b=Ext.dom.Element.parseStyles(b));typeof b=="object"&&a.setStyle(b)}},createHtml:function(a){return this.markup(a)},doInsert:function(a,b,c,d,e,l){a=a.dom||Ext.getDom(a);if(this.useDom){b=
this.createDom(b,null);l?a.appendChild(b):(e=="firstChild"?a:a.parentNode).insertBefore(b,a[e]||a)}else b=this.insertHtml(d,a,this.markup(b));return c?Ext.get(b,true):b},overwrite:function(a,b,c){a=Ext.getDom(a);b=this.markup(b);if(Ext.isIE&&this.tableRe.test(a.tagName)){for(;a.firstChild;)a.removeChild(a.firstChild);if(b){a=this.insertHtml("afterbegin",a,b);return c?Ext.get(a):a}return null}a.innerHTML=b;return c?Ext.get(a.firstChild):a.firstChild},insertHtml:function(a,b,c){var j,k,l,a=a.toLowerCase();
if(b.insertAdjacentHTML){if(Ext.isIE&&this.tableRe.test(b.tagName)&&(k=this.insertIntoTable(b.tagName.toLowerCase(),a,b,c)))return k;if(j=e[a]){b.insertAdjacentHTML(j[0],c);return b[j[1]]}}else{if(b.nodeType===3){a=a==="afterbegin"?"beforebegin":a;a=a==="beforeend"?"afterend":a}k=Ext.supports.CreateContextualFragment?b.ownerDocument.createRange():void 0;l="setStart"+(this.endRe.test(a)?"After":"Before");if(d[a]){if(k){k[l](b);k=k.createContextualFragment(c)}else k=this.createContextualFragment(c);
b.parentNode.insertBefore(k,a=="beforebegin"?b:b.nextSibling);return b[(a=="beforebegin"?"previous":"next")+"Sibling"]}j=(a=="afterbegin"?"first":"last")+"Child";if(b.firstChild){if(k){k[l](b[j]);k=k.createContextualFragment(c)}else k=this.createContextualFragment(c);a=="afterbegin"?b.insertBefore(k,b.firstChild):b.appendChild(k)}else b.innerHTML=c;return b[j]}Ext.Error.raise({sourceClass:"Ext.DomHelper",sourceMethod:"insertHtml",htmlToInsert:c,targetElement:b,msg:'Illegal insertion point reached: "'+
a+'"'})},createTemplate:function(a){a=this.markup(a);return new Ext.Template(a)}},function(){Ext.ns("Ext.core");Ext.DomHelper=Ext.core.DomHelper=new this})})();Ext.ns("Ext.core");
Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=function(){function a(a){for(;(a=a.nextSibling)&&a.nodeType!=1;);return a}function b(a){for(;(a=a.previousSibling)&&a.nodeType!=1;);return a}function c(a){if(!a)return[];var b=a.length,c,d,e=a,g=-1;if(!b||typeof a.nodeType!="undefined"||b==1)return a;if(o&&typeof a[0].selectSingleNode!="undefined"){e=++p;a[0].setAttribute("_nodup",e);g=[a[0]];b=1;for(d=a.length;b<d;b++){c=a[b];if(!c.getAttribute("_nodup")!=e){c.setAttribute("_nodup",e);g[g.length]=c}}b=
0;for(d=a.length;b<d;b++)a[b].removeAttribute("_nodup");return g}b=++p;a[0]._nodup=b;for(d=1;c=a[d];d++)if(c._nodup!=b)c._nodup=b;else{e=[];for(c=0;c<d;c++)e[++g]=a[c];for(c=d+1;d=a[c];c++)if(d._nodup!=b){d._nodup=b;e[++g]=d}break}return e}var d={},e={},g={},h=/^\s+|\s+$/g,i=/\{(\d+)\}/g,j=/^(\s?[\/>+~]\s?|\s|$)/,k=/^(#)?([\w\-\*\\]+)/,l=/(\d*)n\+?(\d*)/,m=/\D/,n=/^\s*\#/,o=window.ActiveXObject?true:false,p=30803,q=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,r=/\\([^0-9a-fA-F]{1})/g,s=/\\/g,t,u,v=function(a,b){for(;b.length<
6;)b="0"+b;return"\\"+b},w=function(a,b){t=b.charCodeAt(0).toString(16);t.length===1&&(t="0"+t);return"\\0000"+t},y=function(a){(u=a.indexOf("\\")>-1)&&(a=a.replace(q,v).replace(r,w).replace(s,"\\\\"));return a};eval("var batch = 30803;");return{getStyle:function(a,b){return Ext.fly(a).getStyle(b)},compile:function(a,b){var b=b||"select",c=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],d,e=Ext.DomQuery.matchers,g=e.length,l;l=a.match(j);var m,n,o,a=y(a);if(l&&l[1]){c[c.length]=
'mode="'+l[1].replace(h,"")+'";';a=a.replace(l[1],"")}for(;a.substr(0,1)=="/";)a=a.substr(1);for(;a&&d!=a;){d=a;l=a.match(k);if(b=="select")if(l){c[c.length]=l[1]=="#"?'n = quickId(n, mode, root, "'+l[2]+'");':'n = getNodes(n, mode, "'+l[2]+'");';a=a.replace(l[0],"")}else a.substr(0,1)!="@"&&(c[c.length]='n = getNodes(n, mode, "*");');else if(l){c[c.length]=l[1]=="#"?'n = byId(n, "'+l[2]+'");':'n = byTag(n, "'+l[2]+'");';a=a.replace(l[0],"")}for(;!(l=a.match(j));){l=false;for(m=0;m<g;m++){n=e[m];
if(o=a.match(n.re)){c[c.length]=n.select.replace(i,function(a,b){return o[b]});a=a.replace(o[0],"");l=true;break}}l||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+a+'"'})}if(l[1]){c[c.length]='mode="'+l[1].replace(h,"")+'";';a=a.replace(l[1],"")}}c[c.length]="return nodup(n);\n}";eval(c.join(""));return f},jsSelect:function(a,b,e){b=b||document;typeof b=="string"&&(b=document.getElementById(b));var a=a.split(","),g=[],i,j,k;i=
0;for(j=a.length;i<j;i++){k=a[i].replace(h,"");if(d[k])y(k);else{d[k]=Ext.DomQuery.compile(k,e);d[k]||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:k+" is not a valid selector"})}(k=d[k](b))&&k!=document&&(g=g.concat(k))}return a.length>1?c(g):g},isXml:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false},select:document.querySelectorAll?function(a,b,c){b=b||document;if(!Ext.DomQuery.isXml(b))try{if(b.parentNode&&b.nodeType!==9&&a.indexOf(",")===
-1&&!n.test(a)){a="#"+Ext.escapeId(Ext.id(b))+" "+a;b=b.parentNode}return Ext.Array.toArray(b.querySelectorAll(a))}catch(d){}return Ext.DomQuery.jsSelect.call(this,a,b,c)}:function(a,b,c){return Ext.DomQuery.jsSelect.call(this,a,b,c)},selectNode:function(a,b){return Ext.DomQuery.select(a,b)[0]},selectValue:function(a,b,c){a=a.replace(h,"");g[a]?y(a):g[a]=Ext.DomQuery.compile(a,"select");a=g[a](b);a=a[0]?a[0]:a;typeof a.normalize=="function"&&a.normalize();a=a&&a.firstChild?a.firstChild.nodeValue:
null;return a===null||a===void 0||a===""?c:a},selectNumber:function(a,b,c){a=Ext.DomQuery.selectValue(a,b,c||0);return parseFloat(a)},is:function(a,b){typeof a=="string"&&(a=document.getElementById(a));var c=Ext.isArray(a),d=Ext.DomQuery.filter(c?a:[a],b);return c?d.length==a.length:d.length>0},filter:function(a,b,c){b=b.replace(h,"");e[b]?y(b):e[b]=Ext.DomQuery.compile(b,"simple");b=e[b](a);if(c){var d=b.length,c=++p,g=[],i;if(d){if(o&&typeof b[0].selectSingleNode!="undefined"){c=++p;g=[];i=0;for(d=
b.length;i<d;i++)b[i].setAttribute("_qdiff",c);i=0;for(d=a.length;i<d;i++)a[i].getAttribute("_qdiff")!=c&&(g[g.length]=a[i]);i=0;for(d=b.length;i<d;i++)b[i].removeAttribute("_qdiff")}else{for(i=0;i<d;i++)b[i]._qdiff=c;i=0;for(b=a.length;i<b;i++)a[i]._qdiff!=c&&(g[g.length]=a[i])}a=g}}else a=b;return a},matchers:[{re:/^\.([\w\-\\]+)/,select:'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,
select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,b){return a==b},"!=":function(a,b){return a!=b},"^=":function(a,b){return a&&a.substr(0,b.length)==b},"$=":function(a,b){return a&&a.substr(a.length-b.length)==b},"*=":function(a,b){return a&&a.indexOf(b)!==-1},"%=":function(a,b){return a%b==0},"|=":function(a,b){return a&&(a==b||a.substr(0,
b.length+1)==b+"-")},"~=":function(a,b){return a&&(" "+a+" ").indexOf(" "+b+" ")!=-1}},pseudos:{"first-child":function(a){var b=[],c=-1,d,e,g;for(e=0;g=d=a[e];e++){for(;(d=d.previousSibling)&&d.nodeType!=1;);d||(b[++c]=g)}return b},"last-child":function(a){var b=[],c=-1,d,e,g;for(e=0;g=d=a[e];e++){for(;(d=d.nextSibling)&&d.nodeType!=1;);d||(b[++c]=g)}return b},"nth-child":function(a,b){var c=[],d=-1,e=l.exec(b=="even"&&"2n"||b=="odd"&&"2n+1"||!m.test(b)&&"n+"+b||b),g=(e[1]||1)-0,e=e[2]-0,h,i,j,k,
n;for(h=0;i=a[h];h++){n=i.parentNode;if(batch!=n._batch){j=0;for(k=n.firstChild;k;k=k.nextSibling)if(k.nodeType==1)k.nodeIndex=++j;n._batch=batch}if(g==1){if(e==0||i.nodeIndex==e)c[++d]=i}else(i.nodeIndex+e)%g==0&&(c[++d]=i)}return c},"only-child":function(c){var d=[],e=-1,g,h;for(g=0;h=c[g];g++)!b(h)&&!a(h)&&(d[++e]=h);return d},empty:function(a){var b=[],c=-1,d,e,g,h,i,j;for(d=0;e=a[d];d++){g=e.childNodes;h=0;for(j=true;i=g[h];){++h;if(i.nodeType==1||i.nodeType==3){j=false;break}}j&&(b[++c]=e)}return b},
contains:function(a,b){var c=[],d=-1,e,g;for(e=0;g=a[e];e++)if((g.textContent||g.innerText||g.text||"").indexOf(b)!=-1)c[++d]=g;return c},nodeValue:function(a,b){var c=[],d=-1,e,g;for(e=0;g=a[e];e++)g.firstChild&&g.firstChild.nodeValue==b&&(c[++d]=g);return c},checked:function(a){var b=[],c=-1,d,e;for(d=0;e=a[d];d++)e.checked==true&&(b[++c]=e);return b},not:function(a,b){return Ext.DomQuery.filter(a,b,true)},any:function(a,b){var c=b.split("|"),d=[],e=-1,g,h,i,j;for(h=0;i=a[h];h++)for(j=0;g=c[j];j++)if(Ext.DomQuery.is(i,
g)){d[++e]=i;break}return d},odd:function(a){return this["nth-child"](a,"odd")},even:function(a){return this["nth-child"](a,"even")},nth:function(a,b){return a[b-1]||[]},first:function(a){return a[0]||[]},last:function(a){return a[a.length-1]||[]},has:function(a,b){var c=Ext.DomQuery.select,d=[],e=-1,g,h;for(g=0;h=a[g];g++)c(b,h).length>0&&(d[++e]=h);return d},next:function(b,c){var d=Ext.DomQuery.is,e=[],g=-1,h,i,j;for(h=0;i=b[h];h++)(j=a(i))&&d(j,c)&&(e[++g]=i);return e},prev:function(a,c){var d=
Ext.DomQuery.is,e=[],g=-1,h,i,j;for(h=0;i=a[h];h++)(j=b(i))&&d(j,c)&&(e[++g]=i);return e}}}}();Ext.query=Ext.DomQuery.select;
(function(){var a=document,b=Ext.baseCSSPrefix+"masked",c=Ext.baseCSSPrefix+"masked-relative",d=Ext.baseCSSPrefix+"mask-msg",e=/^body/i,g,h=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},i=function(a){var b=[],c=-1,d,e;for(d=0;e=a[d];d++)if(e.scrollTop>0||e.scrollLeft>0)b[++c]=e;return b},j=Ext.define("Ext.dom.Element",{extend:"Ext.dom.AbstractElement",alternateClassName:["Ext.Element","Ext.core.Element"],addUnits:function(){return this.self.addUnits.apply(this.self,arguments)},focus:function(b,
c){var d,e,c=c||this.dom;e=(c.ownerDocument||a).body||a.body;try{if(Number(b))Ext.defer(this.focus,b,this,[null,c]);else{if(c.offsetHeight>j.getViewHeight())d=e.scrollTop;c.focus();if(d!==void 0)e.scrollTop=d}}catch(g){}return this},blur:function(){try{this.dom.blur()}catch(a){}return this},isBorderBox:function(){var a=Ext.isBorderBox;a&&(a=!((this.dom.tagName||"").toLowerCase()in h));return a},hover:function(a,b,c,d){this.on("mouseenter",a,c||this.dom,d);this.on("mouseleave",b,c||this.dom,d);return this},
getAttributeNS:function(a,b){return this.getAttribute(b,a)},getAttribute:Ext.isIE&&!(Ext.isIE9&&a.documentMode===9)?function(a,b){var c=this.dom,d;if(b){d=typeof c[b+":"+a];return d!="undefined"&&d!="unknown"?c[b+":"+a]||null:null}a==="for"&&(a="htmlFor");return c[a]||null}:function(a,b){var c=this.dom;return b?c.getAttributeNS(b,a)||c.getAttribute(b+":"+a):c.getAttribute(a)||c[a]||null},cacheScrollValues:function(){var a,b,c,d=[];if(!Ext.DomQuery.pseudos.isScrolled)Ext.DomQuery.pseudos.isScrolled=
i;a=this.query(":isScrolled");for(c=0;c<a.length;c++){b=a[c];d[c]=[b.scrollLeft,b.scrollTop]}return function(){for(c=0;c<a.length;c++){b=a[c];b.scrollLeft=d[c][0];b.scrollTop=d[c][1]}}},autoBoxAdjust:true,isVisible:function(a){var b=this.dom,c=b.ownerDocument.documentElement;for(g||(g=new j.Fly);b!==c;){if(!b||b.nodeType===11||g.attach(b).isStyle("visibility","hidden")||g.isStyle("display","none"))return false;if(!a)break;b=b.parentNode}return true},isDisplayed:function(){return!this.isStyle("display",
"none")},enableDisplayMode:function(a){this.setVisibilityMode(j.DISPLAY);if(!Ext.isEmpty(a))(this.$cache||this.getCache()).data.originalDisplay=a;return this},mask:function(g,h,i){var j=this.dom,o=j.style.setExpression,p=(this.$cache||this.getCache()).data,q=p.maskEl,r=p.maskMsg;e.test(j.tagName)&&this.getStyle("position")=="static"||this.addCls(c);q&&q.remove();r&&r.remove();Ext.DomHelper.append(j,[{cls:Ext.baseCSSPrefix+"mask"},{cls:h?d+" "+h:d,cn:{tag:"div",html:g||""}}]);r=Ext.get(j.lastChild);
q=Ext.get(r.dom.previousSibling);p.maskMsg=r;p.maskEl=q;this.addCls(b);q.setDisplayed(true);if(typeof g=="string"){r.setDisplayed(true);r.center(this)}else r.setDisplayed(false);if(!Ext.supports.IncludePaddingInWidthCalculation&&o)try{q.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"')}catch(s){}if(!Ext.supports.IncludePaddingInHeightCalculation&&o)try{q.dom.style.setExpression("height","this.parentNode."+(j==a.body?"scrollHeight":"offsetHeight")+' + "px"')}catch(t){}else if(Ext.isIE&&
(!Ext.isIE7||!Ext.isStrict)&&this.getStyle("height")=="auto")q.setSize(void 0,i||this.getHeight());return q},unmask:function(){var a=(this.$cache||this.getCache()).data,d=a.maskEl,e=a.maskMsg,g;if(d){g=d.dom.style;if(g.clearExpression){g.clearExpression("width");g.clearExpression("height")}if(d){d.remove();delete a.maskEl}if(e){e.remove();delete a.maskMsg}this.removeCls([b,c])}},isMasked:function(){var a=(this.$cache||this.getCache()).data,b=a.maskEl,a=a.maskMsg,c=false;if(b&&b.isVisible()){a&&a.center(this);
c=true}return c},createShim:function(){var b=a.createElement("iframe");b.frameBorder="0";b.className=Ext.baseCSSPrefix+"shim";b.src=Ext.SSL_SECURE_URL;b=Ext.get(this.dom.parentNode.insertBefore(b,this.dom));b.autoBoxAdjust=false;return b},addKeyListener:function(a,b,c){a=typeof a!="object"||Ext.isArray(a)?{target:this,key:a,fn:b,scope:c}:{target:this,key:a.key,shift:a.shift,ctrl:a.ctrl,alt:a.alt,fn:b,scope:c};return new Ext.util.KeyMap(a)},addKeyMap:function(a){return new Ext.util.KeyMap(Ext.apply({target:this},
a))},on:function(a,b,c,d){Ext.EventManager.on(this,a,b,c||this,d);return this},un:function(a,b,c){Ext.EventManager.un(this,a,b,c||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this);return this}},function(){var b=Ext.cache,c=this,d=Ext.dom.AbstractElement,e=/a|button|embed|iframe|img|input|object|select|textarea/i,g=/\S/,h=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,i=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,
r=/\ssrc=([\'\"])(.*?)\1/i,s=/\stype=([\'\"])(.*?)\1/i,t=!(Ext.isIE6||Ext.isIE7||Ext.isIE8);c.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';c.collectorThreadId=setInterval(function(){if(Ext.enableGarbageCollector){var a,d;for(a in b)if(b.hasOwnProperty(a)){d=b[a];if(!d.skipGarbageCollection){(d=d.dom)||
Ext.Error.raise("Missing DOM node in element garbage collection: "+a);d&&(d.getElementById||d.navigator)&&Ext.Error.raise("Unexpected document or window element in element garbage collection");if(!d.parentNode||!d.offsetParent&&!Ext.getElementById(a)){d&&Ext.enableListenerCollection&&Ext.EventManager.removeAll(d);delete b[a]}}}if(Ext.isIE){d={};for(a in b)b.hasOwnProperty(a)&&(d[a]=b[a]);b=Ext.cache=d}}else clearInterval(c.collectorThreadId)},3E4);c.addMethods({monitorMouseLeave:function(a,b,c){var d=
this,e,g={mouseleave:function(g){e=setTimeout(Ext.Function.bind(b,c||d,[g]),a)},mouseenter:function(){clearTimeout(e)},freezeEvent:true};d.on(g);return g},swallowEvent:function(a,b){function c(a){a.stopPropagation();b&&a.preventDefault()}var d,e;if(Ext.isArray(a)){e=a.length;for(d=0;d<e;d++)this.on(a[d],c);return this}this.on(a,c);return this},relayEvent:function(a,b){this.on(a,function(c){b.fireEvent(a,c)})},clean:function(a){var b=this.dom,c=(this.$cache||this.getCache()).data,d=b.firstChild,e=
-1;if(c.isCleaned&&a!==true)return this;for(;d;){a=d.nextSibling;if(d.nodeType==3)if(g.test(d.nodeValue)){if(a&&a.nodeType==3){d.appendData(Ext.String.trim(a.data));b.removeChild(a);a=d.nextSibling;d.nodeIndex=++e}}else b.removeChild(d);else{Ext.fly(d).clean();d.nodeIndex=++e}d=a}c.isCleaned=true;return this},load:function(a){this.getLoader().load(a);return this},getLoader:function(){var a=(this.$cache||this.getCache()).data,b=a.loader;if(!b)a.loader=b=new Ext.ElementLoader({target:this});return b},
syncContent:function(a){var a=Ext.getDom(a),b=a.childNodes,c=b.length,d=this.dom,e=d.childNodes,g=e.length,h,i,j;d.style.cssText=a.style.cssText;d.className=a.className;if(c!==g)a.innerHTML=d.innerHTML;else for(g=0;g<c;g++){i=b[g];h=e[g];j=i.nodeType;if(j!==h.nodeType||j===1&&i.tagName!==h.tagName){d.innerHTML=a.innerHTML;break}if(j===3)h.data=i.data;else{if(i.id&&h.id!==i.id)h.id=i.id;h.style.cssText=i.style.cssText;h.className=i.className;Ext.fly(h).syncContent(i)}}},update:function(b,c,d){var e=
this,g,j,k;if(!e.dom)return e;b=b||"";j=e.dom;if(c!==true){j.innerHTML=b;Ext.callback(d,e);return e}g=Ext.id();b=b+('<span id="'+g+'"></span>');k=setInterval(function(){var c,i,j,l;if(!(c=a.getElementById(g)))return false;clearInterval(k);Ext.removeNode(c);for(c=Ext.getHead().dom;i=h.exec(b);)if((l=(j=i[1])?j.match(r):false)&&l[2]){i=a.createElement("script");i.src=l[2];if((j=j.match(s))&&j[2])i.type=j[2];c.appendChild(i)}else i[2]&&i[2].length>0&&(window.execScript?window.execScript(i[2]):window.eval(i[2]));
Ext.callback(d,e)},20);j.innerHTML=b.replace(i,"");return e},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(a,b,c){a=typeof a=="object"?a:{tag:"div",cls:a};a=b?Ext.DomHelper.append(b,a,true):Ext.DomHelper.insertBefore(this.dom,a,true);a.setVisibilityMode(j.DISPLAY);a.hide();c&&(this.setBox&&this.getBox)&&a.setBox(this.getBox());return a},getScopeParent:function(){var a=this.dom.parentNode;if(Ext.scopeResetCSS){a=a.parentNode;
if(!Ext.supports.CSS3LinearGradient||!Ext.supports.CSS3BorderRadius)a=a.parentNode}return a},needsTabIndex:function(){if(this.dom)return this.dom.nodeName==="a"&&!this.dom.href?true:!e.test(this.dom.nodeName)},focusable:function(){var a=this.dom,b=a.nodeName,c=false;if(!a.disabled)if(e.test(b)){if(b!=="a"||a.href)c=true}else c=!isNaN(a.tabIndex);return c&&this.isVisible(true)}});if(Ext.isIE)c.prototype.getById=function(d,e){var g=this.dom,h;if(g)if(h=t&&a.getElementById(d)||g.all[d]){if(e)g=h;else g=
(g=b[d])&&g.el?Ext.updateCacheEntry(g,h).el:new j(h);return g}return e?Ext.getDom(d):c.get(d)};c.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners"});c.Fly=d.Fly=new Ext.Class({extend:c,constructor:function(a){this.dom=a},attach:d.Fly.prototype.attach});if(Ext.isIE)Ext.getElementById=function(b){var c=a.getElementById(b),e;if(!c&&(e=d.detachedBodyEl))c=e.dom.all[b];return c};else if(!a.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(b){return a.getElementById(b)}}})})();
Ext.dom.Element.override(function(){var a=document,b=window,c=/^([a-z]+)-([a-z]+)(\?)?$/,d=Math.round;return{getAnchorXY:function(b,c,h){var b=(b||"tl").toLowerCase(),h=h||{},i=this.dom==a.body||this.dom==a,j=h.width||i?Ext.dom.Element.getViewWidth():this.getWidth(),h=h.height||i?Ext.dom.Element.getViewHeight():this.getHeight(),k,l=this.getXY(),m=this.getScroll(),n=i?m.left:!c?l[0]:0,c=i?m.top:!c?l[1]:0;switch(b){case "tl":k=[0,0];break;case "bl":k=[0,h];break;case "tr":k=[j,0];break;case "c":k=[d(j*
0.5),d(h*0.5)];break;case "t":k=[d(j*0.5),0];break;case "l":k=[0,d(h*0.5)];break;case "r":k=[j,d(h*0.5)];break;case "b":k=[d(j*0.5),h];break;case "br":k=[j,h]}return[k[0]+n,k[1]+c]},getAlignToXY:function(b,d,h){b=Ext.get(b);(!b||!b.dom)&&Ext.Error.raise({sourceClass:"Ext.dom.Element",sourceMethod:"getAlignToXY",msg:"Attempted to align an element that doesn't exist"});var h=h||[0,0],d=(!d||d=="?"?"tl-bl?":!/-/.test(d)&&d!==""?"tl-"+d:d||"tl-bl").toLowerCase(),i,j,k,l=Ext.dom.Element.getViewWidth()-
10,m=Ext.dom.Element.getViewHeight()-10,n,o,p,q=a.documentElement;p=a.body;var r=q.scrollLeft||p.scrollLeft||0,q=q.scrollTop||p.scrollTop||0;(k=d.match(c))||Ext.Error.raise({sourceClass:"Ext.dom.Element",sourceMethod:"getAlignToXY",el:b,position:d,offset:h,msg:'Attemmpted to align an element with an invalid position: "'+d+'"'});n=k[1];p=k[2];k=!!k[3];i=this.getAnchorXY(n,true);j=b.getAnchorXY(p,false);d=j[0]-i[0]+h[0];h=j[1]-i[1]+h[1];if(k){k=this.getWidth();i=this.getHeight();b=b.getRegion();j=n.charAt(0);
n=n.charAt(n.length-1);o=p.charAt(0);p=p.charAt(p.length-1);j=j=="t"&&o=="b"||j=="b"&&o=="t";p=n=="r"&&p=="l"||n=="l"&&p=="r";d+k>l+r&&(d=p?b.left-k:l+r-k);d<r&&(d=p?b.right:r);h+i>m+q&&(h=j?b.top-i:m+q-i);h<q&&(h=j?b.bottom:q)}return[d,h]},anchorTo:function(a,c,d,i,j,k){var l=this.dom,m=!Ext.isEmpty(j),n=function(){Ext.fly(l).alignTo(a,c,d,i);Ext.callback(k,Ext.fly(l))},o=this.getAnchor();this.removeAnchor();Ext.apply(o,{fn:n,scroll:m});Ext.EventManager.onWindowResize(n,null);if(m)Ext.EventManager.on(b,
"scroll",n,null,{buffer:!isNaN(j)?j:50});n.call(this);return this},removeAnchor:function(){var a=this.getAnchor();if(a&&a.fn){Ext.EventManager.removeResizeListener(a.fn);a.scroll&&Ext.EventManager.un(b,"scroll",a.fn);delete a.fn}return this},getAlignVector:function(a,b,c){var d=this.getXY(),b=this.getAlignToXY(a,b,c),a=Ext.get(a);(!a||!a.dom)&&Ext.Error.raise({sourceClass:"Ext.dom.Element",sourceMethod:"getAlignVector",msg:"Attempted to align an element that doesn't exist"});b[0]=b[0]-d[0];b[1]=b[1]-
d[1];return b},alignTo:function(a,b,c,d){return this.setXY(this.getAlignToXY(a,b,c),this.anim&&d?this.anim(d):false)},getConstrainVector:function(a,b){a instanceof Ext.util.Region||(a=Ext.get(a).getViewRegion());var c=this.getRegion(),d=[0,0],j=this.shadow&&!this.shadowDisabled?this.shadow.getShadowSize():void 0,k=false;b&&c.translateBy(b[0]-c.x,b[1]-c.y);j&&a.adjust(j[0],-j[1],-j[2],j[3]);if(c.right>a.right){k=true;d[0]=a.right-c.right}if(c.left+d[0]<a.left){k=true;d[0]=a.left-c.left}if(c.bottom>
a.bottom){k=true;d[1]=a.bottom-c.bottom}if(c.top+d[1]<a.top){k=true;d[1]=a.top-c.top}return k?d:false},getCenterXY:function(){return this.getAlignToXY(a,"c-c")},center:function(b){return this.alignTo(b||a,"c-c")}}}());
Ext.dom.Element.override({animate:function(a){var b,c=this.dom.id||Ext.id(this.dom);if(!Ext.fx.Manager.hasFxBlock(c)){if(a.listeners){b=a.listeners;delete a.listeners}if(a.internalListeners){a.listeners=a.internalListeners;delete a.internalListeners}a=new Ext.fx.Anim(this.anim(a));if(b)a.on(b);Ext.fx.Manager.queueFx(a)}return this},anim:function(a){if(!Ext.isObject(a))return a?{}:false;var b=a.duration||Ext.fx.Anim.prototype.duration,c=a.easing||"ease";a.stopAnimation&&this.stopAnimation();Ext.applyIf(a,
Ext.fx.Manager.getFxDefaults(this.id));Ext.fx.Manager.setFxDefaults(this.id,{delay:0});b={target:this.dom,remove:a.remove,alternate:a.alternate||false,duration:b,easing:c,callback:a.callback,listeners:a.listeners,iterations:a.iterations||1,scope:a.scope,block:a.block,concurrent:a.concurrent,delay:a.delay||0,paused:true,keyframes:a.keyframes,from:a.from||{},to:Ext.apply({},a)};Ext.apply(b.to,a.to);delete b.to.to;delete b.to.from;delete b.to.remove;delete b.to.alternate;delete b.to.keyframes;delete b.to.iterations;
delete b.to.listeners;delete b.to.target;delete b.to.paused;delete b.to.callback;delete b.to.scope;delete b.to.duration;delete b.to.easing;delete b.to.concurrent;delete b.to.block;delete b.to.stopAnimation;delete b.to.delay;return b},slideIn:function(a,b,c){var d=this,e=d.dom.style,g,h,i,a=a||"t",b=b||{};d.animate({duration:b.duration?Math.max(b.duration,500)*2:1E3,listeners:{beforeanimate:function(){var j,k,l=this,m=b.listeners,n,o,p;c||d.fixDisplay();n=d.getBox();if((a=="t"||a=="b")&&n.height===
0)n.height=d.dom.scrollHeight;else if((a=="l"||a=="r")&&n.width===0)n.width=d.dom.scrollWidth;o=d.getStyles("width","height","left","right","top","bottom","position","z-index",true);d.setSize(n.width,n.height);b.preserveScroll&&(h=d.cacheScrollValues());p=d.wrap({id:Ext.id()+"-anim-wrap-for-"+d.id,style:{visibility:c?"visible":"hidden"}});i=p.dom.parentNode;p.setPositioning(d.getPositioning());p.isStyle("position","static")&&p.position("relative");d.clearPositioning("auto");p.clip();h&&h();d.setStyle({visibility:"",
position:"absolute"});c&&p.setSize(n.width,n.height);switch(a){case "t":j={width:n.width+"px",height:"0px"};k={width:n.width+"px",height:n.height+"px"};e.bottom="0px";break;case "l":j={width:"0px",height:n.height+"px"};k={width:n.width+"px",height:n.height+"px"};e.right="0px";break;case "r":j={x:n.x+n.width,width:"0px",height:n.height+"px"};k={x:n.x,width:n.width+"px",height:n.height+"px"};break;case "b":j={y:n.y+n.height,width:n.width+"px",height:"0px"};k={y:n.y,width:n.width+"px",height:n.height+
"px"};break;case "tl":j={x:n.x,y:n.y,width:"0px",height:"0px"};k={width:n.width+"px",height:n.height+"px"};e.bottom="0px";e.right="0px";break;case "bl":j={y:n.y+n.height,width:"0px",height:"0px"};k={y:n.y,width:n.width+"px",height:n.height+"px"};e.bottom="0px";break;case "br":j={x:n.x+n.width,y:n.y+n.height,width:"0px",height:"0px"};k={x:n.x,y:n.y,width:n.width+"px",height:n.height+"px"};break;case "tr":j={x:n.x+n.width,width:"0px",height:"0px"};k={x:n.x,width:n.width+"px",height:n.height+"px"};e.right=
"0px"}p.show();g=Ext.apply({},b);delete g.listeners;g=new Ext.fx.Anim(Ext.applyIf(g,{target:p,duration:500,easing:"ease-out",from:c?k:j,to:c?j:k}));g.on("afteranimate",function(){d.setStyle(o);c&&(b.useDisplay?d.setDisplayed(false):d.hide());if(p.dom){p.dom.parentNode?p.dom.parentNode.insertBefore(d.dom,p.dom):i.appendChild(d.dom);p.remove()}h&&h();l.end()});if(m)g.on(m)}}});return d},slideOut:function(a,b){return this.slideIn(a,b,true)},puff:function(a){var b=this,c=b.getBox(),d=b.getStyles("width",
"height","left","right","top","bottom","position","z-index","font-size","opacity",true),a=Ext.applyIf(a||{},{easing:"ease-out",duration:500,useDisplay:false});b.animate({duration:a.duration,easing:a.easing,listeners:{beforeanimate:{fn:function(){b.clearOpacity();b.show();this.to={width:c.width*2,height:c.height*2,x:c.x-c.width/2,y:c.y-c.height/2,opacity:0,fontSize:"200%"};this.on("afteranimate",function(){if(b.dom){a.useDisplay?b.setDisplayed(false):b.hide();b.setStyle(d);a.callback.call(a.scope)}})}}}});
return b},switchOff:function(a){var b=this,a=Ext.applyIf(a||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});b.animate({duration:Math.max(a.duration,500)*2,listeners:{beforeanimate:{fn:function(){var c=this,d=b.getSize(),e=b.getXY(),g;b.clearOpacity();b.clip();g=b.getPositioning();(new Ext.fx.Animator({target:b,duration:a.duration,easing:a.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:e[1]+d.height/2},100:{width:1,x:e[0]+d.width/2}}})).on("afteranimate",function(){a.useDisplay?
b.setDisplayed(false):b.hide();b.clearOpacity();b.setPositioning(g);b.setSize(d);c.end()})}}}});return b},frame:function(a,b,c){var d=this,a=a||"#C3DAF9",b=b||1,c=c||{};d.animate({duration:Math.max(c.duration,500)*2||2E3,listeners:{beforeanimate:{fn:function(){d.show();var e=this,g=d.getBox(),h=Ext.getBody().createChild({id:d.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35E3,border:"0px solid "+a}});(new Ext.fx.Anim({target:h,duration:c.duration||1E3,iterations:b,
from:{top:g.y,left:g.x,borderWidth:0,opacity:1,height:g.height,width:g.width},to:{top:g.y-20,left:g.x-20,borderWidth:10,opacity:0,height:g.height+40,width:g.width+40}})).on("afteranimate",function(){h.remove();e.end()})}}}});return d},ghost:function(a,b){var c=this,a=a||"b";c.animate(Ext.applyIf(b||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:{fn:function(){var b=c.getWidth(),e=c.getHeight(),g=c.getXY(),h=c.getPositioning(),i={opacity:0};switch(a){case "t":i.y=g[1]-e;break;case "l":i.x=
g[0]-b;break;case "r":i.x=g[0]+b;break;case "b":i.y=g[1]+e;break;case "tl":i.x=g[0]-b;i.y=g[1]-e;break;case "bl":i.x=g[0]-b;i.y=g[1]+e;break;case "br":i.x=g[0]+b;i.y=g[1]+e;break;case "tr":i.x=g[0]+b;i.y=g[1]-e}this.to=i;this.on("afteranimate",function(){if(c.dom){c.hide();c.clearOpacity();c.setPositioning(h)}})}}}}));return c},highlight:function(a,b){var c=this,d=c.dom,e={},g,h,i,j,k,l,b=b||{};j=b.listeners||{};i=b.attr||"backgroundColor";e[i]=a||"ffff9c";if(b.to)h=b.to;else{h={};h[i]=b.endColor||
c.getColor(i,"ffffff","")}b.listeners=Ext.apply(Ext.apply({},j),{beforeanimate:function(){g=d.style[i];c.clearOpacity();c.show();if(k=j.beforeanimate){l=k.fn||k;return l.apply(k.scope||j.scope||window,arguments)}},afteranimate:function(){d&&(d.style[i]=g);if(k=j.afteranimate){l=k.fn||k;l.apply(k.scope||j.scope||window,arguments)}}});c.animate(Ext.apply({},b,{duration:1E3,easing:"ease-in",from:e,to:h}));return c},pause:function(a){Ext.fx.Manager.setFxDefaults(this.id,{delay:a});return this},fadeIn:function(a){var b=
this;b.animate(Ext.apply({},a,{opacity:1,internalListeners:{beforeanimate:function(){b.isStyle("display","none")?b.setDisplayed(""):b.show()}}}));return this},fadeOut:function(a){var b=this,a=Ext.apply({opacity:0,internalListeners:{afteranimate:function(c){b.dom&&c.to.opacity===0&&(a.useDisplay?b.setDisplayed(false):b.hide())}}},a);b.animate(a);return b},scale:function(a,b,c){this.animate(Ext.apply({},c,{width:a,height:b}));return this},shift:function(a){this.animate(a);return this}});
Ext.dom.Element.override({initDD:function(a,b,c){a=new Ext.dd.DD(Ext.id(this.dom),a,b);return Ext.apply(a,c)},initDDProxy:function(a,b,c){a=new Ext.dd.DDProxy(Ext.id(this.dom),a,b);return Ext.apply(a,c)},initDDTarget:function(a,b,c){a=new Ext.dd.DDTarget(Ext.id(this.dom),a,b);return Ext.apply(a,c)}});
(function(){var a=Ext.dom.Element,b=Ext.baseCSSPrefix+"hide-offsets",c=function(a){var a=(a.$cache||a.getCache()).data,b=a.originalDisplay;b===void 0&&(a.originalDisplay=b="");return b},d=function(b){var b=(b.$cache||b.getCache()).data,c=b.visibilityMode;if(c===void 0)b.visibilityMode=c=a.VISIBILITY;return c};a.override({originalDisplay:"",visibilityMode:1,setVisible:function(c,g){var h=this,i=h.dom,j=d(h);if(typeof g=="string"){switch(g){case "display":j=a.DISPLAY;break;case "visibility":j=a.VISIBILITY;
break;case "offsets":j=a.OFFSETS;break;case "nosize":case "asclass":j=a.ASCLASS}h.setVisibilityMode(j);g=false}if(!g||!h.anim){if(j==a.DISPLAY)return h.setDisplayed(c);if(j==a.OFFSETS)h[c?"removeCls":"addCls"](b);else if(j==a.VISIBILITY){h.fixDisplay();i.style.visibility=c?"":"hidden"}else if(j==a.ASCLASS)h[c?"removeCls":"addCls"](h.visibilityCls||a.visibilityCls)}else{if(c){h.setOpacity(0.01);h.setVisible(true)}Ext.isObject(g)||(g={duration:350,easing:"ease-in"});h.animate(Ext.applyIf({callback:function(){c||
h.setVisible(false).setOpacity(1)},to:{opacity:c?1:0}},g))}(h.$cache||h.getCache()).data.isVisible=c;return h},hasMetrics:function(){var b=d(this);return this.isVisible()||b==a.OFFSETS||b==a.VISIBILITY},toggle:function(a){this.setVisible(!this.isVisible(),this.anim(a));return this},setDisplayed:function(a){typeof a=="boolean"&&(a=a?c(this):"none");this.setStyle("display",a);return this},fixDisplay:function(){if(this.isStyle("display","none")){this.setStyle("visibility","hidden");this.setStyle("display",
c(this));this.isStyle("display","none")&&this.setStyle("display","block")}},hide:function(a){if(typeof a=="string"){this.setVisible(false,a);return this}this.setVisible(false,this.anim(a));return this},show:function(a){if(typeof a=="string"){this.setVisible(true,a);return this}this.setVisible(true,this.anim(a));return this}})})();
(function(){var a=Ext.dom.Element,b=["padding-left","padding-right","padding-top","padding-bottom"],c=["border-left-width","border-right-width","border-top-width","border-bottom-width"],d=["position","top","left"];a.override({getX:function(){return a.getX(this.dom)},getY:function(){return a.getY(this.dom)},getXY:function(){return a.getXY(this.dom)},getOffsetsTo:function(a){var b=this.getXY(),a=Ext.fly(a,"_internal").getXY();return[b[0]-a[0],b[1]-a[1]]},setX:function(a,b){return this.setXY([a,this.getY()],
b)},setY:function(a,b){return this.setXY([this.getX(),a],b)},setLeft:function(a){this.setStyle("left",this.addUnits(a));return this},setTop:function(a){this.setStyle("top",this.addUnits(a));return this},setRight:function(a){this.setStyle("right",this.addUnits(a));return this},setBottom:function(a){this.setStyle("bottom",this.addUnits(a));return this},setXY:function(b,c){if(!c||!this.anim)a.setXY(this.dom,b);else{Ext.isObject(c)||(c={});this.animate(Ext.applyIf({to:{x:b[0],y:b[1]}},c))}return this},
pxRe:/^\d+(?:\.\d*)?px$/i,getLocalX:function(){var a,b=this.getStyle("left");if(!b||b==="auto")return 0;if(b&&this.pxRe.test(b))return parseFloat(b);b=this.getX();(a=this.dom.offsetParent)&&(b=b-Ext.fly(a).getX());return b},getLocalY:function(){var a,b=this.getStyle("top");if(!b||b==="auto")return 0;if(b&&this.pxRe.test(b))return parseFloat(b);b=this.getY();(a=this.dom.offsetParent)&&(b=b-Ext.fly(a).getY());return b},getLeft:function(a){return a?this.getLocalX():this.getX()},getRight:function(a){return(a?
this.getLocalX():this.getX())+this.getWidth()},getTop:function(a){return a?this.getLocalY():this.getY()},getBottom:function(a){return(a?this.getLocalY():this.getY())+this.getHeight()},translatePoints:function(a,b){var c=this.getStyle(d),i=c.position=="relative",j=parseFloat(c.left),c=parseFloat(c.top),k=this.getXY();if(Ext.isArray(a)){b=a[1];a=a[0]}isNaN(j)&&(j=i?0:this.dom.offsetLeft);isNaN(c)&&(c=i?0:this.dom.offsetTop);j=typeof a=="number"?a-k[0]+j:void 0;c=typeof b=="number"?b-k[1]+c:void 0;return{left:j,
top:c}},setBox:function(a,b,c){var d=a.width,j=a.height;if(b&&!this.autoBoxAdjust&&!this.isBorderBox()){d=d-(this.getBorderWidth("lr")+this.getPadding("lr"));j=j-(this.getBorderWidth("tb")+this.getPadding("tb"))}this.setBounds(a.x,a.y,d,j,c);return this},getBox:function(a,d){var h,i,j,k,l,m,n,o;if(d){h=this.getStyle(["left","top"]);h=[parseFloat(h.left)||0,parseFloat(h.top)||0]}else h=this.getXY();n=this.getWidth();o=this.getHeight();if(a){i=this.getStyle(b);j=this.getStyle(c);k=(parseFloat(j["border-left-width"])||
0)+(parseFloat(i["padding-left"])||0);l=(parseFloat(j["border-right-width"])||0)+(parseFloat(i["padding-right"])||0);m=(parseFloat(j["border-top-width"])||0)+(parseFloat(i["padding-top"])||0);i=(parseFloat(j["border-bottom-width"])||0)+(parseFloat(i["padding-bottom"])||0);h={x:h[0]+k,y:h[1]+m,"0":h[0]+k,1:h[1]+m,width:n-(k+l),height:o-(m+i)}}else h={x:h[0],y:h[1],"0":h[0],1:h[1],width:n,height:o};h.right=h.x+h.width;h.bottom=h.y+h.height;return h},getPageBox:function(a){var b=this.dom,c=b.nodeName==
"BODY",d=c?Ext.dom.AbstractElement.getViewWidth():b.offsetWidth,b=c?Ext.dom.AbstractElement.getViewHeight():b.offsetHeight,j=this.getXY(),c=j[1],k=j[0]+d,l=j[1]+b,j=j[0];return a?new Ext.util.Region(c,k,l,j):{left:j,top:c,width:d,height:b,right:k,bottom:l}},setLocation:function(a,b,c){return this.setXY([a,b],c)},moveTo:function(a,b,c){return this.setXY([a,b],c)},position:function(a,b,c,d){!a&&this.isStyle("position","static")?this.setStyle("position","relative"):a&&this.setStyle("position",a);b&&
this.setStyle("z-index",b);if(c||d)this.setXY([c||false,d||false])},clearPositioning:function(a){a=a||"";this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:"static"});return this},getPositioning:function(){var a=this.getStyle(["left","top","position","right","bottom","z-index"]);a.right=a.left?"":a.right;a.bottom=a.top?"":a.bottom;return a},setPositioning:function(a){var b=this.dom.style;this.setStyle(a);if(a.right=="auto")b.right="";if(a.bottom=="auto")b.bottom="";return this},move:function(a,
b,c){var d=this.getXY(),j=d[0],k=d[1],d=[j-b,k],l=[j+b,k],m=[j,k-b],b=[j,k+b],b={l:d,left:d,r:l,right:l,t:m,top:m,up:m,b:b,bottom:b,down:b},a=a.toLowerCase();this.moveTo(b[a][0],b[a][1],c)},setLeftTop:function(b,c){var d=this.dom.style;d.left=a.addUnits(b);d.top=a.addUnits(c);return this},getRegion:function(){return this.getPageBox(true)},getViewRegion:function(){var a,b,c,d;if(this.dom.nodeName=="BODY"){a=this.getScroll();b=a.left;a=a.top;c=Ext.dom.AbstractElement.getViewportWidth();d=Ext.dom.AbstractElement.getViewportHeight()}else{a=
this.getXY();b=a[0]+this.getBorderWidth("l")+this.getPadding("l");a=a[1]+this.getBorderWidth("t")+this.getPadding("t");c=this.getWidth(true);d=this.getHeight(true)}return new Ext.util.Region(a,b+c-1,a+d-1,b)},setBounds:function(a,b,c,d,j){if(!j||!this.anim){this.setSize(c,d);this.setLocation(a,b)}else{Ext.isObject(j)||(j={});this.animate(Ext.applyIf({to:{x:a,y:b,width:this.adjustWidth(c),height:this.adjustHeight(d)}},j))}return this},setRegion:function(a,b){return this.setBounds(a.left,a.top,a.right-
a.left,a.bottom-a.top,b)}})})();
Ext.dom.Element.override({isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},getScroll:function(){var a=this.dom,b=document,c=b.body,d=b.documentElement;if(a==b||a==c){if(Ext.isIE&&Ext.isStrict){a=d.scrollLeft;d=d.scrollTop}else{a=window.pageXOffset;d=window.pageYOffset}c={left:a||(c?c.scrollLeft:0),top:d||(c?c.scrollTop:0)}}else c={left:a.scrollLeft,top:a.scrollTop};return c},scrollBy:function(a,b,c){var d=this.dom;if(a.length){c=b;b=a[1];a=
a[0]}else if(typeof a!="number"){c=b;b=a.y;a=a.x}a&&this.scrollTo("left",Math.max(Math.min(d.scrollLeft+a,d.scrollWidth-d.clientWidth),0),c);b&&this.scrollTo("top",Math.max(Math.min(d.scrollTop+b,d.scrollHeight-d.clientHeight),0),c);return this},scrollTo:function(a,b,c){var a=/top/i.test(a),d=this.dom;if(!c||!this.anim){c="scroll"+(a?"Top":"Left");d[c]=b;d[c]=b}else{d={to:{}};d.to["scroll"+(a?"Top":"Left")]=b;Ext.isObject(c)&&Ext.applyIf(d,c);this.animate(d)}return this},scrollIntoView:function(a,
b,c){var a=Ext.getDom(a)||Ext.getBody().dom,d=this.dom,e=this.getOffsetsTo(a),g=e[0]+a.scrollLeft,e=e[1]+a.scrollTop,h=e+d.offsetHeight,i=g+d.offsetWidth,j=a.clientHeight,k=parseInt(a.scrollTop,10),l=parseInt(a.scrollLeft,10),m=l+a.clientWidth,n;d.offsetHeight>j||e<k?n=e:h>k+j&&(n=h-j);n!=null&&Ext.get(a).scrollTo("top",n,c);if(b!==false){n=null;d.offsetWidth>a.clientWidth||g<l?n=g:i>m&&(n=i-a.clientWidth);n!=null&&Ext.get(a).scrollTo("left",n,c)}return this},scrollChildIntoView:function(a,b){Ext.fly(a,
"_scrollChildIntoView").scrollIntoView(this,b)},scroll:function(a,b,c){if(!this.isScrollable())return false;var d=this.dom,e=d.scrollLeft,g=d.scrollTop,h=d.scrollHeight,i=d.clientHeight,j=false,b={l:Math.min(e+b,d.scrollWidth-d.clientWidth),r:Math.max(e-b,0),t:Math.max(g-b,0),b:Math.min(g+b,h-i)};b.d=b.b;b.u=b.t;a=a.substr(0,1);if((b=b[a])>-1){j=true;this.scrollTo(a=="l"||a=="r"?"left":"top",b,this.anim(c))}return j}});
(function(){var a=Ext.dom.Element,b=document.defaultView,c=/table-row|table-.*-group/,d=/#document|body/i,e,g,h,i;if(!b||!b.getComputedStyle)a.prototype.getStyle=function(b,c){var d=this.dom,e=typeof b!="string",g=this.styleHooks,h=b,i=h,j=1,s=c,t,u,v,w,y,x;if(e){u={};h=i[0];x=0;if(!(j=i.length))return u}if(!d||d.documentElement)return u||"";t=d.style;if(c)y=t;else{y=d.currentStyle;if(!y){s=true;y=t}}do{(v=g[h])||(g[h]=v={name:a.normalize(h)});if(v.get)w=v.get(d,this,s,y);else{t=v.name;if(v.canThrow)try{w=
y[t]}catch(z){w=""}else w=y?y[t]:""}if(!e)return w;u[h]=w;h=i[++x]}while(x<j);return u};a.override({getHeight:function(a,b){var c=this.dom,d;if(this.isStyle("display","none"))return 0;c=Math.max(c.offsetHeight,c.clientHeight)||0;if(Ext.supports.Direct2DBug){d=this.adjustDirect2DDimension("height");b?c=c+d:d>0&&d<0.5&&c++}a&&(c=c-(this.getBorderWidth("tb")+this.getPadding("tb")));return c<0?0:c},getWidth:function(a,b){var c=this.dom,d;if(this.isStyle("display","none"))return 0;if(Ext.supports.BoundingClientRect){d=
c.getBoundingClientRect();d=d.right-d.left;d=b?d:Math.ceil(d)}else d=c.offsetWidth;d=Math.max(d,c.clientWidth)||0;if(Ext.supports.Direct2DBug){c=this.adjustDirect2DDimension("width");b?d=d+c:c>0&&c<0.5&&d++}a&&(d=d-(this.getBorderWidth("lr")+this.getPadding("lr")));return d<0?0:d},setWidth:function(a,b){a=this.adjustWidth(a);if(!b||!this.anim)this.dom.style.width=this.addUnits(a);else{Ext.isObject(b)||(b={});this.animate(Ext.applyIf({to:{width:a}},b))}return this},setHeight:function(a,b){a=this.adjustHeight(a);
if(!b||!this.anim)this.dom.style.height=this.addUnits(a);else{Ext.isObject(b)||(b={});this.animate(Ext.applyIf({to:{height:a}},b))}return this},applyStyles:function(a){Ext.DomHelper.applyStyles(this.dom,a);return this},setSize:function(a,b,c){if(Ext.isObject(a)){c=b;b=a.height;a=a.width}a=this.adjustWidth(a);b=this.adjustHeight(b);if(!c||!this.anim){this.dom.style.width=this.addUnits(a);this.dom.style.height=this.addUnits(b)}else{c===true&&(c={});this.animate(Ext.applyIf({to:{width:a,height:b}},c))}return this},
getViewSize:function(){var b=this.dom;return d.test(b.nodeName)?{width:a.getViewWidth(),height:a.getViewHeight()}:{width:b.clientWidth,height:b.clientHeight}},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},adjustWidth:function(a){var b=typeof a=="number";b&&(this.autoBoxAdjust&&!this.isBorderBox())&&(a=a-(this.getBorderWidth("lr")+this.getPadding("lr")));return b&&a<0?0:a},adjustHeight:function(a){var b=typeof a=="number";b&&(this.autoBoxAdjust&&!this.isBorderBox())&&
(a=a-(this.getBorderWidth("tb")+this.getPadding("tb")));return b&&a<0?0:a},getColor:function(a,b,c){var a=this.getStyle(a),c=c||c===""?c:"#",d,e,g=0;if(!a||/transparent|inherit/.test(a))return b;if(/^r/.test(a)){a=a.slice(4,a.length-1).split(",");for(e=a.length;g<e;g++){d=parseInt(a[g],10);c=c+((d<16?"0":"")+d.toString(16))}}else{a=a.replace("#","");c=c+(a.length==3?a.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):a)}return c.length>5?c.toLowerCase():b},setOpacity:function(a,b){if(!this.dom)return this;
if(!b||!this.anim)this.setStyle("opacity",a);else{typeof b!="object"&&(b={duration:350,easing:"ease-in"});this.animate(Ext.applyIf({to:{opacity:a}},b))}return this},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(a){var b=this.dom,d=this.getStyle("display"),e=b.style.display,g=b.style.position,h=a==="width"?0:1,i=b.currentStyle;if(d==="inline")b.style.display="inline-block";b.style.position=d.match(c)?"absolute":"static";a=(parseFloat(i[a])||parseFloat(i.msTransformOrigin.split(" ")[h])*
2)%1;b.style.position=g;if(d==="inline")b.style.display=e;return a},clip:function(){var a=(this.$cache||this.getCache()).data,b;if(!a.isClipped){a.isClipped=true;b=this.getStyle(["overflow","overflow-x","overflow-y"]);a.originalClip={o:b.overflow,x:b["overflow-x"],y:b["overflow-y"]};this.setStyle("overflow","hidden");this.setStyle("overflow-x","hidden");this.setStyle("overflow-y","hidden")}return this},unclip:function(){var a=(this.$cache||this.getCache()).data;if(a.isClipped){a.isClipped=false;a=
a.originalClip;a.o&&this.setStyle("overflow",a.o);a.x&&this.setStyle("overflow-x",a.x);a.y&&this.setStyle("overflow-y",a.y)}return this},boxWrap:function(b){var b=b||Ext.baseCSSPrefix+"box",c=Ext.get(this.insertHtml("beforeBegin","<div class='"+b+"'>"+Ext.String.format(a.boxMarkup,b)+"</div>"));Ext.DomQuery.selectNode("."+b+"-mc",c.dom).appendChild(this.dom);return c},getComputedHeight:function(){var a=Math.max(this.dom.offsetHeight,this.dom.clientHeight);if(!a){a=parseFloat(this.getStyle("height"))||
0;this.isBorderBox()||(a=a+this.getFrameWidth("tb"))}return a},getComputedWidth:function(){var a=Math.max(this.dom.offsetWidth,this.dom.clientWidth);if(!a){a=parseFloat(this.getStyle("width"))||0;this.isBorderBox()||(a=a+this.getFrameWidth("lr"))}return a},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:this.getPadding(a)+this.getBorderWidth(a)},addClsOnOver:function(a,b,c){var d=this,e=d.dom,g=Ext.isFunction(b);d.hover(function(){g&&b.call(c||d,d)===false||Ext.fly(e,"_internal").addCls(a)},
function(){Ext.fly(e,"_internal").removeCls(a)});return d},addClsOnFocus:function(a,b,c){var d=this,e=d.dom,g=Ext.isFunction(b);d.on("focus",function(){if(g&&b.call(c||d,d)===false)return false;Ext.fly(e,"_internal").addCls(a)});d.on("blur",function(){Ext.fly(e,"_internal").removeCls(a)});return d},addClsOnClick:function(a,b,c){var d=this,e=d.dom,g=Ext.isFunction(b);d.on("mousedown",function(){if(g&&b.call(c||d,d)===false)return false;Ext.fly(e,"_internal").addCls(a);var h=Ext.getDoc(),i=function(){Ext.fly(e,
"_internal").removeCls(a);h.removeListener("mouseup",i)};h.on("mouseup",i)});return d},getStyleSize:function(){var b,c,e;if(d.test(this.dom.nodeName))return{width:a.getViewWidth(),height:a.getViewHeight()};b=this.getStyle(["height","width"],true);if(b.width&&b.width!="auto"){c=parseFloat(b.width);this.isBorderBox()&&(c=c-this.getFrameWidth("lr"))}if(b.height&&b.height!="auto"){e=parseFloat(b.height);this.isBorderBox()&&(e=e-this.getFrameWidth("tb"))}return{width:c||this.getWidth(true),height:e||this.getHeight(true)}},
selectable:function(){this.dom.unselectable="off";this.on("selectstart",function(a){a.stopPropagation();return true});this.applyStyles("-moz-user-select: text; -khtml-user-select: text;");this.removeCls(Ext.baseCSSPrefix+"unselectable");return this},unselectable:function(){this.dom.unselectable="on";this.swallowEvent("selectstart",true);this.applyStyles("-moz-user-select:-moz-none;-khtml-user-select:none;");this.addCls(Ext.baseCSSPrefix+"unselectable");return this}});a.prototype.styleHooks=b=Ext.dom.AbstractElement.prototype.styleHooks;
if(Ext.isIE6||Ext.isIE7){b.fontSize=b["font-size"]={name:"fontSize",canThrow:true};b.fontStyle=b["font-style"]={name:"fontStyle",canThrow:true};b.fontFamily=b["font-family"]={name:"fontFamily",canThrow:true}}if(Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8){var j=function(a,b,c,d){return d[this.styleName]=="none"?"0px":d[this.name]};e=["Top","Right","Bottom","Left"];for(g=e.length;g--;){h=e[g];i="border"+h+"Width";b["border-"+h.toLowerCase()+"-width"]=b[i]={name:i,styleName:"border"+h+"Style",get:j}}}})();
Ext.onReady(function(){var a=/alpha\(opacity=(.*)\)/i,b=/^\s+|\s+$/g,c=Ext.dom.Element.prototype.styleHooks;c.opacity={name:"opacity",afterSet:function(a,b,c){if(c.isLayer)c.onOpacitySet(b)}};!Ext.supports.Opacity&&Ext.isIE&&Ext.apply(c.opacity,{get:function(b){b=b.style.filter;if(b.match)if(b=b.match(a)){b=parseFloat(b[1]);if(!isNaN(b))return b?b/100:0}return 1},set:function(c,e){var g=c.style,h=g.filter.replace(a,"").replace(b,"");g.zoom=1;g.filter=typeof e=="number"&&e>=0&&e<1?h+(h.length?" ":
"")+"alpha(opacity="+e*100+")":h}})});Ext.dom.Element.override({select:function(a){return Ext.dom.Element.select(a,false,this.dom)}});
Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:"Ext.CompositeElementLite",requires:["Ext.dom.Element","Ext.dom.Query"],statics:{importElementMethods:function(){var a,b=Ext.dom.Element.prototype,c=this.prototype;for(a in b)typeof b[a]=="function"&&function(a){c[a]=c[a]||function(){return this.invoke(a,arguments)}}.call(c,a)}},constructor:function(a,b){this.elements=[];this.add(a,b);this.el=new Ext.dom.AbstractElement.Fly},isComposite:!0,getElement:function(a){return this.el.attach(a)},
transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(a,b){var c=this.elements,d,e;if(!a)return this;typeof a=="string"?a=Ext.dom.Element.selectorFunction(a,b):a.isComposite?a=a.elements:Ext.isIterable(a)||(a=[a]);d=0;for(e=a.length;d<e;++d)c.push(this.transformElement(a[d]));return this},invoke:function(a,b){var c=this.elements,d=c.length,e,g,a=Ext.dom.Element.prototype[a];for(g=0;g<d;g++)(e=c[g])&&a.apply(this.getElement(e),b);return this},
item:function(a){var a=this.elements[a],b=null;a&&(b=this.getElement(a));return b},addListener:function(a,b,c,d){var e=this.elements,g=e.length,h,i;for(h=0;h<g;h++)if(i=e[h])Ext.EventManager.on(i,a,b,c||i,d);return this},each:function(a,b){var c=this.elements,d=c.length,e,g;for(e=0;e<d;e++)if(g=c[e]){g=this.getElement(g);if(a.call(b||g,g,this,e)===false)break}return this},fill:function(a){this.elements=[];this.add(a);return this},filter:function(a){for(var b=this.elements,c=b.length,d=[],e=0,g=typeof a==
"function",h,i;e<c;e++)if(i=b[e]){i=this.getElement(i);(h=g?a.call(i,i,this,e)!==false:i.is(a))&&d.push(this.transformElement(i))}this.elements=d;return this},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(a,b,c){a=!isNaN(a)?a:this.indexOf(a);if(a>-1){b=Ext.getDom(b);if(c){c=this.elements[a];c.parentNode.insertBefore(b,c);Ext.removeNode(c)}Ext.Array.splice(this.elements,a,1,b)}return this},clear:function(){this.elements=[]},addElements:function(a,
b){if(!a)return this;typeof a=="string"&&(a=Ext.dom.Element.selectorFunction(a,b));var c=this.elements,d=a.length,e;for(e=0;e<d;e++)c.push(Ext.get(a[e]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},removeElement:function(a,b){var a=[].concat(a),c=this.elements,d=a.length,e,g,h;for(h=0;h<d;h++){e=a[h];if(g=c[e]||c[e=this.indexOf(e)]){b&&(g.dom?g.remove():Ext.removeNode(g));Ext.Array.erase(c,
e,1)}}return this}},function(){this.importElementMethods();this.prototype.on=this.prototype.addListener;if(Ext.DomQuery)Ext.dom.Element.selectorFunction=Ext.DomQuery.select;Ext.dom.Element.select=function(a,b){var c;if(typeof a=="string")c=Ext.dom.Element.selectorFunction(a,b);else if(a.length!==void 0)c=a;else throw Error("[Ext.select] Invalid selector specified: "+a);return new Ext.CompositeElementLite(c)};Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}});
Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:"Ext.dom.CompositeElementLite",getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}},function(){Ext.dom.Element.select=function(a,b,c){if(typeof a=="string")a=Ext.dom.Element.selectorFunction(a,c);else if(a.length===void 0)throw Error("[Ext.select] Invalid selector specified: "+a);return b===true?new Ext.CompositeElement(a):new Ext.CompositeElementLite(a)}});Ext.select=Ext.Element.select;
Ext.define("Ext.util.Observable",{requires:["Ext.util.Event"],statics:{releaseCapture:function(a){a.fireEvent=this.prototype.fireEvent},capture:function(a,b,c){a.fireEvent=Ext.Function.createInterceptor(a.fireEvent,b,c)},observe:function(a,b){if(a){if(!a.isObservable){Ext.applyIf(a,new this);this.capture(a.prototype,a.fireEvent,a)}if(Ext.isObject(b))a.on(b)}return a},prepareClass:function(a,b){if(!a.HasListeners){var c=Ext.util.Observable,d=function(){},c=a.superclass.HasListeners||b&&b.HasListeners||
c.HasListeners;a.prototype.HasListeners=a.HasListeners=d;d.prototype=a.hasListeners=new c}}},isObservable:!0,eventsSuspended:0,constructor:function(a){Ext.apply(this,a);if(!this.hasListeners)this.hasListeners=new this.HasListeners;this.events=this.events||{};if(this.listeners){this.on(this.listeners);this.listeners=null}this.bubbleEvents&&this.enableBubble(this.bubbleEvents)},onClassExtended:function(a){a.HasListeners||Ext.util.Observable.prepareClass(a)},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|vertical|horizontal|freezeEvent)$/,
addManagedListener:function(a,b,c,d,e){var g=this.managedListeners=this.managedListeners||[];if(typeof b!=="string"){e=b;for(b in e)if(e.hasOwnProperty(b)){c=e[b];this.eventOptionsRe.test(b)||this.addManagedListener(a,b,c.fn||c,c.scope||e.scope,c.fn?c:e)}}else{g.push({item:a,ename:b,fn:c,scope:d,options:e});a.on(b,c,d,e)}},removeManagedListener:function(a,b,c,d){var e,g,h;if(typeof b!=="string"){e=b;for(b in e)if(e.hasOwnProperty(b)){g=e[b];this.eventOptionsRe.test(b)||this.removeManagedListener(a,
b,g.fn||g,g.scope||e.scope)}}e=this.managedListeners?this.managedListeners.slice():[];h=0;for(g=e.length;h<g;h++)this.removeManagedListenerItem(false,e[h],a,b,c,d)},fireEvent:function(a){var a=a.toLowerCase(),b=this.events,b=b&&b[a],c=true;b&&this.hasListeners[a]&&(c=this.continueFireEvent(a,Ext.Array.slice(arguments,1),b.bubble));return c},continueFireEvent:function(a,b,c){var d=this,e,g,h=true;do{if(d.eventsSuspended){(e=d.eventQueue)&&e.push([a,b,c]);break}if((g=d.events[a])&&g!=true&&(h=g.fire.apply(g,
b))===false)break}while(c&&(d=d.getBubbleParent()));return h},getBubbleParent:function(){var a=this.getBubbleTarget&&this.getBubbleTarget();return a&&a.isObservable?a:null},addListener:function(a,b,c,d){var e,g=0;if(typeof a!=="string"){d=a;for(a in d)if(d.hasOwnProperty(a)){b=d[a];this.eventOptionsRe.test(a)||this.addListener(a,b.fn||b,b.scope||d.scope,b.fn?b:d)}}else{a=a.toLowerCase();(e=this.events[a])&&e.isEvent?g=e.listeners.length:this.events[a]=e=new Ext.util.Event(this,a);if(typeof b==="string"){!c[b]&&
!this[b]&&Ext.Error.raise('No method named "'+b+'"');b=c[b]||this[b]}e.addListener(b,c,d);if(e.listeners.length!==g){d=this.hasListeners;d.hasOwnProperty(a)?++d[a]:d[a]=1}}},removeListener:function(a,b,c){var d;if(typeof a!=="string"){c=a;for(a in c)if(c.hasOwnProperty(a)){b=c[a];this.eventOptionsRe.test(a)||this.removeListener(a,b.fn||b,b.scope||c.scope)}}else{a=a.toLowerCase();(d=this.events[a])&&d.isEvent&&d.removeListener(b,c)&&!--this.hasListeners[a]&&delete this.hasListeners[a]}},clearListeners:function(){var a=
this.events,b,c;for(c in a)if(a.hasOwnProperty(c)){b=a[c];b.isEvent&&b.clearListeners()}this.clearManagedListeners()},purgeListeners:function(){Ext.global.console&&Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners.");return this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){for(var a=this.managedListeners||[],b=0,c=a.length;b<c;b++)this.removeManagedListenerItem(true,a[b]);this.managedListeners=[]},removeManagedListenerItem:function(a,
b,c,d,e,g){if(a||b.item===c&&b.ename===d&&(!e||b.fn===e)&&(!g||b.scope===g)){b.item.un(b.ename,b.fn,b.scope);a||Ext.Array.remove(this.managedListeners,b)}},purgeManagedListeners:function(){Ext.global.console&&Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners.");return this.clearManagedListeners.apply(this,arguments)},addEvents:function(a){var b=this.events||(this.events={}),c,d,e;if(typeof a=="string"){d=arguments;for(e=d.length;e--;){c=
d[e];b[c]||(b[c]=true)}}else Ext.applyIf(this.events,a)},hasListener:function(a){return!!this.hasListeners[a.toLowerCase()]},suspendEvents:function(a){this.eventsSuspended=this.eventsSuspended+1;if(a&&!this.eventQueue)this.eventQueue=[]},resumeEvents:function(){var a=this.eventQueue,b,c;if(this.eventsSuspended&&!--this.eventsSuspended){delete this.eventQueue;if(a){b=a.length;for(c=0;c<b;c++)this.continueFireEvent.apply(this,a[c])}}},relayEvents:function(a,b,c){for(var d=b.length,e=0,g,h;e<d;e++){g=
b[e];h=c?c+g:g;this.mon(a,g,this.createRelayer(h))}},createRelayer:function(a,b){var c=this;return function(){return c.fireEvent.apply(c,[a].concat(Array.prototype.slice.apply(arguments,b||[0,-1])))}},enableBubble:function(a){if(a){var b=typeof a=="string"?arguments:a,c=b.length,d=this.events,e,g,h;for(h=0;h<c;++h){e=b[h].toLowerCase();g=d[e];if(!g||typeof g=="boolean")d[e]=g=new Ext.util.Event(this,e);this.hasListeners[e]=(this.hasListeners[e]||0)+1;g.bubble=true}}}},function(){function a(a){var b=
(this.methodEvents=this.methodEvents||{})[a],c,d,e,l=this,m;if(!b){this.methodEvents[a]=b={};b.originalFn=this[a];b.methodName=a;b.before=[];b.after=[];m=function(a,b,g){if((d=a.apply(b||l,g))!==void 0)if(typeof d=="object"){c=d.returnValue!==void 0?d.returnValue:d;e=!!d.cancel}else d===false?e=true:c=d};this[a]=function(){var a=Array.prototype.slice.call(arguments,0),g,p,q;c=d=void 0;e=false;p=0;for(q=b.before.length;p<q;p++){g=b.before[p];m(g.fn,g.scope,a);if(e)return c}if((d=b.originalFn.apply(l,
a))!==void 0)c=d;p=0;for(q=b.after.length;p<q;p++){g=b.after[p];m(g.fn,g.scope,a);if(e)break}return c}}return b}var b=this,c=b.prototype,d=function(){},e=function(a){if(!a.HasListeners){var c=a.prototype;b.prepareClass(a,this);a.onExtended(function(a){b.prepareClass(a)});c.onClassMixedIn?Ext.override(a,{onClassMixedIn:function(a){e.call(this,a);this.callParent(arguments)}}):c.onClassMixedIn=function(a){e.call(this,a)}}};d.prototype={};c.HasListeners=b.HasListeners=d;b.createAlias({on:"addListener",
un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});b.observeClass=b.observe;Ext.apply(c,{onClassMixedIn:e,beforeMethod:function(b,c,d){a.call(this,b).before.push({fn:c,scope:d})},afterMethod:function(b,c,d){a.call(this,b).after.push({fn:c,scope:d})},removeMethodListener:function(a,b,c){var a=this.getMethodEvent(a),d,e;d=0;for(e=a.before.length;d<e;d++)if(a.before[d].fn==b&&a.before[d].scope==c){Ext.Array.erase(a.before,d,1);return}d=0;for(e=a.after.length;d<e;d++)if(a.after[d].fn==
b&&a.after[d].scope==c){Ext.Array.erase(a.after,d,1);break}},toggleEventLogging:function(a){Ext.util.Observable[a?"capture":"releaseCapture"](this,function(a){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(a,arguments)})}})});
Ext.define("Ext.app.Controller",{mixins:{observable:"Ext.util.Observable"},onClassExtended:function(a,b,c){var a=Ext.getClassName(a),b=a.match(/^(.*)\.controller\./),d,e,g,h,i;if(b!==null){d=Ext.Loader.getPrefix(a)||b[1];e=c.onBeforeCreated;g=[];h=["model","view","store"];c.onBeforeCreated=function(a,b){var c,m,n,o,p,q;c=0;for(m=h.length;c<m;c++){n=h[c];i=d+"."+n+".";n=Ext.Array.from(b[n+"s"]);o=0;for(p=n.length;o<p;o++){q=n[o];q.indexOf(".")!==-1&&(Ext.ClassManager.isCreated(q)||Ext.Loader.isAClassNameWithAKnownPrefix(q))?
g.push(q):g.push(i+q)}}Ext.require(g,Ext.Function.pass(e,arguments,this))}}},constructor:function(a){this.mixins.observable.constructor.call(this,a);Ext.apply(this,a||{});this.createGetters("model",this.models);this.createGetters("store",this.stores);this.createGetters("view",this.views);this.refs&&this.ref(this.refs)},init:Ext.emptyFn,onLaunch:Ext.emptyFn,createGetters:function(a,b){for(var a=Ext.String.capitalize(a),c=0,d=b?b.length:0,e,g,h,i,j;c<d;c++){e="get";g=b[c];h=g.split(".");j=h.length;
for(i=0;i<j;i++)e=e+Ext.String.capitalize(h[i]);e=e+a;this[e]||(this[e]=Ext.Function.pass(this["get"+a],[g],this));this[e](g)}},ref:function(a){var a=Ext.Array.from(a),b=0,c=a.length,d,e,g;for(this.references=this.references||[];b<c;b++){d=a[b];e=d.ref;g="get"+Ext.String.capitalize(e);this[g]||(this[g]=Ext.Function.pass(this.getRef,[e,d],this));this.references.push(e.toLowerCase())}},addRef:function(a){return this.ref([a])},getRef:function(a,b,c){this.refCache=this.refCache||{};b=b||{};c=c||{};Ext.apply(b,
c);if(b.forceCreate)return Ext.ComponentManager.create(b,"component");var d=this,c=d.refCache[a];if(!c){d.refCache[a]=c=Ext.ComponentQuery.query(b.selector)[0];!c&&b.autoCreate&&(d.refCache[a]=c=Ext.ComponentManager.create(b,"component"));if(c)c.on("beforedestroy",function(){d.refCache[a]=null})}return c},hasRef:function(a){return this.references&&this.references.indexOf(a.toLowerCase())!==-1},control:function(a,b){this.application.control(a,b,this)},getController:function(a){return this.application.getController(a)},
getStore:function(a){return this.application.getStore(a)},getModel:function(a){return this.application.getModel(a)},getView:function(a){return this.application.getView(a)}});
Ext.define("Ext.util.HashMap",{mixins:{observable:"Ext.util.Observable"},constructor:function(a){var a=a||{},b=a.keyFn;this.addEvents("add","clear","remove","replace");this.mixins.observable.constructor.call(this,a);this.clear(true);if(b)this.getKey=b},getCount:function(){return this.length},getData:function(a,b){if(b===void 0){b=a;a=this.getKey(b)}return[a,b]},getKey:function(a){return a.id},add:function(a,b){if(b===void 0){b=a;a=this.getKey(b)}if(this.containsKey(a))return this.replace(a,b);this.map[a]=
b;++this.length;this.hasListeners.add&&this.fireEvent("add",this,a,b);return b},replace:function(a,b){var c=this.map,d;if(b===void 0){b=a;a=this.getKey(b)}this.containsKey(a)||this.add(a,b);d=c[a];c[a]=b;this.hasListeners.replace&&this.fireEvent("replace",this,a,b,d);return b},remove:function(a){a=this.findKey(a);return a!==void 0?this.removeAtKey(a):false},removeAtKey:function(a){var b;if(this.containsKey(a)){b=this.map[a];delete this.map[a];--this.length;this.hasListeners.remove&&this.fireEvent("remove",
this,a,b);return true}return false},get:function(a){return this.map[a]},clear:function(a){this.map={};this.length=0;a!==true&&this.hasListeners.clear&&this.fireEvent("clear",this);return this},containsKey:function(a){return this.map[a]!==void 0},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(a){var b=[],c,d=this.map;for(c in d)d.hasOwnProperty(c)&&b.push(a?c:d[c]);return b},
each:function(a,b){var c=Ext.apply({},this.map),d,e=this.length,b=b||this;for(d in c)if(c.hasOwnProperty(d)&&a.call(b,d,c[d],e)===false)break;return this},clone:function(){var a=new this.self,b=this.map,c;a.suspendEvents();for(c in b)b.hasOwnProperty(c)&&a.add(c,b[c]);a.resumeEvents();return a},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b]===a)return b}});
Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.HashMap;this.types={}},get:function(a){return this.all.get(a)},register:function(a){var b=this.all,c=b.getKey(a);b.containsKey(c)&&Ext.Error.raise('Registering duplicate id "'+c+'" with this manager');this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(a,b){this.types[a]=b;b[this.typeName]=a},isRegistered:function(a){return this.types[a]!==
void 0},create:function(a,b){var c=a[this.typeName]||a.type||b,d=this.types[c];d===void 0&&Ext.Error.raise("The '"+c+"' type has not been registered with this manager");return new d(a)},onAvailable:function(a,b,c){var d=this.all,e,g;if(d.containsKey(a)){e=d.get(a);b.call(c||e,e)}else{g=function(e,i,j){if(i==a){b.call(c||j,j);d.un("add",g)}};d.on("add",g)}},each:function(a,b){this.all.each(a,b||this)},getCount:function(){return this.all.getCount()}});
Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",primaryKey:"id",defaultReaderType:"json",isAssociation:!0,initialConfig:null,statics:{AUTO_ID:1E3,create:function(a){Ext.isString(a)&&(a={type:a});switch(a.type){case "belongsTo":return new Ext.data.association.BelongsTo(a);case "hasMany":return new Ext.data.association.HasMany(a);case "hasOne":return new Ext.data.association.HasOne(a);default:Ext.Error.raise('Unknown Association type: "'+a.type+'"')}return a}},
constructor:function(a){Ext.apply(this,a);var b=Ext.ModelManager.types,c=a.ownerModel,d=a.associatedModel,e=b[c],b=b[d];this.initialConfig=a;e===void 0&&Ext.Error.raise("The configured ownerModel was not valid (you tried "+c+")");b===void 0&&Ext.Error.raise("The configured associatedModel was not valid (you tried "+d+")");this.ownerModel=e;this.associatedModel=b;Ext.applyIf(this,{ownerName:c,associatedName:d});this.associationId="association"+ ++this.statics().AUTO_ID},getReader:function(){var a=
this.reader,b=this.associatedModel;if(a){Ext.isString(a)&&(a={type:a});a.isReader?a.setModel(b):Ext.applyIf(a,{model:b,type:this.defaultReaderType});this.reader=Ext.createByAlias("reader."+a.type,a)}return this.reader||null}});
Ext.define("Ext.ModelManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ModelMgr",requires:["Ext.data.association.Association"],singleton:!0,typeName:"mtype",associationStack:[],registerType:function(a,b){var c=b.prototype;if(c&&c.isModel)c=b;else{if(!b.extend)b.extend="Ext.data.Model";c=Ext.define(a,b)}return this.types[a]=c},onModelDefined:function(a){var b=this.associationStack,c=b.length,d=[],e,g;for(g=0;g<c;g++){e=b[g];e.associatedModel==a.modelName&&d.push(e)}g=0;for(c=d.length;g<
c;g++){a=d[g];this.types[a.ownerModel].prototype.associations.add(Ext.data.association.Association.create(a));Ext.Array.remove(b,a)}},registerDeferredAssociation:function(a){this.associationStack.push(a)},getModel:function(a){typeof a=="string"&&(a=this.types[a]);return a},create:function(a,b,c){return new (typeof b=="function"?b:this.types[b||a.name])(a,c)}},function(){Ext.regModel=function(){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn('Ext.regModel has been deprecated. Models can now be created by extending Ext.data.Model: Ext.define("MyModel", {extend: "Ext.data.Model", fields: []});.');
return this.ModelManager.registerType.apply(this.ModelManager,arguments)}});Ext.define("Ext.data.IdGenerator",{isGenerator:!0,constructor:function(a){Ext.apply(this,a);this.id&&(Ext.data.IdGenerator.all[this.id]=this)},getRecId:function(a){return a.modelName+"-"+a.internalId},statics:{all:{},get:function(a){var b,c;if(typeof a=="string"){b=c=a;a=null}else{if(a.isGenerator)return a;b=a.id||a.type;c=a.type}(b=this.all[b])||(b=Ext.create("idgen."+c,a));return b}}});
Ext.define("Ext.data.SortTypes",{singleton:!0,none:function(a){return a},stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return(""+a).replace(this.stripTagsRE,"")},asUCText:function(a){return(""+a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return(""+a).toUpperCase()},asDate:function(a){return!a?0:Ext.isDate(a)?a.getTime():Date.parse(""+a)},asFloat:function(a){a=parseFloat((""+a).replace(/,/g,""));return isNaN(a)?0:a},asInt:function(a){a=parseInt((""+a).replace(/,/g,""),10);
return isNaN(a)?0:a}});
Ext.define("Ext.data.Types",{singleton:!0,requires:["Ext.data.SortTypes"]},function(){var a=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:a.none,type:"auto"},STRING:{convert:function(a){var c=this.useNull?null:"";return a===void 0||a===null?c:""+a},sortType:a.asUCString,type:"string"},INT:{convert:function(a){return a!==void 0&&a!==null&&a!==""?parseInt((""+a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"int"},FLOAT:{convert:function(a){return a!==
void 0&&a!==null&&a!==""?parseFloat((""+a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"float"},BOOL:{convert:function(a){return this.useNull&&(a===void 0||a===null||a==="")?null:a===true||a==="true"||a==1},sortType:a.none,type:"bool"},DATE:{convert:function(a){var c=this.dateFormat;if(!a)return null;if(Ext.isDate(a))return a;if(c)return c=="timestamp"?new Date(a*1E3):c=="time"?new Date(parseInt(a,10)):Ext.Date.parse(a,c);return(a=Date.parse(a))?new Date(a):null},
sortType:a.asDate,type:"date"}});Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})});
Ext.define("Ext.data.Field",{requires:["Ext.data.Types","Ext.data.SortTypes"],alias:"data.field",isField:!0,constructor:function(a){var b=Ext.data.Types,c;Ext.isString(a)&&(a={name:a});Ext.apply(this,a);c=this.sortType;if(this.type){if(Ext.isString(this.type))this.type=b[this.type.toUpperCase()]||b.AUTO}else this.type=b.AUTO;if(Ext.isString(c))this.sortType=Ext.data.SortTypes[c];else if(Ext.isEmpty(c))this.sortType=this.type.sortType;if(a.hasOwnProperty("convert")){if(!this.convert&&this.type.convert&&
!a.hasOwnProperty("defaultValue"))this.defaultValue=this.type.convert(this.defaultValue)}else this.convert=this.type.convert;if(a.convert)this.hasCustomConvert=true},dateFormat:null,useNull:!1,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:!0,persist:!0});
Ext.define("Ext.util.Filter",{anyMatch:!1,exactMatch:!1,caseSensitive:!1,constructor:function(a){Ext.apply(this,a);this.filter=this.filter||this.filterFn;if(this.filter===void 0){if(!(this.property===void 0||this.value===void 0))this.filter=this.createFilterFn();this.filterFn=this.filter}},createFilterFn:function(){var a=this,b=a.createValueMatcher(),c=a.property;return function(d){d=a.getRoot.call(a,d)[c];return b===null?d===null:b.test(d)}},getRoot:function(a){var b=this.root;return b===void 0?
a:a[b]},createValueMatcher:function(){var a=this.value,b=this.anyMatch,c=this.exactMatch,d=this.caseSensitive,e=Ext.String.escapeRegex;if(a===null)return a;if(!a.exec){a=""+a;if(b===true)a=e(a);else{a="^"+e(a);c===true&&(a=a+"$")}a=RegExp(a,d?"":"i")}return a}});
Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.util.Observable"},isMixedCollection:!0,generation:0,constructor:function(a,b){this.items=[];this.map={};this.keys=[];this.length=0;this.allowFunctions=a===true;if(b)this.getKey=b;this.mixins.observable.constructor.call(this)},allowFunctions:!1,add:function(a,b){var c=b,d=a,e;if(arguments.length==1){c=d;d=this.getKey(c)}if(typeof d!="undefined"&&d!==null){e=this.map[d];if(typeof e!="undefined")return this.replace(d,
c);this.map[d]=c}this.generation++;this.length++;this.items.push(c);this.keys.push(d);this.hasListeners.add&&this.fireEvent("add",this.length-1,c,d);return c},getKey:function(a){return a.id},replace:function(a,b){var c;if(arguments.length==1){b=arguments[0];a=this.getKey(b)}c=this.map[a];if(typeof a=="undefined"||a===null||typeof c=="undefined")return this.add(a,b);this.generation++;this.items[this.indexOfKey(a)]=b;this.map[a]=b;this.hasListeners.replace&&this.fireEvent("replace",a,c,b);return b},
addAll:function(a){var b=0,c,d;if(arguments.length>1||Ext.isArray(a)){c=arguments.length>1?arguments:a;for(d=c.length;b<d;b++)this.add(c[b])}else for(c in a)a.hasOwnProperty(c)&&(this.allowFunctions||typeof a[c]!="function")&&this.add(c,a[c])},each:function(a,b){for(var c=[].concat(this.items),d=0,e=c.length,g;d<e;d++){g=c[d];if(a.call(b||g,g,d,e)===false)break}},eachKey:function(a,b){for(var c=this.keys,d=this.items,e=0,g=c.length;e<g;e++)a.call(b||window,c[e],d[e],e,g)},findBy:function(a,b){for(var c=
this.keys,d=this.items,e=0,g=d.length;e<g;e++)if(a.call(b||window,d[e],c[e]))return d[e];return null},find:function(){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead.");return this.findBy.apply(this,arguments)},insert:function(a,b,c){var d=b,e=c;if(arguments.length==2){e=d;d=this.getKey(e)}if(this.containsKey(d)){this.suspendEvents();this.removeAtKey(d);this.resumeEvents()}if(a>=this.length)return this.add(d,e);this.generation++;
this.length++;Ext.Array.splice(this.items,a,0,e);typeof d!="undefined"&&d!==null&&(this.map[d]=e);Ext.Array.splice(this.keys,a,0,d);this.hasListeners.add&&this.fireEvent("add",a,e,d);return e},remove:function(a){this.generation++;return this.removeAt(this.indexOf(a))},removeAll:function(a){var a=[].concat(a),b,c=a.length;for(b=0;b<c;b++)this.remove(a[b]);return this},removeAt:function(a){var b,c;if(a<this.length&&a>=0){this.length--;b=this.items[a];Ext.Array.erase(this.items,a,1);c=this.keys[a];typeof c!=
"undefined"&&delete this.map[c];Ext.Array.erase(this.keys,a,1);this.hasListeners.remove&&this.fireEvent("remove",b,c);this.generation++;return b}return false},removeAtKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return Ext.Array.indexOf(this.items,a)},indexOfKey:function(a){return Ext.Array.indexOf(this.keys,a)},get:function(a){var b=this.map[a],a=b!==void 0?b:typeof a=="number"?this.items[a]:void 0;return typeof a!="function"||
this.allowFunctions?a:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){return typeof this.map[this.getKey(a)]!="undefined"},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.generation++;this.hasListeners.clear&&this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(a,b,c,d){for(var a=
this.extractValues(a,b),e=a.length,b=0,d=d||d===0?d:e-1,c=c||0;c<=d;c++)b=b+a[c];return b},collect:function(a,b,c){var a=this.extractValues(a,b),b=a.length,d={},e=[],g,h,i;for(i=0;i<b;i++){g=a[i];h=""+g;if((c||!Ext.isEmpty(g))&&!d[h]){d[h]=true;e.push(g)}}return e},extractValues:function(a,b){var c=this.items;b&&(c=Ext.Array.pluck(c,b));return Ext.Array.pluck(c,a)},getRange:function(a,b){var c=this.items,d=[],e;if(c.length<1)return d;a=a||0;b=Math.min(typeof b=="undefined"?this.length-1:b,this.length-
1);if(a<=b)for(e=a;e<=b;e++)d[d.length]=c[e];else for(e=a;e>=b;e--)d[d.length]=c[e];return d},filter:function(a,b,c,d){var e=[];if(Ext.isString(a))e.push(new Ext.util.Filter({property:a,value:b,anyMatch:c,caseSensitive:d}));else if(Ext.isArray(a)||a instanceof Ext.util.Filter)e=e.concat(a);return this.filterBy(function(a){var b=true,c=e.length,d,k,l;for(d=0;d<c;d++){k=e[d];l=k.filterFn;k=k.scope;b=b&&l.call(k,a)}return b})},filterBy:function(a,b){var c=new this.self,d=this.keys,e=this.items,g=e.length,
h;c.getKey=this.getKey;for(h=0;h<g;h++)a.call(b||this,e[h],d[h])&&c.add(d[h],e[h]);return c},findIndex:function(a,b,c,d,e){if(Ext.isEmpty(b,false))return-1;b=this.createValueMatcher(b,d,e);return this.findIndexBy(function(c){return c&&b.test(c[a])},null,c)},findIndexBy:function(a,b,c){for(var d=this.keys,e=this.items,c=c||0,g=e.length;c<g;c++)if(a.call(b||this,e[c],d[c]))return c;return-1},createValueMatcher:function(a,b,c,d){if(!a.exec){var e=Ext.String.escapeRegex,a=""+a;if(b===true)a=e(a);else{a=
"^"+e(a);d===true&&(a=a+"$")}a=RegExp(a,c?"":"i")}return a},clone:function(){for(var a=new this.self,b=this.keys,c=this.items,d=0,e=c.length;d<e;d++)a.add(b[d],c[d]);a.getKey=this.getKey;return a}});
Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(a){Ext.apply(this,a);this.property===void 0&&this.sorterFn===void 0&&Ext.Error.raise("A Sorter requires either a property or a sorter function");this.updateSortFunction()},createSortFunction:function(a){var b=this,c=(b.direction||"ASC").toUpperCase()=="DESC"?-1:1;return function(d,e){return c*a.call(b,d,e)}},defaultSorterFn:function(a,b){var c=this.transform,d=this.getRoot(a)[this.property],e=this.getRoot(b)[this.property];if(c){d=
c(d);e=c(e)}return d>e?1:d<e?-1:0},getRoot:function(a){return this.root===void 0?a:a[this.root]},setDirection:function(a){this.direction=a?a.toUpperCase():a;this.updateSortFunction()},toggle:function(){this.direction=Ext.String.toggle(this.direction,"ASC","DESC");this.updateSortFunction()},updateSortFunction:function(a){a=a||this.sorterFn||this.defaultSorterFn;this.sort=this.createSortFunction(a)}});
Ext.define("Ext.util.Sortable",{isSortable:!0,defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],initSortable:function(){var a=this.sorters;this.sorters=new Ext.util.AbstractMixedCollection(false,function(a){return a.id||a.property});a&&this.sorters.addAll(this.decodeSorters(a))},sort:function(a,b,c,d){var e,g;if(Ext.isArray(a)){d=c;c=b;g=a}else if(Ext.isObject(a)){d=c;c=b;g=[a]}else if(Ext.isString(a))if(e=this.sorters.get(a))b===void 0?e.toggle():e.setDirection(b);else{e={property:a,direction:b};
g=[e]}if(g&&g.length){g=this.decodeSorters(g);if(Ext.isString(c))if(c==="prepend"){a=this.sorters.clone().items;this.sorters.clear();this.sorters.addAll(g);this.sorters.addAll(a)}else this.sorters.addAll(g);else{this.sorters.clear();this.sorters.addAll(g)}}if(d!==false){this.onBeforeSort(g);a=this.sorters.items;a.length&&this.doSort(this.generateComparator())}return a},generateComparator:function(){var a=this.sorters.getRange();return a.length?this.createComparator(a):this.emptyComparator},createComparator:function(a){return function(b,
c){for(var d=a[0].sort(b,c),e=a.length,g=1;g<e;g++)d=d||a[g].sort.call(this,b,c);return d}},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(a){Ext.isArray(a)||(a=a===void 0?[]:[a]);var b=a.length,c=Ext.util.Sorter,d=this.model?this.model.prototype.fields:null,e,g,h;for(h=0;h<b;h++){g=a[h];if(!(g instanceof c)){Ext.isString(g)&&(g={property:g});Ext.applyIf(g,{root:this.sortRoot,direction:"ASC"});if(g.fn)g.sorterFn=g.fn;typeof g=="function"&&(g={sorterFn:g});if(d&&
!g.transform){e=d.get(g.property);g.transform=e?e.sortType:void 0}a[h]=new Ext.util.Sorter(g)}}return a},getSorters:function(){return this.sorters.items},getFirstSorter:function(){for(var a=this.sorters.items,b=a.length,c=0,d;c<b;++c){d=a[c];if(!d.isGrouper)return d}return null}});
Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){this.callParent(arguments);this.addEvents("sort");this.mixins.sortable.initSortable.call(this)},doSort:function(a){this.sortBy(a)},_sort:function(a,b,c){var d,e=(""+b).toUpperCase()=="DESC"?-1:1,g=[],h=this.keys,i=this.items,c=c||function(a,b){return a-b},b=0;for(d=i.length;b<d;b++)g[g.length]={key:h[b],value:i[b],index:b};Ext.Array.sort(g,function(b,d){var g=
c(b[a],d[a])*e;g===0&&(g=b.index<d.index?-1:1);return g});b=0;for(d=g.length;b<d;b++){i[b]=g[b].value;h[b]=g[b].key}this.fireEvent("sort",this)},sortBy:function(a){var b=this.items,c=this.keys,d=b.length,e=[],g;for(g=0;g<d;g++)e[g]={key:c[g],value:b[g],index:g};Ext.Array.sort(e,function(b,c){var d=a(b.value,c.value);d===0&&(d=b.index<c.index?-1:1);return d});for(g=0;g<d;g++){b[g]=e[g].value;c[g]=e[g].key}this.fireEvent("sort",this,b,c)},findInsertionIndex:function(a,b){var c=this.items,d=0,e=c.length-
1,g,h;for(b||(b=this.generateComparator());d<=e;){g=d+e>>1;h=b(a,c[g]);h>=0?d=g+1:h<0&&(e=g-1)}return d},reorder:function(a){var b=this.items,c=0,d=b.length,e=[],g=[],h;this.suspendEvents();for(h in a)e[a[h]]=b[h];for(c=0;c<d;c++)a[c]==void 0&&g.push(b[c]);for(c=0;c<d;c++)e[c]==void 0&&(e[c]=g.shift());this.clear();this.addAll(e);this.resumeEvents();this.fireEvent("sort",this)},sortByKey:function(a,b){this._sort("key",a,b||function(a,b){var e=(""+a).toUpperCase(),g=(""+b).toUpperCase();return e>g?
1:e<g?-1:0})}});Ext.define("Ext.data.Errors",{extend:"Ext.util.MixedCollection",isValid:function(){return this.length===0},getByField:function(a){var b=[],c,d;for(d=0;d<this.length;d++){c=this.items[d];c.field==a&&b.push(c)}return b}});
Ext.define("Ext.data.Operation",{synchronous:!0,action:void 0,filters:void 0,sorters:void 0,groupers:void 0,start:void 0,limit:void 0,batch:void 0,callback:void 0,scope:void 0,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(a){Ext.apply(this,a||{})},commitRecords:function(a){var b,c,d,e,g;if(!this.actionSkipSyncRe.test(this.action))if((c=this.records)&&c.length){if(c.length>1)if(this.action==
"update"||c[0].clientIdProperty){b=new Ext.util.MixedCollection;b.addAll(a);for(a=c.length;a--;){e=c[a];d=b.findBy(this.matchClientRec,e);e.copyFrom(d)}}else{b=0;for(g=c.length;b<g;++b){e=c[b];d=a[b];e&&d&&this.updateRecord(e,d)}}else this.updateRecord(c[0],a[0]);if(this.actionCommitRecordsRe.test(this.action))for(a=c.length;a--;)c[a].commit()}},updateRecord:function(a,b){b&&(a.phantom||a.getId()===b.getId())&&a.copyFrom(b)},matchClientRec:function(a){var b=this.getId();return b&&a.getId()===b?true:
a.internalId===this.internalId},setStarted:function(){this.running=this.started=true},setCompleted:function(){this.complete=true;this.running=false},setSuccessful:function(){this.success=true},setException:function(a){this.exception=true;this.running=this.success=false;this.error=a},hasException:function(){return this.exception===true},getError:function(){return this.error},getRecords:function(){var a=this.getResultSet();return this.records||(a?a.records:null)},getResultSet:function(){return this.resultSet},
isStarted:function(){return this.started===true},isRunning:function(){return this.running===true},isComplete:function(){return this.complete===true},wasSuccessful:function(){return this.isComplete()&&this.success===true},setBatch:function(a){this.batch=a},allowWrite:function(){return this.action!="read"}});
Ext.define("Ext.data.validations",{singleton:!0,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(a,b){arguments.length===1&&(b=a);return!!b||b===0},length:function(a,b){if(b===void 0||b===null)return false;
var c=b.length,d=a.min,e=a.max;return d&&c<d||e&&c>e?false:true},email:function(a,b){return Ext.data.validations.emailRe.test(b)},format:function(a,b){return!(!a.matcher||!a.matcher.test(b))},inclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)!=-1},exclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)==-1}});
Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:"Ext.util.Observable"},requires:"Ext.ModelManager Ext.data.IdGenerator Ext.data.Field Ext.data.Errors Ext.data.Operation Ext.data.validations Ext.util.MixedCollection".split(" "),compareConvertFields:function(a,b){var c=a.convert&&a.type&&a.convert!==a.type.convert,d=b.convert&&b.type&&b.convert!==b.type.convert;return c&&!d?1:!c&&d?-1:0},itemNameFn:function(a){return a.name},onClassExtended:function(a,b,c){var d=
c.onBeforeCreated;c.onBeforeCreated=function(a,b){var h=this,i=Ext.getClassName(a),j=a.prototype,k=a.prototype.superclass,l=b.validations||[],m=b.fields||[],n=b.associations||[],o=function(a,b){var c=0,d,e;if(a){a=Ext.Array.from(a);for(d=a.length;c<d;++c){e=a[c];Ext.isObject(e)||(e={model:e});e.type=b;n.push(e)}}},p=b.idgen,q=new Ext.util.MixedCollection(false,j.itemNameFn),r=new Ext.util.MixedCollection(false,j.itemNameFn),s=k.validations,t=k.fields,k=k.associations,u,v,w,y=[],x=b.idProperty||a.prototype.idProperty,
z=function(a,b,c){if(q.events.add.firing){c=a;a=b}else{a=c;c=b.originalIndex}a.originalIndex=c;if(a.mapping===x||a.mapping==null&&a.name===x)a.defaultValue=void 0},A=b.proxy||a.prototype.proxy||a.prototype.defaultProxyType,C=function(){q.sortBy(j.compareConvertFields)};a.modelName=i;j.modelName=i;s&&(l=s.concat(l));b.validations=l;t&&(m=t.items.concat(m));q.on({add:z,replace:z});v=0;for(w=m.length;v<w;++v){l=m[v];q.add(l.isField?l:new Ext.data.Field(l))}q.get(x)||q.add(new Ext.data.Field(x));C();
q.on({add:C,replace:C});b.fields=q;if(p)b.idgen=Ext.data.IdGenerator.get(p);o(b.belongsTo,"belongsTo");delete b.belongsTo;o(b.hasMany,"hasMany");delete b.hasMany;o(b.hasOne,"hasOne");delete b.hasOne;k&&(n=k.items.concat(n));v=0;for(w=n.length;v<w;++v)y.push("association."+n[v].type.toLowerCase());if(A&&!A.isProxy){typeof A!=="string"&&!A.type&&Ext.log.warn(i+": proxy type is "+A.type);y.push("proxy."+(typeof A==="string"?A:A.type))}Ext.require(y,function(){Ext.ModelManager.registerType(i,a);v=0;for(w=
n.length;v<w;++v){u=n[v];u.isAssociation?u=Ext.applyIf({ownerModel:i,associatedModel:u.model},u.initialConfig):Ext.apply(u,{ownerModel:i,associatedModel:u.model});Ext.ModelManager.getModel(u.model)===void 0?Ext.ModelManager.registerDeferredAssociation(u):r.add(Ext.data.association.Association.create(u))}b.associations=r;d.call(h,a,b,c);a.setProxy(A);Ext.ModelManager.onModelDefined(a)})}},inheritableStatics:{setProxy:function(a){if(!a.isProxy){typeof a=="string"&&(a={type:a});a=Ext.createByAlias("proxy."+
a.type,a)}a.setModel(this);return this.proxy=this.prototype.proxy=a},getProxy:function(){return this.proxy},setFields:function(a,b,c){var d=this.prototype,e=d.fields,g=a?a.length:0,h=0;if(b)d.idProperty=b;if(c)d.clientIdProperty=c;for(e?e.clear():e=this.prototype.fields=new Ext.util.MixedCollection(false,function(a){return a.name});h<g;h++)e.add(new Ext.data.Field(a[h]));e.get(d.idProperty)||e.add(new Ext.data.Field(d.idProperty));return this.fields=e},getFields:function(){return this.prototype.fields.items},
load:function(a,b){var b=Ext.apply({},b),b=Ext.applyIf(b,{action:"read",id:a}),c=new Ext.data.Operation(b),d=b.scope||this,e=null;this.proxy.read(c,function(a){if(a.wasSuccessful()){e=a.getRecords()[0];Ext.callback(b.success,d,[e,a])}else Ext.callback(b.failure,d,[e,a]);Ext.callback(b.callback,d,[e,a])},this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(a){var b=[this.PREFIX,"-",this.AUTO_ID++].join("");a.phantom=true;return a.internalId=b}},idgen:{isGenerator:!0,
type:"default",generate:function(){return null},getRecId:function(a){return a.modelName+"-"+a.internalId}},editing:!1,dirty:!1,persistenceProperty:"data",evented:!1,isModel:!0,phantom:!1,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",constructor:function(a,b,c,d){var a=a||{},e,g,h,i;this.internalId=b||b===0?b:Ext.data.Model.id(this);this.raw=c||a;if(!this.data)this.data={};this.modified={};if(this.persistanceProperty){Ext.log.warn("Ext.data.Model: persistanceProperty has been deprecated. Use persistenceProperty instead.");
this.persistenceProperty=this.persistanceProperty}this[this.persistenceProperty]=d||{};this.mixins.observable.constructor.call(this);if(!d){b=this.fields.items;c=b.length;i=0;h=this[this.persistenceProperty];if(Ext.isArray(a))for(;i<c;i++){d=b[i];e=d.name;g=a[d.originalIndex];if(g===void 0)g=d.defaultValue;d.convert&&(g=d.convert(g,this));g!==void 0&&(h[e]=g)}else for(;i<c;i++){d=b[i];e=d.name;g=a[e];if(g===void 0)g=d.defaultValue;d.convert&&(g=d.convert(g,this));g!==void 0&&(h[e]=g)}}this.stores=
[];if(this.getId())this.phantom=false;else if(this.phantom){a=this.idgen.generate();a!==null&&this.setId(a)}this.dirty=false;this.modified={};typeof this.init=="function"&&this.init();this.id=this.idgen.getRecId(this)},get:function(a){return this[this.persistenceProperty][a]},_singleProp:{},set:function(a,b){var c=this[this.persistenceProperty],d=this.fields,e=this.modified,g=typeof a=="string",h,i,j,k,l,m,n,o,p,q;if(g){q=this._singleProp;q[a]=b}else q=a;for(m in q)if(q.hasOwnProperty(m)){p=q[m];
if(d&&(i=d.get(m))&&i.convert)p=i.convert(p,this);h=c[m];if(!this.isEqual(h,p)){c[m]=p;(l||(l=[])).push(m);if(i&&i.persist)if(e.hasOwnProperty(m)){if(this.isEqual(e[m],p)){delete e[m];this.dirty=false;for(k in e)if(e.hasOwnProperty(k)){this.dirty=true;break}}}else{this.dirty=true;e[m]=h}if(m==this.idProperty){j=true;n=h;o=p}}}g&&delete q[a];j&&this.fireEvent("idchanged",this,n,o);!this.editing&&l&&this.afterEdit(l);return l||null},copyFrom:function(a){if(a){for(var b=this.fields.items,c=b.length,
d,e=0,g=this[this.persistenceProperty],h=a[a.persistenceProperty],i;e<c;e++){d=b[e];i=h[d.name];i!==void 0&&(g[d.name]=i)}this.phantom&&!a.phantom&&this.setId(a.getId())}},isEqual:function(a,b){return Ext.isDate(a)&&Ext.isDate(b)?Ext.Date.isEqual(a,b):a===b},beginEdit:function(){if(!this.editing){this.editing=true;this.dirtySave=this.dirty;this.dataSave=Ext.apply({},this[this.persistenceProperty]);this.modifiedSave=Ext.apply({},this.modified)}},cancelEdit:function(){if(this.editing){this.editing=
false;this.modified=this.modifiedSave;this[this.persistenceProperty]=this.dataSave;this.dirty=this.dirtySave;delete this.modifiedSave;delete this.dataSave;delete this.dirtySave}},endEdit:function(a,b){var c;if(this.editing){this.editing=false;b||(b=this.getModifiedFieldNames());c=this.dirty||b.length>0;delete this.modifiedSave;delete this.dataSave;delete this.dirtySave;c&&a!==true&&this.afterEdit(b)}},getModifiedFieldNames:function(){var a=this.dataSave,b=this[this.persistenceProperty],c=[],d;for(d in b)b.hasOwnProperty(d)&&
(this.isEqual(b[d],a[d])||c.push(d));return c},getChanges:function(){var a=this.modified,b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=this.get(c));return b},isModified:function(a){return this.modified.hasOwnProperty(a)},setDirty:function(){var a=this.fields.items,b=a.length,c,d;this.dirty=true;for(d=0;d<b;d++){c=a[d];if(c.persist){c=c.name;this.modified[c]=this.get(c)}}},markDirty:function(){Ext.log.warn("Ext.data.Model: markDirty has been deprecated. Use setDirty instead.");return this.setDirty.apply(this,
arguments)},reject:function(a){var b=this.modified,c;for(c in b)b.hasOwnProperty(c)&&typeof b[c]!="function"&&(this[this.persistenceProperty][c]=b[c]);this.editing=this.dirty=false;this.modified={};a!==true&&this.afterReject()},commit:function(a){this.phantom=this.dirty=this.editing=false;this.modified={};a!==true&&this.afterCommit()},copy:function(a){return new this.self(this.raw,a,null,Ext.apply({},this[this.persistenceProperty]))},setProxy:function(a){if(!a.isProxy){typeof a==="string"&&(a={type:a});
a=Ext.createByAlias("proxy."+a.type,a)}a.setModel(this.self);return this.proxy=a},getProxy:function(){return this.proxy},validate:function(){var a=new Ext.data.Errors,b=this.validations,c=Ext.data.validations,d,e,g,h,i,j;if(b){d=b.length;for(j=0;j<d;j++){e=b[j];g=e.field||e.name;i=e.type;(h=c[i](e,this.get(g)))||a.add({field:g,message:e.message||c[i+"Message"]})}}return a},isValid:function(){return this.validate().isValid()},save:function(a){var a=Ext.apply({},a),b=this,c=b.phantom?"create":"update",
d=a.scope||b,e=b.stores,g=0,h,i,j,k;Ext.apply(a,{records:[b],action:c});k=new Ext.data.Operation(a);b.getProxy()[c](k,function(c){j=[b,c];if(c.wasSuccessful()){for(h=e.length;g<h;g++){i=e[g];i.fireEvent("write",i,c);i.fireEvent("datachanged",i)}Ext.callback(a.success,d,j)}else Ext.callback(a.failure,d,j);Ext.callback(a.callback,d,j)},b);return b},destroy:function(a){var a=Ext.apply({},a),b=this,c=a.scope||b,d=b.stores,e=0,g,h,i,j;Ext.apply(a,{records:[b],action:"destroy"});j=new Ext.data.Operation(a);
b.getProxy().destroy(j,function(j){i=[b,j];if(j.wasSuccessful()){for(g=d.length;e<g;e++){h=d[e];h.fireEvent("write",h,j);h.fireEvent("datachanged",h)}b.clearListeners();Ext.callback(a.success,c,i)}else Ext.callback(a.failure,c,i);Ext.callback(a.callback,c,i)},b);return b},getId:function(){return this.get(this.idProperty)},getObservableId:function(){return this.id},setId:function(a){this.set(this.idProperty,a);this.phantom=!(a||a===0)},join:function(a){Ext.Array.include(this.stores,a);this.store=this.stores[0]},
unjoin:function(a){Ext.Array.remove(this.stores,a);this.store=this.stores[0]||null},afterEdit:function(a){this.callStore("afterEdit",a)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(){this.callStore("afterCommit")},callStore:function(a){var b=Ext.Array.clone(arguments),c=this.stores,d=0,e=c.length,g;for(b[0]=this;d<e;++d){(g=c[d])&&typeof g[a]=="function"&&g[a].apply(g,b);(g=g.treeStore)&&typeof g[a]=="function"&&g[a].apply(g,b)}},getData:function(a){var b=this.fields.items,
c=b.length,d={},e,g;for(g=0;g<c;g++){e=b[g].name;d[e]=this.get(e)}a===true&&Ext.apply(d,this.getAssociatedData());return d},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(a,b){var c=this.associations.items,d=c.length,e={},g=[],h=[],i=[],j,k,l,m,n,o;for(n=0;n<d;n++){j=c[n];l=j.associationId;m=a[l];if(!(m&&m!==b)){a[l]=b;l=j.type;m=j.name;if(l=="hasMany"){j=this[j.storeName];e[m]=[];if(j&&j.getCount()>0){k=j.data.items;j=k.length;for(o=0;o<j;o++){l=
k[o];e[m][o]=l.getData();g.push(l);h.push(m);i.push(o)}}}else if(l=="belongsTo"||l=="hasOne"){l=this[j.instanceName];if(l!==void 0){e[m]=l.getData();g.push(l);h.push(m);i.push(-1)}}}}n=0;for(j=g.length;n<j;++n){l=g[n];c=e[h[n]];d=i[n];m=l.prepareAssociatedData(a,b+1);d===-1?Ext.apply(c,m):Ext.apply(c[d],m)}return e}});
Ext.define("Ext.data.StoreManager",{extend:"Ext.util.MixedCollection",alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,uses:["Ext.data.ArrayStore"],register:function(){for(var a=0,b;b=arguments[a];a++)this.add(b)},unregister:function(){for(var a=0,b;b=arguments[a];a++)this.remove(this.lookup(b))},lookup:function(a){if(Ext.isArray(a)){var b=["field1"],c=!Ext.isArray(a[0]),d=a,e,g;if(c){d=[];e=0;for(g=a.length;e<g;++e)d.push([a[e]])}else{e=2;for(g=a[0].length;e<=
g;++e)b.push("field"+e)}return new Ext.data.ArrayStore({data:d,fields:b,autoDestroy:true,autoCreated:true,expanded:c})}return Ext.isString(a)?this.get(a):Ext.data.AbstractStore.create(a)},getKey:function(a){return a.storeId}},function(){Ext.regStore=function(a,b){var c;Ext.isObject(a)?b=a:b.storeId=a;c=b instanceof Ext.data.Store?b:new Ext.data.Store(b);return Ext.data.StoreManager.register(c)};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}});
Ext.define("Ext.ComponentManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ComponentMgr",singleton:!0,typeName:"xtype",create:function(a,b){return typeof a=="string"?Ext.widget(a):a.isComponent?a:Ext.widget(a.xtype||b,a)},registerType:function(a,b){this.types[a]=b;b[this.typeName]=a;b.prototype[this.typeName]=a}});
Ext.define("Ext.ComponentQuery",{singleton:!0,requires:["Ext.ComponentManager"]},function(){var a=this,b=function(a,b){return b.method.apply(this,[a].concat(b.args))},c=function(a,b){for(var c=[],d=0,e=a.length,g,h=b!==">";d<e;d++){g=a[d];g.getRefItems&&(c=c.concat(g.getRefItems(h)))}return c},d=function(a,b,c){if(b==="*")return a.slice();for(var d=[],e=0,g=a.length,h;e<g;e++){h=a[e];h.isXType(b,c)&&d.push(h)}return d},e=function(a,b){for(var c=[],d=0,e=a.length,g;d<e;d++){g=a[d];g.hasCls(b)&&c.push(g)}return c},
g=function(a,b){for(var c=[],d=0,e=a.length,g;d<e;d++){g=a[d];g.getItemId()===b&&c.push(g)}return c},h=/^(\s?([>\^])\s?|\s|$)/,i=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,j=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:d},{re:/^(?:[\[](?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]])/,method:function(a,b,c,d){for(var c=[],e=0,g=a.length,h;e<g;e++){h=a[e];(!d?h[b]:""+h[b]===d)&&c.push(h)}return c}},{re:/^#([\w\-]+)/,method:g},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,
method:function(b,c,d){return a.pseudos[c](b,d)}},{re:/^(?:\{([^\}]+)\})/,method:"var r = [],i = 0,it = items,l = it.length,c;for (; i < l; i++) {c = it[i];if (c.{0}) {r.push(c);}}return r;"}];a.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(a){var d=this.operations,e=0,g=d.length,h,i;if(a)if(Ext.isArray(a))i=a;else{if(a.isMixedCollection)i=a.items}else i=Ext.ComponentManager.all.getArray();for(;e<g;e++){h=d[e];if(h.mode==="^"){h=i||[a];i=[];for(var j=
0,r=h.length,s=void 0;j<r;j++)for(s=h[j];s=s.ownerCt||s.floatParent;)i.push(s)}else i=h.mode?c(i||[a],h.mode):b(i||c([a]),h);if(e===g-1)return i}return[]},is:function(a){var c=this.operations,a=Ext.isArray(a)?a:[a],d=a.length,a=b(a,c[c.length-1]);if(a.length===d){if(c.length>1){d=0;for(c=a.length;d<c;d++)if(Ext.Array.indexOf(this.execute(),a[d])===-1)return false}return true}return false}});Ext.apply(this,{cache:{},pseudos:{not:function(a,b){for(var c=Ext.ComponentQuery,d=0,e=a.length,g=[],h=-1,i;d<
e;++d){i=a[d];c.is(i,b)||(g[++h]=i)}return g},first:function(a){var b=[];a.length>0&&b.push(a[0]);return b},last:function(a){var b=a.length,c=[];b>0&&c.push(a[b-1]);return c}},query:function(a,b){for(var c=a.split(","),d=c.length,e=0,g=[],h=[],i={},j;e<d;e++){a=Ext.String.trim(c[e]);j=this.cache[a]||(this.cache[a]=this.parse(a));g=g.concat(j.execute(b))}if(d>1){c=g.length;for(e=0;e<c;e++){d=g[e];if(!i[d.id]){h.push(d);i[d.id]=true}}g=h}return g},is:function(a,b){if(!b)return true;for(var c=b.split(","),
d=c.length,e=0,g;e<d;e++){b=Ext.String.trim(c[e]);g=this.cache[b]||(this.cache[b]=this.parse(b));if(g.is(a))return true}return false},parse:function(b){for(var c=[],m=j.length,n,o,p,q,r;b&&n!==b;){n=b;if(o=b.match(i)){p=o[1];p==="#"?c.push({method:g,args:[Ext.String.trim(o[2])]}):p==="."?c.push({method:e,args:[Ext.String.trim(o[2])]}):c.push({method:d,args:[Ext.String.trim(o[2]),Boolean(o[3])]});b=b.replace(o[0],"")}for(;!(o=b.match(h));)for(p=0;b&&p<m;p++){q=j[p];o=b.match(q.re);r=q.method;if(o){c.push({method:Ext.isString(q.method)?
Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[r].concat(o.slice(1)))):q.method,args:o.slice(1)});b=b.replace(o[0],"");break}p===m-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+b+'"')}if(o[1]){c.push({mode:o[2]||o[1]});b=b.replace(o[0],"")}}return new a.Query({operations:c})}})});
Ext.define("Ext.util.ProtoElement",function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(c){Ext.apply(this,c);this.classList=a(this.cls);this.classMap=b(this.classList);delete this.cls;if(Ext.isFunction(this.style)){this.styleFn=this.style;delete this.style}else if(typeof this.style=="string")this.style=Ext.Element.parseStyles(this.style);else if(this.style)this.style=Ext.apply({},
this.style)},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style},addCls:function(b){for(var b=a(b),d=b.length,e=this.classList,g=this.classMap,h=this.flushClassList,i=0,j;i<d;++i){j=b[i];if(!g[j]){g[j]=true;e.push(j);if(h){h.push(j);delete this.removedClasses[j]}}}return this},hasCls:function(a){return a in this.classMap},removeCls:function(c){var d=this.classList,e=this.classList=[],c=b(a(c)),g=d.length,h=this.classMap,i=this.removedClasses,j,k;for(j=0;j<g;++j){k=d[j];
if(c[k]){if(i&&h[k]){i[k]=true;Ext.Array.remove(this.flushClassList,k)}delete h[k]}else e.push(k)}return this},setStyle:function(a,b){var e=this.style||(this.style={});typeof a=="string"?arguments.length===1?this.setStyle(Ext.Element.parseStyles(a)):e[a]=b:Ext.apply(e,a);return this},writeTo:function(a){var b=this.flushClassList||this.classList,e=this.removedClasses,g;if(this.styleFn){g=Ext.apply({},this.styleFn());Ext.apply(g,this.style)}else g=this.style;a[this.clsProp]=b.join(" ");g&&(a[this.styleProp]=
this.styleIsText?Ext.DomHelper.generateStyles(g):g);if(e){e=Ext.Object.getKeys(e);e.length&&(a[this.removedProp]=e.join(" "))}return a}}}());
Ext.define("Ext.util.Animate",{requires:["Ext.Element","Ext.CompositeElementLite"],uses:["Ext.fx.Manager","Ext.fx.Anim"],animate:function(a){if(Ext.fx.Manager.hasFxBlock(this.id))return this;Ext.fx.Manager.queueFx(new Ext.fx.Anim(this.anim(a)));return this},anim:function(a){if(!Ext.isObject(a))return a?{}:false;a.stopAnimation&&this.stopAnimation();Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(this.id));return Ext.apply({target:this,paused:true},a)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),
stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},function(){Ext.applyIf(Ext.Element.prototype,this.prototype);Ext.CompositeElementLite.importElementMethods()});
Ext.define("Ext.util.ElementContainer",{childEls:[],constructor:function(){var a;if(this.hasOwnProperty("childEls")){a=this.childEls;delete this.childEls;this.addChildEls.apply(this,a)}},destroy:function(){var a=this.getChildEls(),b,c,d;for(d=a.length;d--;){c=a[d];if(typeof c!="string")c=c.name;if(b=this[c]){this[c]=null;b.remove()}}},addChildEls:function(){var a=arguments;this.hasOwnProperty("childEls")?this.childEls.push.apply(this.childEls,a):this.childEls=this.getChildEls().concat(Array.prototype.slice.call(a));
this.prune(this.childEls,false)},applyChildEls:function(a,b){var c=this.getChildEls(),d,e,g,h,i;d=(b||this.id)+"-";for(g=c.length;g--;){e=c[g];if(typeof e=="string")i=a.getById(d+e);else{i=(h=e.select)?Ext.select(h,true,a.dom):(h=e.selectNode)?Ext.get(Ext.DomQuery.selectNode(h,a.dom)):a.getById(e.id||d+e.itemId);e=e.name}this[e]=i}},getChildEls:function(){var a;if(this.hasOwnProperty("childEls"))return this.childEls;a=this.self;return a.$childEls||this.getClassChildEls(a)},getClassChildEls:function(a){var b=
a.$childEls,c,d,e,g,h,i,j;if(!b){if(d=a.superclass){d=d.self;h=[d.$childEls||this.getClassChildEls(d)];j=d.prototype.mixins||{}}else{h=[];j={}}i=a.prototype;e=i.mixins;for(c in e)if(e.hasOwnProperty(c)&&!j.hasOwnProperty(c)){d=e[c].self;h.push(d.$childEls||this.getClassChildEls(d))}h.push(i.hasOwnProperty("childEls")&&i.childEls);d=0;for(e=h.length;d<e;++d)if((c=h[d])&&c.length)if(b){if(!g){g=true;b=b.slice(0)}b.push.apply(b,c)}else b=c;a.$childEls=b=b?this.prune(b,!g):[]}return b},prune:function(a,
b){for(var c=a.length,d={},e;c--;){e=a[c];if(typeof e!="string")e=e.name;if(d[e]){if(b){b=false;a=a.slice(0)}Ext.Array.erase(a,c,1)}else d[e]=1}return a},removeChildEls:function(a){var b=this.getChildEls(),c=this.childEls=[],d,e,g;e=0;for(d=b.length;e<d;++e){g=b[e];a(g)||c.push(g)}}});
Ext.define("Ext.util.Renderable",{requires:["Ext.dom.Element"],frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElementCls:{tl:[],tc:[],tr:[],ml:[],mc:[],mr:[],bl:[],bc:[],br:[]},frameElNames:"TL TC TR ML MC MR BL BC BR".split(" "),frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>" style="background-position: {tl}; padding-left: {frameWidth}px" role="presentation"></tpl>',
'<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>" style="background-position: {tr}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>" style="background-position: {tc}; height: {frameWidth}px" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',
"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>" style="background-position: {ml}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>" style="background-position: {mr}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>" role="presentation">',
"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>" style="background-position: {bl}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>" style="background-position: {br}; padding-right: {frameWidth}px" role="presentation"></tpl>',
'<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>" style="background-position: {bc}; height: {frameWidth}px" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}","<table><tbody>",'<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>" style="background-position: {tl}; padding-left:{frameWidth}px" role="presentation"></td></tpl>',
'<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>" style="background-position: {tc}; height: {frameWidth}px" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>" style="background-position: {tr}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>" style="background-position: {ml}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',
'<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>" style="background-position: 0 0;" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>" style="background-position: {mr}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',
"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>" style="background-position: {bl}; padding-left: {frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>" style="background-position: {bc}; height: {frameWidth}px" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>" style="background-position: {br}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',
"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var a={},b=this.protoEl,c=this.getTargetEl();this.finishRenderChildren();this.styleHtmlContent&&c.addCls(this.styleHtmlCls);b.writeTo(a);(b=a.removed)&&c.removeCls(b);b=a.cls;b.length&&c.addCls(b);(b=a.style)&&c.setStyle(b);this.protoEl=null;this.ownerCt||this.updateLayout()},afterFirstLayout:function(a,b){var c=Ext.isDefined(this.x),d=Ext.isDefined(this.y),e,g;if(this.floating&&(!c||!d)){if(this.floatParent){e=
this.floatParent.getTargetEl().getViewRegion();g=this.el.getAlignToXY(this.floatParent.getTargetEl(),"c-c");e.left=g[0]-e.left;e.top=g[1]-e.top}else{g=this.el.getAlignToXY(this.container,"c-c");e=this.container.translatePoints(g[0],g[1])}this.x=c?this.x:e.left;this.y=d?this.y:e.top;c=d=true}(c||d)&&this.setPosition(this.x,this.y);this.onBoxReady(a,b);this.hasListeners.boxready&&this.fireEvent("boxready",this,a,b)},onBoxReady:Ext.emptyFn,applyRenderSelectors:function(){var a=this.renderSelectors,b=
this.el,c=b.dom,d;this.applyChildEls(b);if(a)for(d in a)a.hasOwnProperty(d)&&a[d]&&(this[d]=Ext.get(Ext.DomQuery.selectNode(a[d],c)))},beforeRender:function(){var a=this.getTargetEl(),b=this.getComponentLayout();this.frame=this.frame||this.alwaysFramed;b.initialized||b.initLayout();if(a){a.setStyle(this.getOverflowStyle());this.overflowStyleSet=true}this.setUI(this.ui);this.disabled&&this.disable(true)},doApplyRenderTpl:function(a,b){var c=b.$comp;if(!c.rendered){c=c.initRenderTpl();c.applyOut(b.renderData,
a)}},doAutoRender:function(){this.rendered||(this.floating?this.render(document.body):this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender))},doRenderContent:function(a,b){var c=b.$comp;if(c.html){Ext.DomHelper.generateMarkup(c.html,a);delete c.html}if(c.tpl){if(!c.tpl.isTemplate)c.tpl=new Ext.XTemplate(c.tpl);if(c.data){c.tpl.applyOut(c.data,a);delete c.data}}},doRenderFramingDockedItems:function(a,b,c){var d=b.$comp;if(!d.rendered&&d.doRenderDockedItems){b.renderData.$skipDockedItems=
true;d.doRenderDockedItems.call(this,a,b,c)}},finishRender:function(a){var b,c;if(!this.el||this.$pid){b=this.container?this.container.getById(this.id,true):Ext.getDom(this.id);if(this.el){delete this.$pid;this.el.dom||this.wrapPrimaryEl(this.el);b.parentNode.insertBefore(this.el.dom,b);Ext.removeNode(b)}else this.wrapPrimaryEl(b)}else if(!this.rendering)if(b=this.initRenderTpl()){c=this.initRenderData();b.insertFirst(this.getTargetEl(),c)}if(!this.container)this.container=Ext.get(this.el.dom.parentNode);
this.ctCls&&this.container.addCls(this.ctCls);this.onRender(this.container,a);this.overflowStyleSet||this.getTargetEl().setStyle(this.getOverflowStyle());this.el.setVisibilityMode(Ext.Element[this.hideMode.toUpperCase()]);this.overCls&&this.el.hover(this.addOverCls,this.removeOverCls,this);this.hasListeners.render&&this.fireEvent("render",this);if(this.contentEl){b=Ext.baseCSSPrefix;c=b+"hide-";a=Ext.get(this.contentEl);a.removeCls([b+"hidden",c+"display",c+"offsets",c+"nosize"]);this.getTargetEl().appendChild(a.dom)}this.afterRender();
this.hasListeners.afterrender&&this.fireEvent("afterrender",this);this.initEvents();this.hidden&&this.el.hide()},finishRenderChildren:function(){this.getComponentLayout().finishRender()},getElConfig:function(){var a=this.autoEl,b=this.getFrameInfo(),c={tag:"div",tpl:b?this.initFramingTpl(b.table):this.initRenderTpl()},d,e,g;this.initStyles(this.protoEl);this.protoEl.writeTo(c);this.protoEl.flush();Ext.isString(a)?c.tag=a:Ext.apply(c,a);c.id=this.id;if(c.tpl)if(b){a=this.frameElNames;d=a.length;g=
this.id+"-frame1";this.frameGenId=1;c.tplData=Ext.apply({},{$comp:this,fgid:g,ui:this.ui,uiCls:this.uiCls,frameCls:this.frameCls,baseCls:this.baseCls,frameWidth:b.maxWidth,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom,renderData:this.initRenderData()},this.getFramePositions(b));for(b=0;b<d;b++){e=a[b];this.addChildEls({name:"frame"+e,id:g+e})}this.addChildEls({name:"frameBody",id:g+"MC"})}else c.tplData=this.initRenderData();return c},initFramingTpl:function(a){(a=a?this.getTpl("frameTableTpl"):
this.getTpl("frameTpl"))&&!a.applyRenderTpl&&this.setupFramingTpl(a);return a},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl;a.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(a){a!==void 0&&(a=Ext.isNumber(a)?this.container.dom.childNodes[a]:Ext.getDom(a));return a},getRenderTree:function(){if(!this.hasListeners.beforerender||this.fireEvent("beforerender",this)!==false){this.beforeRender();this.rendering=true;return this.el?{tag:"div",id:this.$pid=
Ext.id()}:this.getElConfig()}return null},initContainer:function(a){if(!a&&this.el){a=this.el.dom.parentNode;this.allowDomMove=false}return this.container=a.dom?a:Ext.get(a)},initRenderData:function(){return Ext.apply({$comp:this,id:this.id,ui:this.ui,uiCls:this.uiCls,baseCls:this.baseCls,componentCls:this.componentCls,frame:this.frame},this.renderData)},initRenderTpl:function(){var a=this.getTpl("renderTpl");a&&!a.renderContent&&this.setupRenderTpl(a);return a},onRender:function(){var a=this.x,b=
this.y,c;c=this.el;var d=Ext.getBody().dom;if(Ext.scopeResetCSS&&!this.ownerCt)c.dom===d?c.parent().addCls(Ext.resetCls):this.floating&&this.el.dom.parentNode===d?Ext.resetElement.appendChild(this.el):this.resetEl=c.wrap(Ext.resetElementSpec,false,Ext.supports.CSS3LinearGradient?void 0:"*");this.applyRenderSelectors();delete this.rendering;this.rendered=true;c=null;if(a!==void 0){c=c||{};c.x=a}if(b!==void 0){c=c||{};c.y=b}if(!this.getFrameInfo()&&Ext.isBorderBox){a=this.width;b=this.height;if(typeof a==
"number"){c=c||{};c.width=a}if(typeof b=="number"){c=c||{};c.height=b}}this.lastBox=this.el.lastBox=c},render:function(a,b){var c=this.el&&(this.el=Ext.get(this.el)),d,e,g;Ext.suspendLayouts();a=this.initContainer(a);g=this.getInsertPosition(b);if(c)if(!this.hasListeners.beforerender||this.fireEvent("beforerender",this)!==false){this.initStyles(c);this.allowDomMove!==false&&(g?a.dom.insertBefore(c.dom,g):a.dom.appendChild(c.dom))}else d=true;else{e=this.getRenderTree();this.ownerLayout&&this.ownerLayout.transformItemRenderTree&&
(e=this.ownerLayout.transformItemRenderTree(e));if(e){c=g?Ext.DomHelper.insertBefore(g,e):Ext.DomHelper.append(a,e);this.wrapPrimaryEl(c)}}c&&!d&&this.finishRender(b);Ext.resumeLayouts(!a.isDetachedBody)},ensureAttachedToBody:function(a){for(var b=this,c;b.ownerCt;)b=b.ownerCt;if(b.container.isDetachedBody){b.container=c=Ext.resetElement;c.appendChild(b.el.dom);a&&b.updateLayout();(typeof b.x=="number"||typeof b.y=="number")&&b.setPosition(b.x,b.y)}},setupRenderTpl:function(a){a.renderBody=a.renderContent=
this.doRenderContent},wrapPrimaryEl:function(a){this.el=Ext.get(a,true)},initFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var a=this,b=a.getFrameInfo(),c,d,e,g=a.frameElNames,h=g.length;if(b){c=b.maxWidth;d=a.getFrameTpl(b.table);a.frameGenId=e=(a.frameGenId||0)+1;e=a.id+"-frame"+e;d.insertFirst(a.el,Ext.apply({$comp:a,fgid:e,ui:a.ui,uiCls:a.uiCls,frameCls:a.frameCls,baseCls:a.baseCls,frameWidth:c,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom},a.getFramePositions(b)));
a.frameBody=a.el.down("."+a.frameCls+"-mc");a.removeChildEls(function(b){return b.id&&a.frameIdRegex.test(b.id)});for(b=0;b<h;b++){c=g[b];a["frame"+c]=a.el.getById(e+c)}}}},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var a=this.frameSize&&this.frameSize.table,b=this.frameTL,c=this.frameBL,d=this.frameML,e=this.frameMC,g;this.initFrame();if(e){if(this.frame){g=this.frameMC.dom.className;e.insertAfter(this.frameMC);this.frameMC.remove();this.frameBody=this.frameMC=e;e.dom.className=
g;if(a)this.el.query("> table")[1].remove();else{b&&b.remove();c&&c.remove();d&&d.remove()}}}else this.frame&&this.applyRenderSelectors()}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return false;var a=this.frameInfoCache,b=this.el||this.protoEl,c=b.dom?b.dom.className:b.classList.join(" "),d=a[c],e,g;if(d==null){e=Ext.fly(this.getStyleProxy(c),"frame-style-el");d=e.getStyle("background-position-x");g=e.getStyle("background-position-y");if(!d&&!g){e=e.getStyle("background-position").split(" ");
d=e[0];g=e[1]}(d=this.calculateFrame(d,g))&&b.setStyle("background-image","none");this.frame===true&&!d&&Ext.log.error("You have set frame: true explicity on this component ("+this.getXType()+") and it does not have any framing defined in the CSS template. In this case IE cannot figure out what sizes to use and thus framing on this component will be disabled.");a[c]=d}this.frame=!!d;return this.frameSize=d},calculateFrame:function(a,b){if(!(parseInt(a,10)>=1E6&&parseInt(b,10)>=1E6))return false;var c=
Math.max,d=parseInt(a.substr(3,2),10),e=parseInt(a.substr(5,2),10),g=parseInt(b.substr(3,2),10),h=parseInt(b.substr(5,2),10),d={table:a.substr(0,3)=="110",vertical:b.substr(0,3)=="110",top:c(d,e),right:c(e,g),bottom:c(h,g),left:c(d,h)};d.maxWidth=c(d.top,d.right,d.bottom,d.left);d.width=d.left+d.right;d.height=d.top+d.bottom;return d},getStyleProxy:function(a){var b=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.resetElement.createChild({style:{position:"absolute",top:"-10000px"}},
null,true));b.className=a;return b},getFramePositions:function(a){var b=a.maxWidth,c=this.dock,d;if(a.vertical){a="0 -"+b*0+"px";d="0 -"+b*1+"px";if(c&&c=="right"){a="right -"+b*0+"px";d="right -"+b*1+"px"}b={tl:"0 -"+b*0+"px",tr:"0 -"+b*1+"px",bl:"0 -"+b*2+"px",br:"0 -"+b*3+"px",ml:"-"+b*1+"px 0",mr:"right 0",tc:a,bc:d}}else{a="-"+b*0+"px 0";d="right 0";if(c&&c=="bottom"){a="left bottom";d="right bottom"}b={tl:"0 -"+b*2+"px",tr:"right -"+b*3+"px",bl:"0 -"+b*4+"px",br:"right -"+b*5+"px",ml:a,mr:d,
tc:"0 -"+b*0+"px",bc:"0 -"+b*1+"px"}}return b},getFrameTpl:function(a){return this.getTpl(a?"frameTableTpl":"frameTpl")},frameInfoCache:{}});
Ext.define("Ext.state.Provider",{mixins:{observable:"Ext.util.Observable"},prefix:"ext-",constructor:function(a){a=a||{};Ext.apply(this,a);this.addEvents("statechange");this.state={};this.mixins.observable.constructor.call(this)},get:function(a,b){return typeof this.state[a]=="undefined"?b:this.state[a]},clear:function(a){delete this.state[a];this.fireEvent("statechange",this,a,null)},set:function(a,b){this.state[a]=b;this.fireEvent("statechange",this,a,b)},decodeValue:function(a){var a=/^(a|n|d|b|s|o|e)\:(.*)$/.exec(unescape(a)),
b,c,d,e;if(a&&a[1]){b=a[1];a=a[2];switch(b){case "e":return null;case "n":return parseFloat(a);case "d":return new Date(Date.parse(a));case "b":return a=="1";case "a":b=[];if(a!=""){c=a.split("^");d=c.length;for(e=0;e<d;e++){a=c[e];b.push(this.decodeValue(a))}}return b;case "o":b={};if(a!=""){c=a.split("^");d=c.length;for(e=0;e<d;e++){a=c[e];a=a.split("=");b[a[0]]=this.decodeValue(a[1])}}return b;default:return a}}},encodeValue:function(a){var b="",c=0,d;if(a==null)return"e:1";if(typeof a=="number")a=
"n:"+a;else if(typeof a=="boolean")a="b:"+(a?"1":"0");else if(Ext.isDate(a))a="d:"+a.toGMTString();else if(Ext.isArray(a)){for(d=a.length;c<d;c++){b=b+this.encodeValue(a[c]);c!=d-1&&(b=b+"^")}a="a:"+b}else if(typeof a=="object"){for(d in a)typeof a[d]!="function"&&a[d]!==void 0&&(b=b+(d+"="+this.encodeValue(a[d])+"^"));a="o:"+b.substring(0,b.length-1)}else a="s:"+a;return escape(a)}});
Ext.define("Ext.state.Manager",{singleton:!0,requires:["Ext.state.Provider"],constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(a){this.provider=a},get:function(a,b){return this.provider.get(a,b)},set:function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}});
Ext.define("Ext.state.Stateful",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.state.Manager"],stateful:!1,saveDelay:100,constructor:function(a){a=a||{};if(a.stateful!==void 0)this.stateful=a.stateful;if(a.saveDelay!==void 0)this.saveDelay=a.saveDelay;this.stateId=this.stateId||a.stateId;if(!this.stateEvents)this.stateEvents=[];a.stateEvents&&this.stateEvents.concat(a.stateEvents);this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave");this.mixins.observable.constructor.call(this);
if(this.stateful!==false){this.addStateEvents(this.stateEvents);this.initState()}},addStateEvents:function(a){var b,c,d;if(this.stateful&&this.getStateId()){typeof a=="string"&&(a=Array.prototype.slice.call(arguments,0));d=this.stateEventsByName||(this.stateEventsByName={});for(b=a.length;b--;){c=a[b];if(!d[c]){d[c]=1;this.on(c,this.onStateChange,this)}}}},onStateChange:function(){var a=this.saveDelay,b;if(this.stateful)if(a){if(!this.stateTask){b=Ext.state.Stateful;b=b.runner||(b.runner=new Ext.util.TaskRunner);
this.stateTask=b.newTask({run:this.saveState,scope:this,interval:a,repeat:1})}this.stateTask.start()}else this.saveState()},saveState:function(){var a=this.stateful&&this.getStateId(),b=this.hasListeners,c;if(a){c=this.getState()||{};if(!b.beforestatesave||this.fireEvent("beforestatesave",this,c)!==false){Ext.state.Manager.set(a,c);b.statesave&&this.fireEvent("statesave",this,c)}}},getState:function(){return null},applyState:function(a){a&&Ext.apply(this,a)},getStateId:function(){return this.stateId||
(this.autoGenId?null:this.id)},initState:function(){var a=this.stateful&&this.getStateId(),b=this.hasListeners;if(a)if(a=Ext.state.Manager.get(a)){a=Ext.apply({},a);if(!b.beforestaterestore||this.fireEvent("beforestaterestore",this,a)!==false){this.applyState(a);b.staterestore&&this.fireEvent("staterestore",this,a)}}},savePropToState:function(a,b,c){var d=this[a],e=this.initialConfig;if(this.hasOwnProperty(a)&&(!e||e[a]!==d)){b&&(b[c||a]=d);return true}return false},savePropsToState:function(a,b){var c,
d;if(typeof a=="string")this.savePropToState(a,b);else{c=0;for(d=a.length;c<d;++c)this.savePropToState(a[c],b)}return b},destroy:function(){var a=this.stateTask;if(a){a.destroy();this.stateTask=null}this.clearListeners()}});
Ext.define("Ext.AbstractComponent",{requires:["Ext.ComponentQuery","Ext.ComponentManager","Ext.util.ProtoElement"],mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate",elementCt:"Ext.util.ElementContainer",renderable:"Ext.util.Renderable",state:"Ext.state.Stateful"},uses:"Ext.PluginManager Ext.Element Ext.DomHelper Ext.XTemplate Ext.ComponentQuery Ext.ComponentLoader Ext.EventManager Ext.layout.Context Ext.layout.Layout Ext.layout.component.Auto Ext.LoadMask Ext.ZIndexManager".split(" "),
statics:{AUTO_ID:1E3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(a,b){var c=this.runningLayoutContext||this.pendingLayouts;c&&c.cancelComponent(a,false,b)},flushLayouts:function(){var a=this,b=a.pendingLayouts;if(b&&b.invalidQueue.length){a.pendingLayouts=null;a.runningLayoutContext=b;Ext.override(b,{runComplete:function(){a.runningLayoutContext=null;return this.callParent()}});b.run()}},resumeLayouts:function(a){this.layoutSuspendCount&&!--this.layoutSuspendCount&&a&&this.flushLayouts()},
suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(a,b){var c=this.runningLayoutContext;if(c)c.queueInvalidate(a);else{c=this.pendingLayouts||(this.pendingLayouts=new Ext.layout.Context);c.queueInvalidate(a);!b&&(!this.layoutSuspendCount&&!a.isLayoutSuspended())&&this.flushLayouts()}}},isComponent:!0,getAutoId:function(){this.autoGenId=true;return++Ext.AbstractComponent.AUTO_ID},deferLayouts:!1,autoGenId:!1,renderTpl:"{%this.renderContent(out,values)%}",frameSize:{left:0,top:0,
right:0,bottom:0,width:0,height:0},tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:!1,disabled:!1,draggable:!1,floating:!1,hideMode:"display",styleHtmlContent:!1,styleHtmlCls:Ext.baseCSSPrefix+"html",autoShow:!1,autoRender:!1,allowDomMove:!0,rendered:!1,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:!0,_isLayoutRoot:!1,constructor:function(a){var b;if(a){Ext.apply(this,a);if(b=this.xhooks){delete this.xhooks;
Ext.override(this,b)}}else a={};this.initialConfig=a;this.mixins.elementCt.constructor.call(this);this.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur");this.getId();this.setupProtoEl();if(this.cls){this.initialCls=this.cls;this.protoEl.addCls(this.cls)}if(this.style){this.initialStyle=this.style;
this.protoEl.setStyle(this.style)}this.mons=[];this.renderData=this.renderData||{};this.renderSelectors=this.renderSelectors||{};if(this.plugins)this.plugins=this.constructPlugins();if(!this.hasListeners)this.hasListeners=new this.HasListeners;this.initComponent();Ext.ComponentManager.register(this);this.mixins.observable.constructor.call(this);this.mixins.state.constructor.call(this,a);this.addStateEvents("resize");if(this.plugins){a=0;for(b=this.plugins.length;a<b;a++)this.plugins[a]=this.initPlugin(this.plugins[a])}this.loader=
this.getLoader();this.renderTo&&this.render(this.renderTo);this.autoShow&&!this.isContained&&this.show();if(Ext.isDefined(this.disabledClass)){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: disabledClass has been deprecated. Please use disabledCls.");this.disabledCls=this.disabledClass;delete this.disabledClass}},initComponent:function(){this.plugins=this.constructPlugins();this.setSize(this.width,this.height)},getState:function(){var a=null,b=this.getSizeModel();b.width.configured&&
(a=this.addPropertyToState(a,"width"));b.height.configured&&(a=this.addPropertyToState(a,"height"));return a},addPropertyToState:function(a,b,c){var d=arguments.length;if(d==3||this.hasOwnProperty(b)){d<3&&(c=this[b]);c!==this.initialConfig[b]&&((a||(a={}))[b]=c)}return a},show:Ext.emptyFn,animate:function(a){var b,c,d,e,g,h,i,j,k,l,m,a=a||{};g=a.to||{};if(Ext.fx.Manager.hasFxBlock(this.id))return this;(b=Ext.isDefined(g.width))&&(e=Ext.Number.constrain(g.width,this.minWidth,this.maxWidth));(c=Ext.isDefined(g.height))&&
(d=Ext.Number.constrain(g.height,this.minHeight,this.maxHeight));if(!a.dynamic&&(b||c)){k=j=(a.from?a.from.width:void 0)||this.getWidth();m=l=(a.from?a.from.height:void 0)||this.getHeight();h=false;if(c&&d>l){m=d;h=true}if(b&&e>j){k=e;h=true}if(h){h=!Ext.isNumber(this.width);i=!Ext.isNumber(this.height);this.setSize(k,m);this.el.setSize(j,l);h&&delete this.width;i&&delete this.height}if(b)g.width=e;if(c)g.height=d}return this.mixins.animate.animate.apply(this,arguments)},onHide:function(){this.updateLayout({isRoot:false})},
onShow:function(){this.updateLayout({isRoot:false})},constructPlugin:function(a){if(a.ptype&&typeof a.init!="function"){a.cmp=this;a=Ext.PluginManager.create(a)}else typeof a=="string"&&(a=Ext.PluginManager.create({ptype:a,cmp:this}));return a},constructPlugins:function(){var a,b=[],c,d;if(this.plugins){a=Ext.isArray(this.plugins)?this.plugins:[this.plugins];c=0;for(d=a.length;c<d;c++)b[c]=this.constructPlugin(a[c]);return b}},initPlugin:function(a){a.init(this);return a},updateAria:Ext.emptyFn,registerFloatingItem:function(a){if(!this.floatingDescendants)this.floatingDescendants=
new Ext.ZIndexManager(this);this.floatingDescendants.register(a)},unregisterFloatingItem:function(a){this.floatingDescendants&&this.floatingDescendants.unregister(a)},layoutSuspendCount:0,suspendLayouts:function(){if(this.rendered&&++this.layoutSuspendCount==1)this.suspendLayout=true},resumeLayouts:function(a){if(this.rendered&&!--this.layoutSuspendCount){this.suspendLayout=false;a&&!this.isLayoutSuspended()&&this.updateLayout(a)}},setupProtoEl:function(){var a=[this.baseCls,this.getComponentLayout().targetCls];
if(Ext.isDefined(this.cmpCls)){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls.");this.componentCls=this.cmpCls;delete this.cmpCls}this.componentCls?a.push(this.componentCls):this.componentCls=this.baseCls;this.protoEl=new Ext.util.ProtoElement({cls:a.join(" ")})},setUI:function(a){var b=Ext.Array.clone(this.uiCls),c=[],d=[],e,g;for(g=0;g<b.length;g++){e=b[g];d=d.concat(this.removeClsWithUI(e,true));c.push(e)}d.length&&
this.removeCls(d);this.removeUIFromElement();this.ui=a;this.addUIToElement();d=[];for(g=0;g<c.length;g++){e=c[g];d=d.concat(this.addClsWithUI(e,true))}d.length&&this.addCls(d);this.rendered&&this.updateLayout()},addClsWithUI:function(a,b){var c=[],d,e=0,g;typeof a==="string"&&(a=a.indexOf(" ")<0?[a]:Ext.String.splitWords(a));d=a.length;for(this.uiCls=Ext.Array.clone(this.uiCls);e<d;e++)if((g=a[e])&&!this.hasUICls(g)){this.uiCls.push(g);c=c.concat(this.addUIClsToElement(g))}b!==true&&this.addCls(c);
return c},removeClsWithUI:function(a,b){var c=[],d=0,e,g;typeof a==="string"&&(a=a.indexOf(" ")<0?[a]:Ext.String.splitWords(a));e=a.length;for(d=0;d<e;d++)if((g=a[d])&&this.hasUICls(g)){this.uiCls=Ext.Array.remove(this.uiCls,g);c=c.concat(this.removeUIClsFromElement(g))}b!==true&&this.removeCls(c);return c},hasUICls:function(a){return Ext.Array.contains(this.uiCls||[],a)},frameElementsArray:"tl tc tr ml mc mr bl bc br".split(" "),addUIClsToElement:function(a){var b=this.baseCls+"-"+this.ui+"-"+a,
a=[Ext.baseCSSPrefix+a,this.baseCls+"-"+a,b],c=this.frameElementCls,d,e,g,h,i,j;if(this.frame&&!Ext.supports.CSS3BorderRadius){d=this.frameElementsArray;e=d.length;for(g=0;g<e;g++){i=d[g];h=this["frame"+i.toUpperCase()];j=b+"-"+i;h&&h.dom?h.addCls(j):Ext.Array.indexOf(c[i],j)==-1&&c[i].push(j)}}this.frameElementCls=c;return a},removeUIClsFromElement:function(a){var b=this.baseCls+"-"+this.ui+"-"+a,a=[Ext.baseCSSPrefix+a,this.baseCls+"-"+a,b],c=this.frameElementCls,d,e,g,h,i,j;if(this.frame&&!Ext.supports.CSS3BorderRadius){d=
this.frameElementsArray;e=d.length;for(g=0;g<e;g++){i=d[g];h=this["frame"+i.toUpperCase()];j=b+"-"+i;h&&h.dom?h.addCls(j):Ext.Array.remove(c[i],j)}}this.frameElementCls=c;return a},addUIToElement:function(){var a=this.baseCls+"-"+this.ui,b=this.frameElementCls,c,d,e,g,h,i;this.addCls(a);if(this.frame&&!Ext.supports.CSS3BorderRadius){c=this.frameElementsArray;d=c.length;for(e=0;e<d;e++){h=c[e];g=this["frame"+h.toUpperCase()];i=a+"-"+h;g?g.addCls(i):Ext.Array.contains(b[h],i)||b[h].push(i)}}},removeUIFromElement:function(){var a=
this.baseCls+"-"+this.ui,b=this.frameElementCls,c,d,e,g,h,i;this.removeCls(a);if(this.frame&&!Ext.supports.CSS3BorderRadius){c=this.frameElementsArray;d=c.length;for(e=0;e<d;e++){h=c[e];g=this["frame"+h.toUpperCase()];i=a+"-"+h;g?g.removeCls(i):Ext.Array.remove(b[h],i)}}},getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},initStyles:function(a){var b=Ext.Element,c=this.padding,d=this.margin,e=this.x,g=this.y;c!==void 0&&a.setStyle("padding",b.unitizeBox(c===true?5:c));d!==void 0&&a.setStyle("margin",
b.unitizeBox(d===true?5:d));this.border!==void 0&&this.setBorder(this.border,a);if(this.cls&&this.cls!=this.initialCls){a.addCls(this.cls);delete this.cls;delete this.initialCls}if(this.style&&this.style!=this.initialStyle){a.setStyle(this.style);delete this.style;delete this.initialStyle}e!==void 0&&a.setStyle("left",typeof e=="number"?e+"px":e);g!==void 0&&a.setStyle("top",typeof g=="number"?g+"px":g);if(!this.getFrameInfo()){b=this.width;c=this.height;b!==void 0&&(typeof b==="number"?Ext.isBorderBox&&
a.setStyle("width",b+"px"):a.setStyle("width",b));c!==void 0&&(typeof c==="number"?Ext.isBorderBox&&a.setStyle("height",c+"px"):a.setStyle("height",c))}},initEvents:function(){var a=this,b=a.afterRenderEvents,c,d,e=function(b){a.mon(c,b)};if(b)for(d in b)if(b.hasOwnProperty(d))(c=a[d])&&c.on&&Ext.each(b[d],e);a.addFocusListener()},addFocusListener:function(){var a=this.getFocusEl(),b;if(a){if(a.isComponent)return a.addFocusListener();b=a.needsTabIndex();if(!this.focusListenerAdded&&(!b||Ext.FocusManager.enabled)){if(b)a.dom.tabIndex=
-1;a.on({focus:this.onFocus,blur:this.onBlur,scope:this});this.focusListenerAdded=true}}},getFocusEl:Ext.emptyFn,isFocusable:function(){var a;if(this.focusable!==false&&(a=this.getFocusEl())&&this.rendered&&!this.destroying&&!this.isDestroyed&&!this.disabled&&this.isVisible(true))return a.isComponent?a.isFocusable():a&&a.dom&&a.isVisible()},preFocus:Ext.emptyFn,onFocus:function(a){var b=this.focusCls,c=this.getFocusEl();if(!this.disabled){this.preFocus(a);b&&c&&c.addCls(this.addClsWithUI(b,true));
if(!this.hasFocus){this.hasFocus=true;this.fireEvent("focus",this,a)}}},beforeBlur:Ext.emptyFn,onBlur:function(a){var b=this.focusCls,c=this.getFocusEl();if(!this.destroying){this.beforeBlur(a);b&&c&&c.removeCls(this.removeClsWithUI(b,true));this.validateOnBlur&&this.validate();this.hasFocus=false;this.fireEvent("blur",this,a);this.postBlur(a)}},postBlur:Ext.emptyFn,is:function(a){return Ext.ComponentQuery.is(this,a)},up:function(a){var b=this.getBubbleTarget();if(a)for(;b;b=b.getBubbleTarget())if(Ext.ComponentQuery.is(b,
a))break;return b},nextSibling:function(a){var b=this.ownerCt,c,d,e;if(b){b=b.items;if(d=b.indexOf(this)+1)if(a)for(c=b.getCount();d<c;d++){if((e=b.getAt(d)).is(a))return e}else if(d<b.getCount())return b.getAt(d)}return null},previousSibling:function(a){var b=this.ownerCt,c,d;if(b){b=b.items;c=b.indexOf(this);if(c!=-1)if(a)for(--c;c>=0;c--){if((d=b.getAt(c)).is(a))return d}else if(c)return b.getAt(--c)}return null},previousNode:function(a,b){var c=this.ownerCt,d,e,g,h;if(b&&this.is(a))return this;
if(c){e=c.items.items;for(g=Ext.Array.indexOf(e,this)-1;g>-1;g--){h=e[g];if(h.query){d=h.query(a);if(d=d[d.length-1])return d}if(h.is(a))return h}return c.previousNode(a,true)}return null},nextNode:function(a,b){var c=this.ownerCt,d,e,g,h;if(b&&this.is(a))return this;if(c){e=c.items.items;h=Ext.Array.indexOf(e,this)+1;for(g=e.length;h<g;h++){d=e[h];if(d.is(a))return d;if(d.down)if(d=d.down(a))return d}return c.nextNode(a)}return null},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},
getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowStyle:function(){var a=null;if(typeof this.autoScroll=="boolean")a={overflow:this.autoScroll?"auto":""};else if(this.overflowX!==void 0||this.overflowY!==void 0)a={"overflow-x":this.overflowX||"","overflow-y":this.overflowY||""};if(a&&(Ext.isIE6||Ext.isIE7))a.position="relative";return a},isXType:function(a,b){return b?this.xtype===a:this.xtypesMap[a]},
getXTypes:function(){var a=this.self,b,c,d;if(!a.xtypes){b=[];for(c=this;c;){d=c.xtypes;d!==void 0&&b.unshift.apply(b,d);c=c.superclass}a.xtypeChain=b;a.xtypes=b.join("/")}return a.xtypes},update:function(a,b,c){if(this.tpl&&!Ext.isString(a)){this.data=a;if(this.rendered)this.tpl[this.tplWriteMode](this.getTargetEl(),a||{})}else{this.html=Ext.isObject(a)?Ext.DomHelper.markup(a):a;this.rendered&&this.getTargetEl().update(this.html,b,c)}this.rendered&&this.updateLayout()},setVisible:function(a){return this[a?
"show":"hide"]()},isVisible:function(a){var b=this,c=this.rendered&&!this.hidden,d=this.ownerCt;this.hiddenAncestor=false;if(this.destroyed)return false;if(a&&c&&d)for(;d;){if(d.hidden||d.collapsed&&(!d.getDockedItems||!Ext.Array.contains(d.getDockedItems(),b))){this.hiddenAncestor=d;c=false;break}b=d;d=d.ownerCt}return c},onBoxReady:function(){if(this.disableOnBoxReady)this.onDisable();else if(this.enableOnBoxReady)this.onEnable();this.resizable&&this.initResizable(this.resizable);this.draggable&&
this.initDraggable()},enable:function(a){delete this.disableOnBoxReady;this.removeCls(this.disabledCls);if(this.rendered)this.onEnable();else this.enableOnBoxReady=true;this.disabled=false;delete this.resetDisable;a!==true&&this.fireEvent("enable",this);return this},disable:function(a){delete this.enableOnBoxReady;this.addCls(this.disabledCls);if(this.rendered)this.onDisable();else this.disableOnBoxReady=true;this.disabled=true;if(a!==true){delete this.resetDisable;this.fireEvent("disable",this)}return this},
onEnable:function(){if(this.maskOnDisable){this.el.dom.disabled=false;this.unmask()}},onDisable:function(){var a=this.focusCls,b=this.getFocusEl();a&&b&&b.removeCls(this.removeClsWithUI(a,true));if(this.maskOnDisable){this.el.dom.disabled=true;this.mask()}},mask:function(){var a=this.lastBox,b=this.getMaskTarget(),c=[];if(a)c[2]=a.height;b.mask.apply(b,c)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(a){return this[a?
"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(a){var b=this.rendered?this.el:this.protoEl;b.addCls.apply(b,arguments);return this},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(a){var b=this.rendered?this.el:this.protoEl;return b.hasCls.apply(b,arguments)},removeCls:function(a){var b=this.rendered?this.el:this.protoEl;b.removeCls.apply(b,arguments);return this},removeClass:function(){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: removeClass has been deprecated. Please use removeCls.");
return this.removeCls.apply(this,arguments)},addOverCls:function(){this.disabled||this.el.addCls(this.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(a,b,c,d){var e,g;if(Ext.isString(a)&&(Ext.isObject(b)||d&&d.element)){if(d.element){e=b;b={};b[a]=e;a=d.element;if(c)b.scope=c;for(g in d)d.hasOwnProperty(g)&&this.eventOptionsRe.test(g)&&(b[g]=d[g])}if(this[a]&&this[a].on)this.mon(this[a],b);else{this.afterRenderEvents=this.afterRenderEvents||{};this.afterRenderEvents[a]||
(this.afterRenderEvents[a]=[]);this.afterRenderEvents[a].push(b)}}return this.mixins.observable.addListener.apply(this,arguments)},removeManagedListenerItem:function(a,b,c,d,e,g){var h=b.options?b.options.element:null;if(h){if((h=this[h])&&h.un&&(a||b.item===c&&b.ename===d&&(!e||b.fn===e)&&(!g||b.scope===g))){h.un(b.ename,b.fn,b.scope);a||Ext.Array.remove(this.managedListeners,b)}}else return this.mixins.observable.removeManagedListenerItem.apply(this,arguments)},getBubbleTarget:function(){return this.ownerCt},
isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(a,b){this.ownerCt=a;this.hasListeners.added&&this.fireEvent("added",this,a,b)},onRemoved:function(){this.hasListeners.removed&&this.fireEvent("removed",this,this.ownerCt);delete this.ownerCt;delete this.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:Ext.emptyFn,setSize:function(a,b){if(a&&typeof a=="object"){b=a.height;a=a.width}typeof a=="number"?
this.width=Ext.Number.constrain(a,this.minWidth,this.maxWidth):a===null&&delete this.width;typeof b=="number"?this.height=Ext.Number.constrain(b,this.minHeight,this.maxHeight):b===null&&delete this.height;this.rendered&&this.isVisible()&&this.updateLayout({isRoot:false});return this},isLayoutRoot:function(){var a=this.ownerLayout;return!a||this._isLayoutRoot||this.floating?true:a.isItemLayoutRoot(this)},isLayoutSuspended:function(){for(var a=this;a;){if(a.layoutSuspendCount||a.suspendLayout)return true;
a=a.ownerLayout;if(!a)break;a=a.owner}return false},updateLayout:function(a){var b=a&&a.isRoot;if(this.rendered&&!this.layoutSuspendCount&&!this.suspendLayout){this.hidden?Ext.AbstractComponent.cancelLayout(this):typeof b!="boolean"&&(b=this.isLayoutRoot());if((b||!this.ownerLayout||!this.ownerLayout.onContentChange(this))&&!this.isLayoutSuspended()){a=a&&a.hasOwnProperty("defer")?a.defer:this.deferLayouts;Ext.AbstractComponent.updateLayout(this,a)}}},getSizeModel:function(a){var b=Ext.layout.SizeModel,
c=this.componentLayout.ownerContext,d=this.width,e=this.height,g,h,i,j,k,l,m,n;if(c){n=c.widthModel;j=c.heightModel}if(!n||!j){h=(c=typeof d)=="number";i=(g=typeof e)=="number";if(m=this.floating||!(k=this.ownerLayout)){l=Ext.layout.Layout.prototype.autoSizePolicy;k=this.floating?3:this.shrinkWrap;if(h)n=b.configured;if(i)j=b.configured}else{l=k.getItemSizePolicy(this,a);k=k.isItemShrinkWrap(this)}k=k===true?3:k||0;if(m&&k){d&&c=="string"&&(k=k&2);e&&g=="string"&&(k=k&1)}if(k!==3){a||(a=this.ownerCt&&
this.ownerCt.getSizeModel());a&&(k=k|(a.width.shrinkWrap?1:0)|(a.height.shrinkWrap?2:0))}n||(n=l.setsWidth?l.readsWidth?h?b.calculatedFromConfigured:k&1?b.calculatedFromShrinkWrap:b.calculatedFromNatural:b.calculated:h?b.configured:k&1?b.shrinkWrap:b.natural);j||(j=l.setsHeight?l.readsHeight?i?b.calculatedFromConfigured:k&2?b.calculatedFromShrinkWrap:b.calculatedFromNatural:b.calculated:i?b.configured:k&2?b.shrinkWrap:b.natural)}return n.pairsByHeightOrdinal[j.ordinal]},isDescendant:function(a){if(a.isContainer)for(var b=
this.ownerCt;b;b=b.ownerCt)if(b===a)return true;return false},doComponentLayout:function(){this.updateLayout();return this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(a){var b=this.componentLayout;b&&(b.isLayout&&b!=a)&&b.setOwner(null);this.componentLayout=a;a.setOwner(this)},getComponentLayout:function(){(!this.componentLayout||!this.componentLayout.isLayout)&&this.setComponentLayout(Ext.layout.Layout.create(this.componentLayout,"autocomponent"));return this.componentLayout},
afterComponentLayout:function(a,b,c,d){var e,g,h,i;++this.componentLayoutCounter===1&&this.afterFirstLayout(a,b);if(this.floatingItems){e=this.floatingItems.items;g=e.length;for(h=0;h<g;h++){i=e[h];!i.rendered&&i.autoShow&&i.show()}}this.hasListeners.resize&&(a!==c||b!==d)&&this.fireEvent("resize",this,a,b,c,d)},beforeComponentLayout:function(){return true},setPosition:function(a,b,c){var d=this.beforeSetPosition.apply(this,arguments);if(d&&this.rendered){d=this.convertPosition(d);if(d.left!==this.el.getLeft()||
d.top!==this.el.getTop())if(c){this.stopAnimation();this.animate(Ext.apply({duration:1E3,listeners:{afteranimate:Ext.Function.bind(this.afterSetPosition,this,[d.left,d.top])},to:d},c))}else{d.left!==void 0&&d.top!==void 0?this.el.setLeftTop(d.left,d.top):d.left!==void 0?this.el.setLeft(d.left):d.top!==void 0&&this.el.setTop(d.top);this.afterSetPosition(d.left,d.top)}}return this},beforeSetPosition:function(a,b,c){var d,a=!a||Ext.isNumber(a)?{x:a,y:b,anim:c}:Ext.isNumber(d=a[0])?{x:d,y:a[1],anim:b}:
{x:a.x,y:a.y,anim:b};a.hasX=Ext.isNumber(a.x);a.hasY=Ext.isNumber(a.y);this.x=a.x;this.y=a.y;return a.hasX||a.hasY?a:null},afterSetPosition:function(a,b){this.onPosition(a,b);this.hasListeners.move&&this.fireEvent("move",this,a,b)},convertPosition:function(a,b){var c={},d=Ext.Element;if(a.hasX)c.left=b?d.addUnits(a.x):a.x;if(a.hasY)c.top=b?d.addUnits(a.y):a.y;return c},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(void 0,a)},getSize:function(){return this.el.getSize()},
getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var a=this.autoLoad?Ext.isObject(this.autoLoad)?this.autoLoad:{url:this.autoLoad}:null,b=this.loader||a;if(b){b.isLoader?b.setTarget(this):this.loader=new Ext.ComponentLoader(Ext.apply({target:this,autoLoad:a},b));return this.loader}return null},setDocked:function(a,b){this.dock=a;b&&(this.ownerCt&&this.rendered)&&this.ownerCt.updateLayout();return this},setBorder:function(a,b){var c=
!!b;if(this.rendered||c){if(!c)b=this.el;a=a?Ext.Element.unitizeBox(a===true?1:a):0;b.setStyle("border-width",a);c||this.updateLayout()}this.border=a},onDestroy:function(){this.monitorResize&&Ext.EventManager.resizeEvent&&Ext.EventManager.resizeEvent.removeListener(this.setSize,this);Ext.destroy(this.componentLayout,this.loadMask,this.floatingDescendants)},destroy:function(){var a=this.renderSelectors,b,c;if(!this.isDestroyed&&(!this.hasListeners.beforedestroy||this.fireEvent("beforedestroy",this)!==
false)){this.destroying=true;this.beforeDestroy();if(this.floating){delete this.floatParent;this.zIndexManager&&this.zIndexManager.unregister(this)}else this.ownerCt&&this.ownerCt.remove&&this.ownerCt.remove(this,false);this.onDestroy();Ext.destroy(this.plugins);this.hasListeners.destroy&&this.fireEvent("destroy",this);Ext.ComponentManager.unregister(this);this.mixins.state.destroy.call(this);this.clearListeners();if(this.rendered){this.preserveElOnDestroy||this.el.remove();this.mixins.elementCt.destroy.call(this);
if(a)for(b in a)if(a.hasOwnProperty(b))if(c=this[b]){delete this[b];c.remove()}delete this.el;delete this.frameBody;delete this.rendered}this.destroying=false;this.isDestroyed=true}},getPlugin:function(a){for(var b=0,c=this.plugins,d=c.length;b<d;b++)if(c[b].pluginId===a)return c[b]},isDescendantOf:function(a){return!!this.findParentBy(function(b){return b===a})}},function(){var a=this;a.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(b){a.resumeLayouts(b)};
Ext.suspendLayouts=function(){a.suspendLayouts()};Ext.batchLayouts=function(b,c){a.suspendLayouts();b.call(c);a.resumeLayouts(true)}});
Ext.define("Ext.util.Floating",{uses:["Ext.Layer","Ext.window.Window"],focusOnToFront:!0,shadow:"sides",constructor:function(a){this.el=new Ext.Layer(Ext.apply({hideMode:this.hideMode,hidden:this.hidden,shadow:typeof this.shadow!="undefined"?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:false,shim:this.shim===false?false:void 0},this.floating),a);this.floating=true;this.registerWithOwnerCt()},registerWithOwnerCt:function(){this.zIndexParent&&this.zIndexParent.unregisterFloatingItem(this);
this.zIndexParent=this.up("[floating]");this.setFloatParent(this.ownerCt);delete this.ownerCt;this.zIndexParent?this.zIndexParent.registerFloatingItem(this):Ext.WindowManager.register(this)},setFloatParent:function(a){this.floatParent&&this.mun(this.floatParent,{hide:this.onFloatParentHide,show:this.onFloatParentShow,scope:this});(this.floatParent=a)&&this.mon(this.floatParent,{hide:this.onFloatParentHide,show:this.onFloatParentShow,scope:this});if((this.constrain||this.constrainHeader)&&!this.constrainTo)this.constrainTo=
a?a.getTargetEl():this.container},onAfterFloatLayout:function(){this.syncShadow()},onFloatParentHide:function(){if(this.hideOnParentHide!==false&&this.isVisible()){this.hide();this.showOnParentShow=true}},onFloatParentShow:function(){if(this.showOnParentShow){delete this.showOnParentShow;this.show()}},setZIndex:function(a){this.el.setZIndex(a);a=a+10;this.floatingDescendants&&(a=Math.floor(this.floatingDescendants.setBase(a)/100)*100+1E4);return a},doConstrain:function(a){var a=this.getConstrainVector(a),
b;if(a){b=this.getPosition(!!this.floatParent);b[0]=b[0]+a[0];b[1]=b[1]+a[1];this.setPosition(b)}},getConstrainVector:function(a){if(this.constrain||this.constrainHeader){a=a||this.floatParent&&this.floatParent.getTargetEl()||this.container||this.el.getScopeParent();return(this.constrainHeader?this.header.el:this.el).getConstrainVector(a)}},alignTo:function(a,b,c){this.setPagePosition(this.el.getAlignToXY(a.el||a,b,c));return this},toFront:function(a){this.zIndexParent&&this.bringParentToFront!==
false&&this.zIndexParent.toFront(true);Ext.isDefined(a)||(a=!this.focusOnToFront);if(a)this.preventFocusOnActivate=true;this.zIndexManager.bringToFront(this)&&(a||this.focus(false,true));delete this.preventFocusOnActivate;return this},setActive:function(a,b){if(a){this.el.shadow&&!this.maximized&&this.el.enableShadow(true);this.modal&&!this.preventFocusOnActivate&&this.focus(false,true);this.fireEvent("activate",this)}else{this.isWindow&&(b&&b.isWindow)&&this.el.disableShadow();this.fireEvent("deactivate",
this)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var a;if(this.isVisible()){a=this.el.getAlignToXY(this.container,"c-c");this.setPagePosition(a)}else this.needsCenter=true;return this},onFloatShow:function(){this.needsCenter&&this.center();delete this.needsCenter},syncShadow:function(){this.floating&&this.el.sync(true)},fitContainer:function(){var a=this.floatParent,b=a?a.getTargetEl():this.container;this.setSize(b.getViewSize(false));this.setPosition.apply(this,
a?[0,0]:b.getXY())}});
Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:"Ext.AbstractComponent",requires:["Ext.util.DelayedTask"],uses:["Ext.Layer","Ext.resizer.Resizer","Ext.util.ComponentDragger"],mixins:{floating:"Ext.util.Floating"},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:!1,toFrontOnShow:!0,hideMode:"display",bubbleEvents:[],monPropRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,
defaultComponentLayoutType:"autocomponent",constructor:function(a){a=a||{};if(a.initialConfig){if(a.isAction)this.baseAction=a;a=a.initialConfig}else if(a.tagName||a.dom||Ext.isString(a))a={applyTo:a,id:a.id||a};this.callParent([a]);this.baseAction&&this.baseAction.addComponent(this)},initComponent:function(){this.callParent();if(this.listeners){this.on(this.listeners);this.listeners=null}this.enableBubble(this.bubbleEvents);this.mons=[]},afterRender:function(){this.callParent();(!this.x||!this.y)&&
(this.pageX||this.pageY)&&this.setPagePosition(this.pageX,this.pageY)},setAutoScroll:function(a){this.autoScroll=!!a;this.rendered&&this.getTargetEl().setStyle(this.getOverflowStyle());this.updateLayout();return this},setOverflowXY:function(a,b){var c=arguments.length;if(c){this.overflowX=a||"";if(c>1)this.overflowY=b||""}this.rendered&&this.getTargetEl().setStyle(this.getOverflowStyle());this.updateLayout();return this},beforeRender:function(){var a=this.floating;if(a){this.addCls(Ext.baseCSSPrefix+
"layer");(a=a.cls)&&this.addCls(a)}return this.callParent()},afterComponentLayout:function(){this.callParent(arguments);if(this.floating)this.onAfterFloatLayout()},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},wrapPrimaryEl:function(a){this.floating?this.makeFloating(a):this.callParent(arguments)},initResizable:function(a){a=Ext.apply({target:this,dynamic:false,constrainTo:this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():null),handles:this.resizeHandles},
a);a.target=this;this.resizer=new Ext.resizer.Resizer(a)},getDragEl:function(){return this.el},initDraggable:function(){var a=this.resizer&&this.resizer.el!==this.el?this.resizerComponent=new Ext.Component({el:this.resizer.el,rendered:true,container:this.container}):this,b=Ext.applyIf({el:a.getDragEl(),constrainTo:this.constrain?this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():this.el.getScopeParent()):void 0},this.draggable);if(this.constrain||this.constrainDelegate){b.constrain=
this.constrain;b.constrainDelegate=this.constrainDelegate}this.dd=new Ext.util.ComponentDragger(a,b)},scrollBy:function(a,b,c){var d;(d=this.getTargetEl())&&d.dom&&d.scrollBy.apply(d,arguments)},setLoading:function(a,b){var c;if(this.rendered){Ext.destroy(this.loadMask);this.loadMask=null;if(a!==false&&!this.collapsed){c=Ext.isObject(a)?Ext.apply({},a):Ext.isString(a)?{msg:a}:{};b&&Ext.applyIf(c,{useTargetEl:true});this.loadMask=new Ext.LoadMask(this,c);this.loadMask.show()}}return this.loadMask},
beforeSetPosition:function(){var a=this.callParent(arguments),b;if(a){b=this.adjustPosition(a.x,a.y);a.x=b.x;a.y=b.y}return a||null},afterSetPosition:function(a,b){this.onPosition(a,b);this.fireEvent("move",this,a,b)},showAt:function(a,b,c){if(!this.rendered&&(this.autoRender||this.floating)){this.doAutoRender();this.hidden=true}this.floating?this.setPosition(a,b,c):this.setPagePosition(a,b,c);this.show()},setPagePosition:function(a,b,c){var d;if(Ext.isArray(a)){b=a[1];a=a[0]}this.pageX=a;this.pageY=
b;if(this.floating){if(this.isContainedFloater()){d=this.floatParent.getTargetEl().getViewRegion();Ext.isNumber(a)&&Ext.isNumber(d.left)&&(a=a-d.left);Ext.isNumber(b)&&Ext.isNumber(d.top)&&(b=b-d.top)}else{b=this.el.translatePoints(a,b);a=b.left;b=b.top}this.setPosition(a,b,c)}else{b=this.el.translatePoints(a,b);this.setPosition(b.left,b.top,c)}return this},isContainedFloater:function(){return this.floating&&this.floatParent},getBox:function(a){var a=a?this.getPosition(a):this.el.getXY(),b=this.getSize();
b.x=a[0];b.y=a[1];return b},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},getOuterSize:function(){var a=this.el;return{width:a.getWidth()+a.getMargin("lr"),height:a.getHeight()+a.getMargin("tb")}},adjustPosition:function(a,b){var c;if(this.isContainedFloater()){c=this.floatParent.getTargetEl().getViewRegion();a=a+c.left;b=b+c.top}return{x:a,y:b}},getPosition:function(a){var b=this.el,c=this.isContainedFloater();if(a===true&&!c)return[b.getLocalX(),
b.getLocalY()];b=this.el.getXY();if(a===true&&c){a=this.floatParent.getTargetEl().getViewRegion();b[0]=b[0]-a.left;b[1]=b[1]-a.top}return b},getId:function(){var a;if(!this.id){a=(a=this.getXType())?a.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp";this.id=a+"-"+this.getAutoId()}return this.id},show:function(a,b,c){var d=this.rendered;if(d&&this.isVisible())this.toFrontOnShow&&this.floating&&this.toFront();else if(this.fireEvent("beforeshow",this)!==false){this.hidden=
false;if(!d&&(this.autoRender||this.floating)){this.doAutoRender();d=this.rendered}if(d){this.beforeShow();this.onShow.apply(this,arguments);this.afterShow.apply(this,arguments)}}else this.onShowVeto();return this},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){this.el.show();this.callParent(arguments);this.floating&&(this.maximized?this.fitContainer():this.constrain&&this.doConstrain())},afterShow:function(a,b,c){var d=this,e,g,a=a||d.animateTarget;d.ghost||(a=null);if(a){a=a.el?
a.el:Ext.get(a);e=d.el.getBox();a=a.getBox();d.el.addCls(Ext.baseCSSPrefix+"hide-offsets");g=d.ghost();g.el.stopAnimation();g.el.setX(-1E4);g.el.animate({from:a,to:e,listeners:{afteranimate:function(){delete g.componentLayout.lastComponentSize;d.unghost();d.el.removeCls(Ext.baseCSSPrefix+"hide-offsets");d.onShowComplete(b,c)}}})}else d.onShowComplete(b,c)},onShowComplete:function(a,b){if(this.floating){this.toFront();this.onFloatShow()}Ext.callback(a,b||this);this.fireEvent("show",this);delete this.hiddenByLayout},
hide:function(){this.showOnParentShow=false;if((!this.rendered||this.isVisible())&&this.fireEvent("beforehide",this)!==false){this.hidden=true;this.rendered&&this.onHide.apply(this,arguments)}return this},onHide:function(a,b,c){var d=this,e,g,a=a||d.animateTarget;d.ghost||(a=null);if(a){a=a.el?a.el:Ext.get(a);e=d.ghost();e.el.stopAnimation();g=a.getBox();g.width=g.width+"px";g.height=g.height+"px";e.el.animate({to:g,listeners:{afteranimate:function(){delete e.componentLayout.lastComponentSize;e.el.hide();
d.afterHide(b,c)}}})}d.el.hide();a||d.afterHide(b,c)},afterHide:function(a,b){delete this.hiddenByLayout;Ext.AbstractComponent.prototype.onHide.call(this);Ext.callback(a,b||this);this.fireEvent("hide",this)},onDestroy:function(){this.rendered&&Ext.destroy(this.proxy,this.proxyWrap,this.resizer,this.resizerComponent);delete this.focusTask;this.callParent()},deleteMembers:function(){for(var a=arguments,b=a.length,c=0;c<b;++c)delete this[a[c]]},focus:function(a,b){var c,d,e;if(b){if(!this.focusTask)this.focusTask=
new Ext.util.DelayedTask(this.focus);this.focusTask.delay(Ext.isNumber(b)?b:10,null,this,[a,false]);return this}if(this.rendered&&!this.isDestroyed&&this.isVisible(true)&&(c=this.getFocusEl())){if(c.isComponent)return c.focus(a,b);if(d=c.dom){if(c.needsTabIndex())d.tabIndex=-1;if(this.floating)e=this.container.dom.scrollTop;c.focus();a===true&&d.select()}if(this.floating){this.toFront(true);if(e!==void 0)this.container.dom.scrollTop=e}}return this},cancelFocus:function(){var a=this.focusTask;a&&a.cancel()},
blur:function(){var a;this.rendered&&(a=this.getFocusEl())&&a.blur();return this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},onResize:Ext.emptyFn,getBubbleTarget:function(){return this.ownerCt||this.floatParent},getContentTarget:function(){return this.el},cloneConfig:function(a){var a=a||{},b=a.id||Ext.id(),a=Ext.applyIf(a,this.initialConfig);a.id=
b;return new (Ext.getClass(this))(a)},getXType:function(){return this.self.xtype},findParentBy:function(a){var b;for(b=this.getBubbleTarget();b&&!a(b,this);b=b.getBubbleTarget());return b||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.up(a)},bubble:function(a,b,c){for(var d=this;d;){if(a.apply(b||d,c||[d])===false)break;d=d.getBubbleTarget()}return this},getProxy:function(){var a;if(!this.proxy){a=Ext.getBody();if(Ext.scopeResetCSS)this.proxyWrap=
a=Ext.getBody().createChild({cls:Ext.resetCls});this.proxy=this.el.createProxy(Ext.baseCSSPrefix+"proxy-el",a,true)}return this.proxy}});
Ext.define("Ext.Template",{requires:["Ext.dom.Helper","Ext.util.Format"],inheritableStatics:{from:function(a,b){a=Ext.getDom(a);return new this(a.value||a.innerHTML,b||"")}},constructor:function(a){var b=arguments,c=[],d=0,e=b.length,g;this.initialConfig={};if(e===1&&Ext.isArray(a)){b=a;e=b.length}if(e>1)for(;d<e;d++){g=b[d];if(typeof g=="object"){Ext.apply(this.initialConfig,g);Ext.apply(this,g)}else c.push(g)}else c.push(a);this.html=c.join("");this.compiled&&this.compile()},isTemplate:!0,disableFormats:!1,
re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(a){var b=this.disableFormats!==true,c=Ext.util.Format,d=this;return this.compiled?this.compiled(a).join(""):this.html.replace(this.re,function(e,g,h,i){if(h&&b){i=i?[a[g]].concat(Ext.functionFactory("return ["+i+"];")()):[a[g]];return h.substr(0,5)=="this."?d[h.substr(5)].apply(d,i):c[h].apply(c,i)}return a[g]!==void 0?a[g]:""})},applyOut:function(a,b){this.compiled?b.push.apply(b,this.compiled(a)):b.push(this.apply(a));return b},applyTemplate:function(){return this.apply.apply(this,
arguments)},set:function(a,b){this.html=a;this.compiled=null;return b?this.compile():this},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var a=this.disableFormats!==true,b;b=this.html.replace(this.compileARe,"\\\\").replace(this.compileBRe,"\\n").replace(this.compileCRe,"\\'").replace(this.re,function(b,d,e,g){if(e&&a){g=g?","+g:"";e=e.substr(0,5)!="this."?"fm."+e+"(":"this."+e.substr(5)+"("}else{g="";e="(values['"+d+"'] == undefined ? '' : "}return"',"+e+"values['"+
d+"']"+g+") ,'"});eval("this.compiled = function(values){ return ['"+b+"'];};");return this},insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){a=Ext.DomHelper.insertHtml(a,Ext.getDom(b),this.apply(c));return d?Ext.get(a):a},overwrite:function(a,b,c){a=
Ext.DomHelper.overwrite(Ext.getDom(a),this.apply(b));return c?Ext.get(a):a}});
Ext.define("Ext.XTemplateParser",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(a){var b=a.length,c={elseif:"elif"},d=this.topRe,e=this.actionsRe,g,h,i,j,k,l,m;this.level=0;this.stack=h=[];for(g=0;g<b;g=m){d.lastIndex=g;j=d.exec(a);if(!j){this.doText(a.substring(g,b));break}i=j.index;m=d.lastIndex;g<i&&this.doText(a.substring(g,i));if(j[1]){m=a.indexOf("%}",i+2);this.doEval(a.substring(i+2,m));m=m+2}else if(j[2]){m=a.indexOf("]}",i+2);this.doExpr(a.substring(i+2,m));
m=m+2}else if(j[3])this.doTag(j[3]);else if(j[4]){for(g=null;(k=e.exec(j[4]))!==null;)if(i=k[2]||k[3]){i=Ext.String.htmlDecode(i);k=k[1];k=c[k]||k;g=g||{};l=g[k];typeof l=="string"?g[k]=[l,i]:l?g[k].push(i):g[k]=i}if(g)if(g["if"]){this.doIf(g["if"],g);h.push({type:"if"})}else if(g["switch"]){this.doSwitch(g["switch"],g);h.push({type:"switch"})}else if(g["case"])this.doCase(g["case"],g);else if(g.elif)this.doElseIf(g.elif,g);else if(g["for"]){++this.level;if(j=this.propRe.exec(j[4]))g.propName=j[1]||
j[2];this.doFor(g["for"],g);h.push({type:"for",actions:g})}else{if(g.exec){this.doExec(g.exec,g);h.push({type:"exec",actions:g})}}else if(this.elseRe.test(j[4]))this.doElse();else if(this.defaultRe.test(j[4]))this.doDefault();else{this.doTpl();h.push({type:"tpl"})}}else if(j[0].length===5)h.push({type:"tpl"});else{j=h.pop();this.doEnd(j.type,j.actions);j.type=="for"&&--this.level}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]*)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|exec|switch|case|eval)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,
propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/});
Ext.define("Ext.XTemplateCompiler",{extend:"Ext.XTemplateParser",useEval:Ext.isGecko,useIndex:Ext.isIE6||Ext.isIE7,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(a){a=this.generate(a);return this.useEval?this.evalTpl(a):(new Function("Ext",a))(Ext)},generate:function(a){this.maxLevel=0;this.body=["var c0=values, a0="+this.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, v;\n"];this.definitions?typeof this.definitions==="string"?this.definitions=[this.definitions,"var fm=Ext.util.Format,ts=Object.prototype.toString;"]:
this.definitions.push("var fm=Ext.util.Format,ts=Object.prototype.toString;"):this.definitions=["var fm=Ext.util.Format,ts=Object.prototype.toString;"];this.switches=[];this.parse(a);this.definitions.push((this.useEval?"$=":"return")+" function ("+this.fnArgs+") {",this.body.join(""),"}");a=this.definitions.join("\n");this.definitions.length=this.body.length=this.switches.length=0;delete this.definitions;delete this.body;delete this.switches;return a},doText:function(a){var b=this.body,a=a.replace(this.aposRe,
"\\'").replace(this.newLineRe,"\\n");this.useIndex?b.push("out[out.length]='",a,"'\n"):b.push("out.push('",a,"')\n")},doExpr:function(a){var b=this.body;b.push("if ((v="+a+")!==undefined) out");this.useIndex?b.push("[out.length]=v+''\n"):b.push(".push(v+'')\n")},doTag:function(a){this.doExpr(this.parseTag(a))},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(a,b){a==="."?this.body.push("if (values) {\n"):this.propNameRe.test(a)?this.body.push("if (",
this.parseTag(a),") {\n"):this.body.push("if (",this.addFn(a),this.callFn,") {\n");b.exec&&this.doExec(b.exec)},doElseIf:function(a,b){a==="."?this.body.push("else if (values) {\n"):this.propNameRe.test(a)?this.body.push("} else if (",this.parseTag(a),") {\n"):this.body.push("} else if (",this.addFn(a),this.callFn,") {\n");b.exec&&this.doExec(b.exec)},doSwitch:function(a){a==="."?this.body.push("switch (values) {\n"):this.propNameRe.test(a)?this.body.push("switch (",this.parseTag(a),") {\n"):this.body.push("switch (",
this.addFn(a),this.callFn,") {\n");this.switches.push(0)},doCase:function(a){var a=Ext.isArray(a)?a:[a],b=this.switches.length-1,c,d;this.switches[b]?this.body.push("break;\n"):this.switches[b]++;d=0;for(b=a.length;d<b;++d){c=this.intRe.exec(a[d]);a[d]=c?c[1]:"'"+a[d].replace(this.aposRe,"\\'")+"'"}this.body.push("case ",a.join(": case "),":\n")},doDefault:function(){var a=this.switches.length-1;this.switches[a]?this.body.push("break;\n"):this.switches[a]++;this.body.push("default:\n")},doEnd:function(a,
b){var c=this.level-1;if(a=="for"){b.exec&&this.doExec(b.exec);this.body.push("}\n");this.body.push("parent=p",c,";values=r",c+1,";xcount=n",c,";xindex=i",c,"\n")}else(a=="if"||a=="switch")&&this.body.push("}\n")},doFor:function(a,b){var c,d=this.level,e=d-1;c=a==="."?"values":this.propNameRe.test(a)?this.parseTag(a):this.addFn(a)+this.callFn;if(this.maxLevel<d){this.maxLevel=d;this.body.push("var ")}this.body.push("i",d,"=0,n",d,"=0,c",d,"=",c,",a",d,"=",this.createArrayTest(d),",p",d,"=c",e,",r",
d,"=values;\n","parent=",a=="."?"c"+d:"a"+e+"?c"+e+"[i"+e+"]:p"+d,"\n","if (c",d,"){if(a",d,"){n",d,"=c",d,".length;}else if (c",d,".isMixedCollection){c",d,"=c",d,".items;n",d,"=c",d,".length;}else if(c",d,".isStore){c",d,"=c",d,".data.items;n",d,"=c",d,".length;}else{c",d,"=[c",d,"];n",d,"=1;}}\n","for (xcount=n",d,";i",d,"<n"+d+";++i",d,"){\n","values=c",d,"[i",d,"]");b.propName&&this.body.push(".",b.propName);this.body.push("\n","xindex=i",d,"+1\n")},createArrayTest:"isArray"in Array?function(a){return"Array.isArray(c"+
a+")"}:function(a){return"ts.call(c"+a+')==="[object Array]"'},doExec:function(a){var b="f"+this.definitions.length;this.definitions.push("function "+b+"("+this.fnArgs+") {"," try { with(values) {","  "+a," }} catch(e) {",'Ext.log("XTemplate Error: " + e.message);',"}","}");this.body.push(b+this.callFn+"\n")},addFn:function(a){var b="f"+this.definitions.length;a==="."?this.definitions.push("function "+b+"("+this.fnArgs+") {"," return values","}"):a===".."?this.definitions.push("function "+b+"("+this.fnArgs+
") {"," return parent","}"):this.definitions.push("function "+b+"("+this.fnArgs+") {"," try { with(values) {","  return("+a+")"," }} catch(e) {",'Ext.log("XTemplate Error: " + e.message);',"}","}");return b},parseTag:function(a){var b=this.tagRe.exec(a),c=b[1],a=b[2],d=b[3],b=b[4];if(c=="."){if(!this.validTypes){this.definitions.push("var validTypes={string:1,number:1,boolean:1};");this.validTypes=true}c='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else c=c=="#"?
"xindex":c.substr(0,7)=="parent."?c:isNaN(c)&&c.indexOf("-")==-1&&c.indexOf(".")!=-1?"values."+c:"values['"+c+"']";b&&(c="("+c+b+")");if(a&&this.useFormat){d=d?","+d:"";a=a.substr(0,5)!="this."?"fm."+a+"(":a+"("}else return c;return a+c+d+")"},evalTpl:function(a){eval(a);return a},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?/},function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount";
a.callFn=".call(this,"+a.fnArgs+")"});
Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:"Ext.XTemplateCompiler",emptyObj:{},apply:function(a,b){return this.applyOut(a,[],b).join("")},applyOut:function(a,b,c){var d;if(!this.fn){d=new Ext.XTemplateCompiler({useFormat:this.disableFormats!==true,definitions:this.definitions});this.fn=d.compile(this.html)}try{this.fn.call(this,b,a,c||this.emptyObj,1,1)}catch(e){Ext.log("Error: "+e.message)}return b},compile:function(){return this},statics:{getTpl:function(a,b){var c=a[b],d;if(c&&
!c.isTemplate){c=Ext.ClassManager.dynInstantiate("Ext.XTemplate",c);if(a.hasOwnProperty(b))a[b]=c;else for(d=a.self.prototype;d;d=d.superclass)if(d.hasOwnProperty(b)){d[b]=c;break}}return c||null}}});
Ext.define("Ext.layout.Layout",{requires:["Ext.XTemplate"],uses:["Ext.layout.Context"],isLayout:!0,initialized:!1,running:!1,autoSizePolicy:{setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(a,b){var c=Ext.ClassManager,d=this.layoutsByType,e,g,h,i,j;if(!a||typeof a==="string"){i=a||b;h={}}else{if(a.isLayout)return a;h=a;i=a.type||b}if(!(g=d[i])){e="layout."+i;(g=c.getNameByAlias(e))||(j=true);g=c.get(g);if(j||!g)return c.instantiateByAlias(e,h||{});d[i]=g}return new g(h)}},constructor:function(a){this.id=
Ext.id(null,this.type+"-");Ext.apply(this,a);this.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(a){var b=this.context,c;if(this.lastWidthModel!=a.widthModel){this.lastWidthModel&&(c=true);this.lastWidthModel=a.widthModel}if(this.lastHeightModel!=a.heightModel){this.lastWidthModel&&(c=true);this.lastHeightModel=a.heightModel}if(c){(b=a.context).clearTriggers(this,false);b.clearTriggers(this,true);this.triggerCount=0}},finishedLayout:function(){this.ownerContext=null},redoLayout:Ext.emptyFn,
undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(){return this.autoSizePolicy},isItemBoxParent:function(){return false},isItemLayoutRoot:function(a){var b=a.getSizeModel(),c=b.width,b=b.height;return!a.componentLayout.lastComponentSize&&(c.calculated||b.calculated)?false:!c.shrinkWrap&&!b.shrinkWrap},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(a,b){var c=a.length,
d,e,g,h;if(c){h=[];for(d=0;d<c;++d){e=a[d];if(!e.rendered){if(b&&b[e.id]!==void 0)g=b[e.id];else{this.configureItem(e);g=e.getRenderTree();b&&(b[e.id]=g)}g&&h.push(g)}}}return h},finishRender:Ext.emptyFn,finishRenderItems:function(a,b){var c=b.length,d,e;for(d=0;d<c;d++){e=b[d];if(e.rendering){e.finishRender(d);this.afterRenderItem(e)}}},renderChildren:function(){var a=this.getLayoutItems(),b=this.getRenderTarget();this.renderItems(a,b)},renderItems:function(a,b){var c=a.length,d=0,e;if(c){for(Ext.suspendLayouts();d<
c;d++)(e=a[d])&&!e.rendered?this.renderItem(e,b,d):this.isValidParent(e,b,d)?this.configureItem(e):this.moveItem(e,b,d);Ext.resumeLayouts(true)}},isValidParent:function(a,b,c){a=a.el?a.el.dom:Ext.getDom(a);b=b&&b.dom||b;if(a.parentNode&&a.parentNode.className.indexOf(Ext.baseCSSPrefix+"resizable-wrap")!==-1)a=a.parentNode;return a&&b?typeof c=="number"?a===b.childNodes[c]:a.parentNode===b:false},configureItem:function(a){a.ownerLayout=this},renderItem:function(a,b,c){if(!a.rendered){this.configureItem(a);
a.render(b,c);this.afterRenderItem(a)}},moveItem:function(a,b,c){b=b.dom||b;typeof c=="number"&&(c=b.childNodes[c]);b.insertBefore(a.el.dom,c||null);a.container=Ext.get(b);this.configureItem(a)},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},afterRenderItem:Ext.emptyFn,onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(a){var b=a.el,
c=this.owner,d;if(a.rendered){d=[].concat(this.itemCls||[]);c.itemCls&&(d=Ext.Array.push(d,c.itemCls));d.length&&b.removeCls(d)}delete a.ownerLayout},destroy:function(){var a;if(this.targetCls)(a=this.getTarget())&&a.removeCls(this.targetCls);this.onDestroy()},sortWeightedItems:function(a,b){for(var c=0,d=a.length;c<d;++c)a[c].$i=c;Ext.Array.sort(a,function(a,c){var d=c.weight-a.weight;if(!d){d=a.$i-c.$i;a[b]&&(d=-d)}return d});for(c=0;c<d;++c)delete a[c].$i}},function(){var a={},b=[],c,d,e,g,h;this.prototype.sizeModels=
this.sizeModels=a;var i=function(c){var d=c.name;Ext.apply(Ext.apply(this,j),c);this[d]=true;i[d]=a[d]=this;this.fixed=!(this.auto=this.natural||this.shrinkWrap);this.ordinal=b.length;b.push(this)};Ext.layout.SizeModel=i;var j={calculated:false,configured:false,constrainedMax:false,constrainedMin:false,natural:false,shrinkWrap:false,calculatedFromConfigured:false,calculatedFromNatural:false,calculatedFromShrinkWrap:false,names:null};new i({name:"calculated"});new i({name:"configured",names:{width:"width",
height:"height"}});new i({name:"natural"});new i({name:"shrinkWrap"});new i({name:"calculatedFromConfigured",configured:true,names:{width:"width",height:"height"}});new i({name:"calculatedFromNatural",natural:true});new i({name:"calculatedFromShrinkWrap",shrinkWrap:true});new i({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",height:"maxHeight"}});new i({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}});c=0;for(e=b.length;c<
e;++c){h=b[c];h.pairsByHeightOrdinal=g=[];for(d=0;d<e;++d)g.push({width:h,height:b[d]})}});
Ext.define("Ext.layout.container.Container",{extend:"Ext.layout.Layout",alternateClassName:"Ext.layout.ContainerLayout",mixins:{elementCt:"Ext.util.ElementContainer"},requires:["Ext.XTemplate"],type:"container",manageOverflow:0,beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,reserveScrollbar:!1,lastOverflowAdjust:{width:0,height:0},
constructor:function(){this.callParent(arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent();this.mixins.elementCt.destroy.call(this)},initLayout:function(){var a=Ext.getScrollbarSize().width;this.callParent();if(a&&(this.manageOverflow&&!this.hasOwnProperty("lastOverflowAdjust"))&&(this.owner.autoScroll||this.reserveScrollbar))this.lastOverflowAdjust={width:a,height:0}},beginLayout:function(a){this.callParent(arguments);a.targetContext=a.getEl("getTarget",
this);this.cacheChildItems(a)},beginLayoutCycle:function(a,b){var c=this.overflowPadderEl;this.callParent(arguments);if(!a.state.overflowAdjust)a.state.overflowAdjust=this.lastOverflowAdjust;if(b){this.usesContainerHeight&&++a.consumersContainerHeight;this.usesContainerWidth&&++a.consumersContainerWidth}c&&c.setStyle("display","none")},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},cacheChildItems:function(a){var b=a.context,c=[],d=this.getVisibleItems(),e=d.length;a.childItems=
c;a.visibleItems=d;for(a=0;a<e;++a)c.push(b.getCmp(d[a]))},cacheElements:function(){var a=this.owner;this.applyChildEls(a.el,a.id)},calculateContentSize:function(a,b){var c=(b||0)|this.manageOverflow|(a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0),d=c&1||void 0,c=c&2||void 0,e=a.childItems,g=e.length,h=0,i=0,j=0,k=a.props,l,m,n,o,p,q,r,s;d&&(isNaN(k.contentWidth)?++j:d=void 0);c&&(isNaN(k.contentHeight)?++j:c=void 0);if(j){for(k=0;k<g;++k){q=e[k];p=q.target;j=c&&q.getProp("height");s=
d&&q.getProp("width");q=q.getMarginInfo();if(d&&isNaN(p.x)||c&&isNaN(p.y)){p=p.el.getXY();if(!l){l=a.targetContext.el.getXY();n=a.targetContext.getBorderInfo();m=l[0]+n.left;n=l[1]+n.top}r=p[0]-m;p=p[1]-n}else{r=p.x;p=p.y}j=j+q.bottom;s=s+q.right;h=Math.max(h,p+j);i=Math.max(i,r+s);if(isNaN(h)&&isNaN(i)){this.done=false;return}}if(d||c)o=a.targetContext.getPaddingInfo();if(d&&!a.setContentWidth(i+o.right))this.done=false;if(c&&!a.setContentHeight(h+o.bottom))this.done=false}},calculateOverflow:function(a,
b,c){var d=this.owner,e=a.state,g=e.overflowAdjust,h,i,j,k,l;if(this.manageOverflow&&!e.secondPass&&!this.reserveScrollbar){if(d.autoScroll)g=l=true;else{if(d.overflowX)g=d.overflowX=="auto";else g=(h=a.targetContext.getStyle("overflow-x"))&&h!="hidden"&&h!="scroll";if(d.overflowY)l=d.overflowY=="auto";else l=(h=a.targetContext.getStyle("overflow-y"))&&h!="hidden"&&h!="scroll"}b.gotWidth||(g=false);b.gotHeight||(l=false);if(g||l){h=Ext.getScrollbarSize();d=a.peek("contentWidth");i=a.peek("contentHeight");
j=b.width;k=b.height;d=this.getScrollbarsNeeded(j,k,d,i);e.overflowState=d;typeof c=="number"&&(d=d&~c);g={width:g&&d&2?h.width:0,height:l&&d&1?h.height:0};if(g.width!==this.lastOverflowAdjust.width||g.height!==this.lastOverflowAdjust.height){this.done=false;a.invalidate({state:{overflowAdjust:g,overflowState:e.overflowState,secondPass:true}})}}}if(this.done)if(c=a.padElContext||(a.padElContext=a.getEl("overflowPadderEl",this))){d=e.overflowState;b=b.width;e=0;if(d){a=a.targetContext.getPaddingInfo();
g=this.scrollRangeFlags;d&2&&g&1&&(e=e+a.bottom);d&1&&g&4&&(b=b+a.right);c.setProp("display","");c.setSize(b,e)}else c.setProp("display","none")}},configureItem:function(a){var b=this.owner.itemCls,c=[].concat(this.itemCls||[]);this.callParent(arguments);b&&(c=Ext.Array.push(c,b));a.addCls(c)},doRenderBody:function(a,b){this.renderItems(a,b);this.renderContent(a,b)},doRenderContainer:function(a,b){var c=b.$comp.layout,d=c.getRenderTpl(),c=c.getRenderData();d.applyOut(c,a)},doRenderItems:function(a,
b){var c=b.$layout.getRenderTree();c&&Ext.DomHelper.generateMarkup(c,a)},doRenderPadder:function(a,b){var c=b.$layout,d=c.owner,e=c.getScrollRangeFlags();if(c.manageOverflow==2&&e&5){a.push('<div id="',d.id,'-overflowPadderEl" ','style="font-size: 1px; width:1px; height: 1px;');a.push('"></div>');c.scrollRangeFlags=e}},finishRender:function(){var a,b;this.callParent();this.cacheElements();a=this.getRenderTarget();b=this.getLayoutItems();this.targetCls&&this.getTarget().addCls(this.targetCls);this.finishRenderItems(a,
b)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(a,b){var c=a.targetContext,d=c.getFrameInfo(),e=c.getPaddingInfo(),g=0,h=0,i=a.state.overflowAdjust,j,k,l,m;if(!a.widthModel.shrinkWrap){++h;l=b?c.getDomProp("width"):c.getProp("width");if(j=typeof l=="number"){++g;l=l-(d.width+e.width);i&&(l=l-i.width)}}if(!a.heightModel.shrinkWrap){++h;m=b?c.getDomProp("height"):c.getProp("height");if(k=typeof m=="number"){++g;m=m-(d.height+e.height);i&&(m=m-i.height)}}return{width:l,
height:m,needed:h,got:g,gotAll:g==h,gotWidth:j,gotHeight:k}},getLayoutItems:function(){var a=this.owner;return(a=a&&a.items)&&a.items||[]},getRenderData:function(){var a=this.owner;return{$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var a=this.getRenderTarget(),b=this.getLayoutItems(),c=b.length,d=[],e,g;for(e=0;e<c;e++){g=b[e];g.rendered&&this.isValidParent(g,a,e)&&d.push(g)}return d},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},
getRenderTpl:function(){var a=Ext.XTemplate.getTpl(this,"renderTpl");a.renderContent||this.owner.setupRenderTpl(a);return a},getRenderTree:function(){var a,b=this.owner.items,c,d={};do{c=b.generation;a=this.getItemsRenderTree(this.getLayoutItems(),d)}while(b.generation!==c);return a},getScrollbarsNeeded:function(a,b,c,d){var e=Ext.getScrollbarSize(),g=typeof a=="number",h=typeof b=="number",i=0,j=0;if(!e.width)return 0;if(h&&b<d){j=2;a=a-e.width}if(g&&a<c){i=1;if(!j&&h){b=b-e.height;b<d&&(j=2)}}return j+
i},getScrollRangeFlags:function(){var a=-1;return function(){if(a<0){var b=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"border-box",style:{width:"100px",height:"100px",padding:"10px",overflow:"auto"},children:[{style:{border:"1px solid red",width:"150px",height:"150px",margin:"0 5px 5px 0"}}]});a=({175:0,165:1,170:2,160:3}[b.dom.scrollHeight]||0)|({175:0,165:4,170:8,160:12}[b.dom.scrollWidth]||0);b.remove()}return a}}(),getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var a=
this.getRenderTarget(),b=this.getLayoutItems(),c=b.length,d=[],e,g;for(e=0;e<c;e++){g=b[e];g.rendered&&(this.isValidParent(g,a,e)&&g.hidden!==true)&&d.push(g)}return d},setupRenderTpl:function(a){a.renderBody=this.doRenderBody;a.renderContainer=this.doRenderContainer;a.renderItems=this.doRenderItems;a.renderPadder=this.doRenderPadder}});
Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:"Ext.layout.container.Container",type:"autocontainer",childEls:["clearEl"],renderTpl:["{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear" role="presentation"></div>'],calculate:function(a){var b;if(a.hasDomProp("containerChildrenDone")){b=this.getContainerSize(a);if(!b.gotAll)this.done=false;this.calculateContentSize(a)}else this.done=false}});
Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9E3},constructor:function(a){var b=this;b.list={};b.zIndexStack=[];b.front=null;if(a)if(a.isContainer){a.on("resize",b._onContainerResize,b);b.zseed=Ext.Number.from(b.rendered?a.getEl().getStyle("zIndex"):void 0,b.getNextZSeed());b.targetEl=a.getTargetEl();b.container=a}else{Ext.EventManager.onWindowResize(b._onContainerResize,b);b.zseed=b.getNextZSeed();b.targetEl=Ext.get(a)}else{Ext.EventManager.onWindowResize(b._onContainerResize,
b);b.zseed=b.getNextZSeed();Ext.onDocumentReady(function(){b.targetEl=Ext.getBody()})}},getNextZSeed:function(){return Ext.ZIndexManager.zBase=Ext.ZIndexManager.zBase+1E4},setBase:function(a){this.zseed=a;a=this.assignZIndices();this._activateLast();return a},assignZIndices:function(){for(var a=this.zIndexStack,b=a.length,c=0,d=this.zseed,e;c<b;c++)(e=a[c])&&!e.hidden&&(d=e.setZIndex(d));this._activateLast();return d},_setActiveChild:function(a,b){var c=this.front;if(a!==c){c&&!c.destroying&&c.setActive(false,
a);if((this.front=a)&&a!=b){a.setActive(true);a.modal&&this._showModalMask(a)}}},onComponentHide:function(a){a.setActive(false);this._activateLast()},_activateLast:function(){var a=this.zIndexStack,b=a.length-1,c=this.front,d;for(this.front=void 0;b>=0&&a[b].hidden;--b);if(d=a[b]){this._setActiveChild(d,c);if(d.modal)return}for(;b>=0;--b){d=a[b];if(d.isVisible()&&d.modal){this._showModalMask(d);return}}this._hideModalMask()},_showModalMask:function(a){var b=a.el.getStyle("zIndex")-4,a=a.floatParent?
a.floatParent.getTargetEl():a.container,c=a.getBox();if(a.dom===document.body){c.height=Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight());c.width=Math.max(document.body.scrollWidth,c.width)}if(!this.mask){this.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask"});this.mask.setVisibilityMode(Ext.Element.DISPLAY);this.mask.on("click",this._onMaskClick,this)}this.mask.maskTarget=a;a.addCls(Ext.baseCSSPrefix+"body-masked");this.mask.setStyle("zIndex",b);this.mask.show();
this.mask.setBox(c)},_hideModalMask:function(){var a=this.mask;if(a&&a.isVisible()){a.maskTarget.removeCls(Ext.baseCSSPrefix+"body-masked");a.maskTarget=void 0;a.hide()}},_onMaskClick:function(){this.front&&this.front.focus()},_onContainerResize:function(){var a=this.mask,b;if(a&&a.isVisible()){a.hide();b=a.maskTarget;b=b.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth)}:
b.getViewSize(true);a.setSize(b);a.show()}},register:function(a){a.zIndexManager&&a.zIndexManager.unregister(a);a.zIndexManager=this;this.list[a.id]=a;this.zIndexStack.push(a);a.on("hide",this.onComponentHide,this)},unregister:function(a){var b=this.list;delete a.zIndexManager;if(b&&b[a.id]){delete b[a.id];a.un("hide",this.onComponentHide);Ext.Array.remove(this.zIndexStack,a);this._activateLast()}},get:function(a){return a.isComponent?a:this.list[a]},bringToFront:function(a){var b=false,c=this.zIndexStack,
a=this.get(a);if(a!==this.front){Ext.Array.remove(c,a);a.preventBringToFront?c.unshift(a):c.push(a);this.assignZIndices();b=true;this.front=a}b&&a.modal&&this._showModalMask(a);return b},sendToBack:function(a){a=this.get(a);Ext.Array.remove(this.zIndexStack,a);this.zIndexStack.unshift(a);this.assignZIndices();this._activateLast();return a},hideAll:function(){var a=this.list,b,c;for(c in a)if(a.hasOwnProperty(c)){b=a[c];b.isComponent&&b.isVisible()&&b.hide()}},hide:function(){var a=this.mask,b=0,c=
this.zIndexStack,d=c.length,e;for(this.tempHidden=this.tempHidden||[];b<d;b++){e=c[b];if(e.isVisible()){this.tempHidden.push(e);e.el.hide()}}a&&a.hide()},show:function(){for(var a=this.mask,b=0,c=this.tempHidden,d=c?c.length:0,e;b<d;b++){e=c[b];e.el.show();e.setPosition(e.x,e.y)}this.tempHidden.length=0;if(a){a.show();a.alignTo(a.maskTarget,"tl-tl")}},getActive:function(){return this.front},getBy:function(a,b){for(var c=[],d=0,e=this.zIndexStack,g=e.length,h;d<g;d++){h=e[d];a.call(b||h,h)!==false&&
c.push(h)}return c},each:function(a,b){var c=this.list,d,e;for(d in c)if(c.hasOwnProperty(d)){e=c[d];if(e.isComponent&&a.call(b||e,e)===false)break}},eachBottomUp:function(a,b){for(var c=this.zIndexStack,d=0,e=c.length,g;d<e;d++){g=c[d];if(g.isComponent&&a.call(b||g,g)===false)break}},eachTopDown:function(a,b){for(var c=this.zIndexStack,d=c.length,e;d-- >0;){e=c[d];if(e.isComponent&&a.call(b||e,e)===false)break}},destroy:function(){var a=this.list,b,c;for(c in a)if(a.hasOwnProperty(c)){b=a[c];b.isComponent&&
b.destroy()}delete this.zIndexStack;delete this.list;delete this.container;delete this.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this});
Ext.define("Ext.container.AbstractContainer",{extend:"Ext.Component",requires:["Ext.util.MixedCollection","Ext.layout.container.Auto","Ext.ZIndexManager"],renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:!1,autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,isContainer:!0,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",bubbleEvents:["add","remove"],defaultLayoutType:"auto",initComponent:function(){this.addEvents("afterlayout","beforeadd","beforeremove","add","remove");this.callParent();
this.getLayout();this.initItems()},initItems:function(){var a=this.items;this.items=new Ext.util.AbstractMixedCollection(false,this.getComponentId);if(a){Ext.isArray(a)||(a=[a]);this.add(a)}},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var a=this.getLayout();a&&a.finishRender()},beforeRender:function(){var a=this.getLayout();this.callParent();a.initialized||a.initLayout()},setupRenderTpl:function(a){var b=this.getLayout();this.callParent(arguments);
b.setupRenderTpl(a)},setLayout:function(a){var b=this.layout;b&&(b.isLayout&&b!=a)&&b.setOwner(null);this.layout=a;a.setOwner(this)},getLayout:function(){if(!this.layout||!this.layout.isLayout)this.setLayout(Ext.layout.Layout.create(this.layout,this.self.prototype.layout||"autocontainer"));return this.layout},doLayout:function(){this.updateLayout();return this},afterLayout:function(a){++this.layoutCounter;this.hasListeners.afterlayout&&this.fireEvent("afterlayout",this,a)},prepareItems:function(a,
b){for(var a=Ext.isArray(a)?a.slice():[a],c=0,d=a.length,e;c<d;c++){e=a[c];if(e==null){Ext.Array.erase(a,c,1);--c;--d}else{b&&(e=this.applyDefaults(e));e.isContained=this;a[c]=this.lookupComponent(e);delete e.isContained}}return a},applyDefaults:function(a){var b=this.defaults;if(b){Ext.isFunction(b)&&(b=b.call(this,a));Ext.isString(a)&&(a=Ext.ComponentManager.get(a));Ext.applyIf(a,b)}return a},lookupComponent:function(a){return typeof a=="string"?Ext.ComponentManager.get(a):Ext.ComponentManager.create(a,
this.defaultType)},getComponentId:function(a){return a.getItemId()},add:function(){var a=Ext.Array.slice(arguments),b=typeof a[0]=="number"?a.shift():-1,c=this.getLayout(),d,e,g,h,i;if(a.length==1&&Ext.isArray(a[0])){a=a[0];d=true}i=a=this.prepareItems(a,true);e=a.length;this.rendered&&Ext.suspendLayouts();!d&&e==1&&(i=a[0]);for(d=0;d<e;d++){(g=a[d])||Ext.Error.raise("Cannot add null item to Container with itemId/id: "+this.getItemId());h=b<0?this.items.length:b+d;if(g.floating){this.floatingItems=
this.floatingItems||new Ext.util.MixedCollection;this.floatingItems.add(g);g.onAdded(this,h)}else if((!this.hasListeners.beforeadd||this.fireEvent("beforeadd",this,g,h)!==false)&&this.onBeforeAdd(g)!==false){this.items.insert(h,g);g.onAdded(this,h);this.onAdd(g,h);c.onAdd(g,h);this.hasListeners.add&&this.fireEvent("add",this,g,h)}}this.updateLayout();this.rendered&&Ext.resumeLayouts(true);return i},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(a,b){return this.add(a,b)},move:function(a,b){var c=
this.items,d;d=c.removeAt(a);if(d===false)return false;c.insert(b,d);this.doLayout();return d},onBeforeAdd:function(a){var b=a.border;a.ownerCt&&a.ownerCt!==this&&a.ownerCt.remove(a,false);if(this.border===false||this.border===0)a.border=Ext.isDefined(b)&&b!==false&&b!==0},remove:function(a,b){var c=this.getComponent(a);Ext.isDefined(Ext.global.console)&&!c&&Ext.global.console.warn("Attempted to remove a component that does not exist. Ext.container.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage.");
if(c&&(!this.hasListeners.beforeremove||this.fireEvent("beforeremove",this,c)!==false)){this.doRemove(c,b);this.hasListeners.remove&&this.fireEvent("remove",this,c);this.destroying||this.doLayout()}return c},doRemove:function(a,b){var c=this.layout,d=c&&this.rendered,e=b===true||b!==false&&this.autoDestroy;this.items.remove(a);if(d){c.running&&Ext.AbstractComponent.cancelLayout(a,e);c.onRemove(a,e)}a.onRemoved(e);this.onRemove(a,e);if(e)a.destroy();else{d&&c.afterRemove(a);this.detachOnRemove&&a.rendered&&
Ext.getDetachedBody().appendChild(a.getEl())}},removeAll:function(a){var b=this.items.items.slice(),c=[],d=0,e=b.length,g;for(this.suspendLayouts();d<e;d++){g=b[d];this.remove(g,a);g.ownerCt!==this&&c.push(g)}this.resumeLayouts(!!e);return c},getRefItems:function(a){for(var b=this.items.items,c=b.length,d=0,e,g=[];d<c;d++){e=b[d];g.push(e);a&&e.getRefItems&&g.push.apply(g,e.getRefItems(true))}this.floatingItems&&g.push.apply(g,this.floatingItems.items);return g},cascade:function(a,b,c){var d=this.items?
this.items.items:[],e=d.length,g=0,h,i=c?c.concat(this):[this],j=i.length-1;if(a.apply(b||this,i)!==false)for(;g<e;g++){h=d[g];if(h.cascade)h.cascade(a,b,c);else{i[j]=h;a.apply(b||d,i)}}return this},isAncestor:function(a){for(;a;){if(a.ownerCt===this)return true;a=a.ownerCt}},getComponent:function(a){Ext.isObject(a)&&(a=a.getItemId());return this.items.get(a)},query:function(a){return Ext.ComponentQuery.query(a||"*",this)},queryBy:function(a,b){for(var c=[],d=this.getRefItems(true),e=0,g=d.length,
h;e<g;++e){h=d[e];a.call(b||h,h)!==false&&c.push(h)}return c},queryById:function(a){return this.down("#"+a)},child:function(a){return this.query("> "+(a||""))[0]||null},nextChild:function(a,b){var c,d=this.items.indexOf(a);if(d!==-1){c=b?Ext.ComponentQuery(b,this.items.items.slice(d+1)):this.items.getAt(d+1);!c&&this.ownerCt&&(c=this.ownerCt.nextChild(this,b))}return c},prevChild:function(a,b){var c,d=this.items.indexOf(a);if(d!==-1){c=b?Ext.ComponentQuery(b,this.items.items.slice(d+1)):this.items.getAt(d+
1);!c&&this.ownerCt&&(c=this.ownerCt.nextChild(this,b))}return c},down:function(a){return this.query(a)[0]||null},enable:function(){this.callParent(arguments);var a=this.getChildItemsToDisable(),b=a.length,c,d;for(d=0;d<b;d++){c=a[d];c.resetDisable&&c.enable()}return this},disable:function(){this.callParent(arguments);var a=this.getChildItemsToDisable(),b=a.length,c,d;for(d=0;d<b;d++){c=a[d];if(c.resetDisable!==false&&!c.disabled){c.disable();c.resetDisable=true}}return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},
beforeLayout:function(){return true},beforeDestroy:function(){var a=this.items,b;if(a)for(;b=a.first();)this.doRemove(b,true);Ext.destroy(this.layout);this.callParent()}});
Ext.define("Ext.container.Container",{extend:"Ext.container.AbstractContainer",alias:"widget.container",alternateClassName:"Ext.Container",fireHierarchyEvent:function(a){this.hierarchyEventSource.fireEvent(a,this)},afterHide:function(){this.callParent(arguments);this.fireHierarchyEvent("hide")},afterShow:function(){this.callParent(arguments);this.fireHierarchyEvent("show")},onAdded:function(){this.callParent(arguments);this.hierarchyEventSource.hasListeners.added&&this.fireHierarchyEvent("added")},
getChildByElement:function(a,b){for(var c,d,e=0,g=this.getRefItems(),h=g.length,a=Ext.getDom(a);e<h;e++){c=g[e];if((d=c.getEl())&&(d.dom===a||d.contains(a)))return b&&c.getChildByElement?c.getChildByElement(a,b):c}return null}},function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:true,show:true,collapse:true,expand:true,added:true}})});
Ext.define("Ext.toolbar.Fill",{extend:"Ext.Component",alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",isFill:!0,flex:1});
Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(a,b){this.layout=a;Ext.apply(this,b)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,finishedLayout:Ext.emptyFn,completeLayout:function(a){var b=a.state.boxPlan;if(b&&b.tooNarrow)(b=this.handleOverflow(a))&&b.reservedSpace&&this.layout.publishInnerCtSize(a,b.reservedSpace);else this.clearOverflow()},onRemove:Ext.emptyFn,
getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(a){return a.isToolbar?"toolbar":a.isTabBar?"tabbar":a.isMenu?"menu":a.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}});Ext.define("Ext.toolbar.Item",{extend:"Ext.Component",alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});
Ext.define("Ext.toolbar.Separator",{extend:"Ext.toolbar.Item",alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:!1,border:!0});
Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(a){if(arguments.length!==1||typeof a==="string"||a.dom||a.tagName||a===document||a.isComponent)this.legacyConstructor.apply(this,arguments);else{Ext.apply(this,a);this.bindings=[];if(!this.target.isComponent)this.target=Ext.get(this.target);this.binding?this.addBinding(this.binding):a.key&&this.addBinding(a);this.enable()}},legacyConstructor:function(a,b,c){Ext.apply(this,{target:Ext.get(a),eventName:c||
this.eventName,bindings:[]});b&&this.addBinding(b);this.enable()},addBinding:function(a){var b=a.key,c=false,d,e;if(Ext.isArray(a)){c=0;for(e=a.length;c<e;c++)this.addBinding(a[c])}else{if(Ext.isString(b)){d=[];b=b.toUpperCase();c=0;for(e=b.length;c<e;++c)d.push(b.charCodeAt(c));b=d;c=true}Ext.isArray(b)||(b=[b]);if(!c){c=0;for(e=b.length;c<e;++c){d=b[c];Ext.isString(d)&&(b[c]=d.toUpperCase().charCodeAt(0))}}this.bindings.push(Ext.apply({keyCode:b},a))}},handleTargetEvent:function(){var a=/input|textarea/i;
return function(b){var c,d,e,g,h;if(this.enabled){c=this.bindings;d=0;e=c.length;b=this.processEvent.apply(this||this.processEventScope,arguments);if(this.ignoreInputFields){g=b.target;h=g.contentEditable;if(a.test(g.tagName)||h===""||h==="true")return}if(!b.getKey)return b;for(;d<e;++d)this.processBinding(c[d],b)}}}(),processEvent:function(a){return a},processBinding:function(a,b){if(this.checkModifiers(a,b)){var c=b.getKey(),d=a.fn||a.handler,e=a.scope||this,g=a.keyCode,h=a.defaultEventAction,i,
j,k=new Ext.EventObjectImpl(b);i=0;for(j=g.length;i<j;++i)if(c===g[i]){if(d.call(e,c,b)!==true&&h)k[h]();break}}},checkModifiers:function(a,b){for(var c=["shift","ctrl","alt"],d=0,e=c.length,g,h;d<e;++d){h=c[d];g=a[h];if(!(g===void 0||g===b[h+"Key"]))return false}return true},on:function(a,b,c){var d,e,g,h;if(Ext.isObject(a)&&!Ext.isArray(a)){d=a.key;e=a.shift;g=a.ctrl;h=a.alt}else d=a;this.addBinding({key:d,shift:e,ctrl:g,alt:h,fn:b,scope:c})},isEnabled:function(){return this.enabled},enable:function(){if(!this.enabled){this.target.on(this.eventName,
this.handleTargetEvent,this);this.enabled=true}},disable:function(){if(this.enabled){this.target.removeListener(this.eventName,this.handleTargetEvent,this);this.enabled=false}},setDisabled:function(a){a?this.disable():this.enable()},destroy:function(a){var b=this.target;this.bindings=[];this.disable();a===true&&(b.isComponent?b.destroy():b.remove());delete this.target}});
Ext.define("Ext.menu.Manager",{singleton:!0,requires:["Ext.util.MixedCollection","Ext.util.KeyMap"],alternateClassName:"Ext.menu.MenuMgr",uses:["Ext.menu.Menu"],menus:{},groups:{},attached:!1,lastShow:new Date,init:function(){var a=this;a.active=new Ext.util.MixedCollection;Ext.getDoc().addKeyListener(27,function(){a.active.length>0&&a.hideAll()},a)},hideAll:function(){var a=this.active,b,c;if(a&&a.length>0){a=a.clone();a=a.items;c=a.length;for(b=0;b<c;b++)a[b].hide();return true}return false},onHide:function(a){var b=
this.active;b.remove(a);if(b.length<1){Ext.getDoc().un("mousedown",this.onMouseDown,this);this.attached=false}},onShow:function(a){var b=this.active;b.last();var c=this.attached;a.getEl();this.lastShow=new Date;b.add(a);if(!c){Ext.getDoc().on("mousedown",this.onMouseDown,this,{buffer:Ext.isIE?10:void 0});this.attached=true}a.toFront()},onBeforeHide:function(a){a.activeChild&&a.activeChild.hide();if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}},onBeforeShow:function(a){var b=
a.parentMenu;this.active.remove(a);!b&&!a.allowOtherMenus?this.hideAll():b&&(b.activeChild&&a!=b.activeChild)&&b.activeChild.hide()},onMouseDown:function(a){var b=this.active;Ext.Date.getElapsed(this.lastShow)>50&&(b.length>0&&!a.getTarget("."+Ext.baseCSSPrefix+"menu"))&&this.hideAll()},register:function(a){this.active||this.init();if(a.floating){this.menus[a.id]=a;a.on({beforehide:this.onBeforeHide,hide:this.onHide,beforeshow:this.onBeforeShow,show:this.onShow,scope:this})}},get:function(a){var b=
this.menus;return typeof a=="string"?!b?null:b[a]:a.isMenu?a:Ext.isArray(a)?new Ext.menu.Menu({items:a}):Ext.ComponentManager.create(a,"menu")},unregister:function(a){var b=this.active;delete this.menus[a.id];b.remove(a);a.un({beforehide:this.onBeforeHide,hide:this.onHide,beforeshow:this.onBeforeShow,show:this.onShow,scope:this})},registerCheckable:function(a){var b=this.groups,c=a.group;if(c){b[c]||(b[c]=[]);b[c].push(a)}},unregisterCheckable:function(a){var b=this.groups,c=a.group;c&&Ext.Array.remove(b[c],
a)},onCheckChange:function(a,b){var c=this.groups,d=a.group,e=0,g;if(d&&b){c=c[d];for(d=c.length;e<d;e++){g=c[e];g!=a&&g.setChecked(false)}}}});
Ext.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(a,b){this.el=Ext.get(a);this.el.unselectable();Ext.apply(this,b);this.callParent();this.addEvents("mousedown","click","mouseup");if(!this.disabled){this.disabled=true;this.enable()}if(this.handler)this.on("click",this.handler,this.scope||this)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE&&(!Ext.isStrict||
!Ext.isIE9))this.el.on("dblclick",this.handleDblClick,this);if(this.preventDefault||this.stopDefault)this.el.on("click",this.eventOptions,this)}this.disabled=false},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);this.pressedCls&&this.el.removeCls(this.pressedCls);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){this.preventDefault&&a.preventDefault();
this.stopDefault&&a.stopEvent()},destroy:function(){this.disable(true);Ext.destroy(this.el);this.clearListeners()},handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();this.pressedCls&&this.el.addCls(this.pressedCls);this.mousedownTime=new Date;Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",
this,a);this.fireEvent("click",this,a);if(this.accelerate)this.delay=400;a=new Ext.EventObjectImpl(a);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12E3):this.interval,this,[a])},easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer);this.pressedCls&&
this.el.removeCls(this.pressedCls);this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);this.pressedCls&&this.el.addCls(this.pressedCls);this.click()},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.pressedCls&&this.el.removeCls(this.pressedCls);this.fireEvent("mouseup",
this,a)}});
Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,beginLayoutCycle:function(a,b){var c=this.owner,d=a.ownerCtContext,e=a.heightModel,g=a.widthModel,h=c.el.dom===document.body,i=c.lastBox||this.nullBox,j=c.el.lastBox||this.nullBox,k=!h;this.callParent(arguments);if(b){this.usesContentWidth&&++a.consumersContentWidth;this.usesContentHeight&&++a.consumersContentHeight;this.usesWidth&&
++a.consumersWidth;this.usesHeight&&++a.consumersHeight;if(d&&!d.hasRawContent){d=c.ownerLayout;d.usesWidth&&++a.consumersWidth;d.usesHeight&&++a.consumersHeight}}if(g.configured){d=g.names.width;h||(k=b?c[d]!==j.width:g.constrained);a.setWidth(c[d],k)}else if(a.isTopLevel){if(g.calculated){g=i.width;a.setWidth(g,g!=j.width)}g=i.x;a.setProp("x",g,g!=j.x)}if(e.configured){i=e.names.height;h||(k=b?c[i]!==j.height:e.constrained);a.setHeight(c[i],k)}else if(a.isTopLevel){if(e.calculated){g=i.height;a.setHeight(g,
g!=j.height)}g=i.y;a.setProp("y",g,g!=j.y)}},finishedLayout:function(a){var b=a.children,c=this.owner,d,e,g;if(b){d=b.length;for(e=0;e<d;e++){g=b[e];g.el.lastBox=g.props}}a.previousSize=this.lastComponentSize;this.lastComponentSize=c.el.lastBox=b=a.props;c.lastBox=c={};d=b.x;if(d!==void 0)c.x=d;d=b.y;if(d!==void 0)c.y=d;d=b.width;if(d!==void 0)c.width=d;d=b.height;if(d!==void 0)c.height=d;this.callParent(arguments)},notifyOwner:function(a){var b=this.lastComponentSize,a=a.previousSize,b=[b.width,
b.height];a&&b.push(a.width,a.height);this.owner.afterComponentLayout.apply(this.owner,b)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(a){var b=this.targetInfo;if(!b){a=a.getEl("getTarget",this);this.targetInfo=b={padding:a.getPaddingInfo(),border:a.getBorderInfo()}}return b},measureAutoDimensions:function(a,b){var c=this.owner,d=c.layout,e=a.heightModel,g=a.widthModel,h=a.boxParent,i=a.isBoxParent,j=a.props,k,l={gotWidth:false,
gotHeight:false,isContainer:k=!a.hasRawContent},m=b||3,n,o=0,p=0,q;if(g.shrinkWrap&&a.consumersContentWidth){++o;n=!(m&1);if(k)if(n){l.contentWidth=0;l.gotWidth=true;++p}else{if((l.contentWidth=a.getProp("contentWidth"))!==void 0){l.gotWidth=true;++p}}else{q=j.contentWidth;if(typeof q=="number"){l.contentWidth=q;l.gotWidth=true;++p}else if(q=n?true:a.hasDomProp("containerChildrenDone")?i||!h||h.widthModel.shrinkWrap?true:h.hasDomProp("width"):false){n=n?0:d&&d.measureContentWidth?d.measureContentWidth(a):
this.measureContentWidth(a);if(!isNaN(l.contentWidth=n)){a.setContentWidth(n,true);l.gotWidth=true;++p}}}}else if(g.natural&&a.consumersWidth){++o;q=j.width;if(typeof q=="number"){l.width=q;l.gotWidth=true;++p}else if((q=i||!h?true:h.hasDomProp("width"))&&!isNaN(l.width=this.measureOwnerWidth(a))){a.setWidth(l.width,false);l.gotWidth=true;++p}}if(e.shrinkWrap&&a.consumersContentHeight){++o;e=!(m&2);if(k)if(e){l.contentHeight=0;l.gotHeight=true;++p}else{if((l.contentHeight=a.getProp("contentHeight"))!==
void 0){l.gotHeight=true;++p}}else{q=j.contentHeight;if(typeof q=="number"){l.contentHeight=q;l.gotHeight=true;++p}else if(q=e?true:a.hasDomProp("containerChildrenDone")?c.noWrap?true:g.shrinkWrap?i||!h||h.widthModel.shrinkWrap?true:h.hasDomProp("width"):(a.bodyContext||a).hasDomProp("width"):false){n=e?0:d&&d.measureContentHeight?d.measureContentHeight(a):this.measureContentHeight(a);if(!isNaN(l.contentHeight=n)){a.setContentHeight(n,true);l.gotHeight=true;++p}}}}else if(e.natural&&a.consumersHeight){++o;
q=j.height;if(typeof q=="number"){l.height=q;l.gotHeight=true;++p}else if((q=i||!h?true:h.hasDomProp("width"))&&!isNaN(l.height=this.measureOwnerHeight(a))){a.setHeight(l.height,false);l.gotHeight=true;++p}}if(h)a.onBoxMeasured();l.gotAll=p==o;return l},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}});
Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:"Ext.layout.component.Component",type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(a,b){var c=this.lastWidthModel,d=this.lastHeightModel,e=this.owner;this.callParent(arguments);c&&(c.fixed&&a.widthModel.shrinkWrap)&&e.el.setWidth(null);d&&(d.fixed&&a.heightModel.shrinkWrap)&&e.el.setHeight(null)},calculate:function(a){var b=this.measureAutoDimensions(a),
c=a.heightModel,d=a.widthModel;if(b.gotWidth)d.shrinkWrap?this.publishOwnerWidth(a,b.contentWidth):this.publishInnerWidth&&this.publishInnerWidth(a,b.width);else if(!d.auto&&this.publishInnerWidth){d=this.waitForOuterWidthInDom?a.getDomProp("width"):a.getProp("width");d===void 0?this.done=false:this.publishInnerWidth(a,d)}if(b.gotHeight)c.shrinkWrap?this.publishOwnerHeight(a,b.contentHeight):this.publishInnerHeight&&this.publishInnerHeight(a,b.height);else if(!c.auto&&this.publishInnerHeight){c=this.waitForOuterHeightInDom?
a.getDomProp("height"):a.getProp("height");c===void 0?this.done=false:this.publishInnerHeight(a,c)}if(!b.gotAll)this.done=false},calculateOwnerHeightFromContentHeight:function(a,b){return b+a.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(a,b){return b+a.getFrameInfo().width},publishOwnerHeight:function(a,b){var c=this.owner,d=this.calculateOwnerHeightFromContentHeight(a,b),e,g;if(isNaN(d))this.done=false;else{c=Ext.Number.constrain(d,c.minHeight,c.maxHeight);if(c==d)e=this.setHeightInDom;
else{g=this.sizeModels[c<d?"constrainedMax":"constrainedMin"];d=c;a.heightModel.calculatedFromShrinkWrap?a.heightModel=g:a.invalidate({heightModel:g})}a.setHeight(d,e)}},publishOwnerWidth:function(a,b){var c=this.owner,d=this.calculateOwnerWidthFromContentWidth(a,b),e,g;if(isNaN(d))this.done=false;else{c=Ext.Number.constrain(d,c.minWidth,c.maxWidth);if(c==d)e=this.setWidthInDom;else{g=this.sizeModels[c<d?"constrainedMax":"constrainedMin"];d=c;a.widthModel.calculatedFromShrinkWrap?a.widthModel=g:a.invalidate({widthModel:g})}a.setWidth(d,
e)}}});
Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:"Ext.layout.component.Auto",type:"button",cellClsRE:/-btn-(tl|br)\b/,htmlRE:/<.*>/,constructor:function(){this.callParent(arguments);this.hackWidth=Ext.isIE&&(!Ext.isStrict||Ext.isIE6||Ext.isIE7||Ext.isIE8);this.heightIncludesPadding=Ext.isIE6&&Ext.isStrict},beginLayout:function(a){this.callParent(arguments);this.cacheTargetInfo(a)},beginLayoutCycle:function(a){var b=this.owner,c=b.btnEl,d=b.btnInnerEl,e=b.text;this.callParent(arguments);d.setStyle("overflow",
"");a.widthModel.natural||b.el.setStyle("width","");e=a.heightModel.shrinkWrap&&e&&this.htmlRE.test(e);c.setStyle("width","");c.setStyle("height",e?"auto":"");d.setStyle("width","");d.setStyle("height",e?"auto":"");d.setStyle("line-height",e?"normal":"");d.setStyle("padding-top","");b.btnIconEl.setStyle("width","")},calculateOwnerHeightFromContentHeight:function(a,b){return b},calculateOwnerWidthFromContentWidth:function(a,b){return b},measureContentWidth:function(a){var b=this.owner,c=b.btnEl,d=
b.btnInnerEl,e=b.text,g,h,i;if(b.text&&this.hackWidth&&c){c=this.btnFrameWidth;e.indexOf(">")===-1&&(e=e.replace(/</g,"&lt;"));d=Ext.util.TextMetrics.measure(d,e);g=d.width+c+this.adjWidth;h=a.getEl("btnEl");i=a.getEl("btnInnerEl");e=(b.icon||b.iconCls)&&(b.iconAlign=="top"||b.iconAlign=="bottom");a.setWidth(g);h.setWidth(d.width+c);i.setWidth(d.width+c);e&&b.btnIconEl.setWidth(d.width+c)}else g=a.el.getWidth();return g},measureContentHeight:function(a){var b=this.owner,c=b.btnInnerEl,d=a.getEl("btnEl"),
e=a.getEl("btnInnerEl"),g=this.minTextHeight,h=this.adjHeight,i=b.getText();if(b.vertical){e=Ext.util.TextMetrics.measure(c,b.text).width;e=e+(this.btnFrameHeight+h);a.setHeight(e,true,true)}else if(i&&this.htmlRE.test(i)){a=c.getHeight();if(a<g){a=Math.floor((g-a)/2);e.setHeight(g-(this.heightIncludesPadding?a:0));e.setProp("padding-top",a);a=g}e=a+h}else e=a.el.getHeight();d.setHeight(e-h);return e},publishInnerHeight:function(a,b){var c=this.owner,d=Ext.isNumber,e=a.getEl("btnEl"),g=c.btnInnerEl,
h=a.getEl("btnInnerEl"),d=d(b)?b-this.adjHeight:b,i=this.btnFrameHeight,j=c.getText();e.setHeight(d);h.setHeight(d);!c.vertical&&d>=0&&h.setProp("line-height",d-i+"px");if(j&&this.htmlRE.test(j)){h.setProp("line-height","normal");g.setStyle("line-height","normal");c=Ext.util.TextMetrics.measure(g,j).height;c=Math.floor(Math.max(d-i-c,0)/2);h.setProp("padding-top",this.btnFrameTop+c);h.setHeight(d-(this.heightIncludesPadding?c:0))}},publishInnerWidth:function(a,b){var c=Ext.isNumber,d=a.getEl("btnEl"),
e=a.getEl("btnInnerEl"),c=c(b)?b-this.adjWidth:b;d.setWidth(c);e.setWidth(c)},clearTargetCache:function(){delete this.adjWidth},cacheTargetInfo:function(a){var b=this.owner,c=b.scale,d,e,g;if(!("adjWidth"in this)||this.lastScale!==c){this.lastScale&&b.btnInnerEl.setStyle("line-height","");this.lastScale=c;b=a.getPaddingInfo();c=a.getFrameInfo();d=a.getEl("btnWrap").getPaddingInfo();e=a.getEl("btnInnerEl");g=e.getPaddingInfo();Ext.apply(this,{adjWidth:d.width+c.width+b.width,adjHeight:d.height+c.height+
b.height,btnFrameWidth:g.width,btnFrameHeight:g.height,btnFrameTop:g.top,minTextHeight:parseInt(e.getStyle("line-height"),10)})}this.callParent(arguments)},finishedLayout:function(){var a=this.owner;this.callParent(arguments);Ext.isWebKit&&a.el.dom.offsetWidth}});
Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(a,b,c){var d=this.shared;if(!d)d=this.shared=new this(a,c);d.bind(a);d.setFixedWidth(c||"auto");return d.getSize(b)},destroy:function(){Ext.destroy(this.shared);this.shared=null}},constructor:function(a,b){var c=this.measure=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});this.el=Ext.get(a);c.position("absolute");c.setLeftTop(-1E3,-1E3);c.hide();b&&c.setWidth(b)},getSize:function(a){var b=this.measure;b.update(a);
a=b.getSize();b.update("");return a},bind:function(a){this.el=Ext.get(a);this.measure.setStyle(this.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){this.measure.dom.style.width="auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){this.measure.remove();delete this.el;delete this.measure}},function(){Ext.Element.addMethods({getTextWidth:function(a,
b,c){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(a,this.dom.innerHTML,true)).width,b||0,c||1E6)}})});
Ext.define("Ext.button.Button",{alias:"widget.button",extend:"Ext.Component",requires:["Ext.menu.Manager","Ext.util.ClickRepeater","Ext.layout.component.Button","Ext.util.TextMetrics","Ext.util.KeyMap"],alternateClassName:"Ext.Button",isButton:!0,componentLayout:"button",hidden:!1,disabled:!1,pressed:!1,enableToggle:!1,menuAlign:"tl-bl?",textAlign:"center",type:"button",clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",
overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",border:!0,childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:'<em id="{id}-btnWrap"<tpl if="splitCls"> class="{splitCls}"</tpl>>;<tpl if="href">;<a id="{id}-btnEl" href="{href}" class="{btnCls}" target="{hrefTarget}";<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl>;<tpl if="disabled"> disabled="disabled"</tpl>; role="link">;<span id="{id}-btnInnerEl" class="{baseCls}-inner">;{text};</span>;<span id="{id}-btnIconEl" class="{baseCls}-icon {iconCls}"<tpl if="iconUrl"> style="background-image:url({iconUrl})"</tpl>></span>;</a>;<tpl else>;<button id="{id}-btnEl" type="{type}" class="{btnCls}" hidefocus="true";<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl>;<tpl if="disabled"> disabled="disabled"</tpl>; role="button" autocomplete="off">;<span id="{id}-btnInnerEl" class="{baseCls}-inner" style="{innerSpanStyle}">;{text};</span>;<span id="{id}-btnIconEl" class="{baseCls}-icon {iconCls}"<tpl if="iconUrl"> style="background-image:url({iconUrl})"</tpl>></span>;</button>;</tpl>;</em>;<tpl if="closable">;<a id="{id}-closeEl" href="#" class="{baseCls}-close-btn" title="{closeText}"></a>;</tpl>'.split(";"),
scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,persistentPadding:void 0,shrinkWrap:3,frame:!0,initComponent:function(){this.callParent(arguments);this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(this.menu){this.split=true;this.menu=Ext.menu.Manager.get(this.menu);this.menu.ownerButton=this}if(this.url)this.href=this.url;if(this.href&&!this.hasOwnProperty("preventDefault"))this.preventDefault=
false;if(Ext.isString(this.toggleGroup)&&this.toggleGroup!=="")this.enableToggle=true;if(this.html&&!this.text){this.text=this.html;delete this.html}},getActionEl:function(){return this.btnEl},getFocusEl:function(){return this.useElForFocus?this.el:this.btnEl},onFocus:function(a){this.useElForFocus=true;this.callParent(arguments);this.useElForFocus=false},onBlur:function(a){this.useElForFocus=true;this.callParent(arguments);this.useElForFocus=false},onDisable:function(){this.useElForFocus=true;this.callParent(arguments);
this.useElForFocus=false},setComponentCls:function(){var a=this.getComponentCls();if(!Ext.isEmpty(this.oldCls)){this.removeClsWithUI(this.oldCls);this.removeClsWithUI(this.pressedCls)}this.oldCls=a;this.addClsWithUI(a)},getComponentCls:function(){var a=[];this.iconCls||this.icon?this.text?a.push("icon-text-"+this.iconAlign):a.push("icon"):this.text&&a.push("noicon");this.pressed&&a.push(this.pressedCls);return a},beforeRender:function(){this.callParent();this.oldCls=this.getComponentCls();this.addClsWithUI(this.oldCls);
Ext.applyIf(this.renderData,this.getTemplateArgs());this.scale&&this.setScale(this.scale)},onRender:function(){var a,b,c;this.doc=Ext.getDoc();this.callParent(arguments);this.split&&this.arrowTooltip&&this.arrowEl.dom.setAttribute(this.getTipAttr(),this.arrowTooltip);b=this.el;this.tooltip&&this.setTooltip(this.tooltip,true);if(this.handleMouseEvents){c={scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mousedown:this.onMouseDown};if(this.split)c.mousemove=this.onMouseMove}else c={scope:this};
if(this.menu){this.mon(this.menu,{scope:this,show:this.onMenuShow,hide:this.onMenuHide});this.keyMap=new Ext.util.KeyMap({target:this.el,key:Ext.EventObject.DOWN,handler:this.onDownKey,scope:this})}this.repeat?this.mon(new Ext.util.ClickRepeater(b,Ext.isObject(this.repeat)?this.repeat:{}),"click",this.onRepeatClick,this):c[this.clickEvent]?a=true:c[this.clickEvent]=this.onClick;this.mon(b,c);a&&this.mon(b,this.clickEvent,this.onClick,this);Ext.ButtonToggleManager.register(this)},getTemplateArgs:function(){var a=
this.getPersistentPadding(),b="";Math.max.apply(Math,a)>0&&(b="margin:"+Ext.Array.map(a,function(a){return-a+"px"}).join(" "));return{href:this.getHref(),disabled:this.disabled,hrefTarget:this.hrefTarget,type:this.type,btnCls:this.getBtnCls(),splitCls:this.getSplitCls(),iconUrl:this.icon,iconCls:this.iconCls,text:this.text||"&#160;",tabIndex:this.tabIndex,innerSpanStyle:b}},getHref:function(){var a=Ext.apply({},this.baseParams),a=Ext.apply(a,this.params);return this.href?Ext.urlAppend(this.href,Ext.Object.toQueryString(a)):
false},setParams:function(a){this.params=a;this.btnEl.dom.href=this.getHref()},getSplitCls:function(){return this.split?this.baseCls+"-"+this.arrowCls+" "+(this.baseCls+"-"+this.arrowCls+"-"+this.arrowAlign):""},getBtnCls:function(){return this.textAlign?this.baseCls+"-"+this.textAlign:""},setIconCls:function(a){var b=this.btnIconEl,c=this.iconCls;this.iconCls=a;if(b){b.removeCls(c);b.addCls(a||"");this.setComponentCls();this.didIconStateChange(c,a)&&this.updateLayout()}return this},setTooltip:function(a,
b){if(this.rendered){b||this.clearTip();if(Ext.isObject(a)){Ext.tip.QuickTipManager.register(Ext.apply({target:this.btnEl.id},a));this.tooltip=a}else this.btnEl.dom.setAttribute(this.getTipAttr(),a)}else this.tooltip=a;return this},setTextAlign:function(a){var b=this.btnEl;if(b){b.removeCls(this.baseCls+"-"+this.textAlign);b.addCls(this.baseCls+"-"+a)}this.textAlign=a;return this},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},getRefItems:function(a){var b=this.menu,c;
if(b){c=b.getRefItems(a);c.unshift(b)}return c||[]},clearTip:function(){Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.btnEl)},beforeDestroy:function(){this.rendered&&this.clearTip();this.menu&&this.destroyMenu!==false&&Ext.destroy(this.menu);Ext.destroy(this.btnInnerEl,this.repeater);this.callParent()},onDestroy:function(){if(this.rendered){this.doc.un("mouseover",this.monitorMouseOver,this);this.doc.un("mouseup",this.onMouseUp,this);delete this.doc;Ext.ButtonToggleManager.unregister(this);
Ext.destroy(this.keyMap);delete this.keyMap}this.callParent()},setHandler:function(a,b){this.handler=a;this.scope=b;return this},setText:function(a){this.text=a;if(this.rendered){this.btnInnerEl.update(a||"&#160;");this.setComponentCls();Ext.isStrict&&Ext.isIE8&&this.el.repaint();this.updateLayout()}return this},setIcon:function(a){var b=this.btnIconEl,c=this.icon;this.icon=a;if(b){b.setStyle("background-image",a?"url("+a+")":"");this.setComponentCls();this.didIconStateChange(c,a)&&this.updateLayout()}return this},
didIconStateChange:function(a,b){var c=Ext.isEmpty(b);return Ext.isEmpty(a)?!c:c},getText:function(){return this.text},toggle:function(a,b){a=a===void 0?!this.pressed:!!a;if(a!==this.pressed){if(this.rendered)this[a?"addClsWithUI":"removeClsWithUI"](this.pressedCls);this.pressed=a;if(!b){this.fireEvent("toggle",this,a);Ext.callback(this.toggleHandler,this.scope||this,[this,a])}}return this},maybeShowMenu:function(){this.menu&&(!this.hasVisibleMenu()&&!this.ignoreNextClick)&&this.showMenu()},showMenu:function(){if(this.rendered&&
this.menu){this.tooltip&&this.getTipAttr()!="title"&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(this.btnEl);this.menu.isVisible()&&this.menu.hide();this.menu.showBy(this.el,this.menuAlign,!Ext.isStrict&&Ext.isIE||Ext.isIE6?[-2,-2]:void 0)}return this},hideMenu:function(){this.hasVisibleMenu()&&this.menu.hide();return this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onClick:function(a){(this.preventDefault||this.disabled&&
this.getHref()&&a)&&a.preventDefault();if(a.button===0&&!this.disabled){this.doToggle();this.maybeShowMenu();this.fireHandler(a)}},fireHandler:function(a){var b=this.handler;if(this.fireEvent("click",this,a)!==false){b&&b.call(this.scope||this,this,a);this.blur()}},doToggle:function(){this.enableToggle&&(this.allowDepress!==false||!this.pressed)&&this.toggle()},onMouseOver:function(a){if(!this.disabled&&!a.within(this.el,true,true))this.onMouseEnter(a)},onMouseOut:function(a){if(!a.within(this.el,
true,true)){if(this.overMenuTrigger)this.onMenuTriggerOut(a);this.onMouseLeave(a)}},onMouseMove:function(a){var b=this.el,c=this.overMenuTrigger,d;if(this.split){if(this.arrowAlign==="right"){d=a.getX()-b.getX();b=b.getWidth()}else{d=a.getY()-b.getY();b=b.getHeight()}if(d>b-this.getTriggerSize()){if(!c)this.onMenuTriggerOver(a)}else if(c)this.onMenuTriggerOut(a)}},getTriggerSize:function(){var a=this.triggerSize,b;if(a===void 0){a=this.arrowAlign;b=a.charAt(0);a=this.triggerSize=this.el.getFrameWidth(b)+
this.btnWrap.getFrameWidth(b)+this.frameSize[a]}return a},onMouseEnter:function(a){this.addClsWithUI(this.overCls);this.fireEvent("mouseover",this,a)},onMouseLeave:function(a){this.removeClsWithUI(this.overCls);this.fireEvent("mouseout",this,a)},onMenuTriggerOver:function(a){this.overMenuTrigger=true;this.fireEvent("menutriggerover",this,this.menu,a)},onMenuTriggerOut:function(a){delete this.overMenuTrigger;this.fireEvent("menutriggerout",this,this.menu,a)},enable:function(a){this.callParent(arguments);
if(this.btnEl)this.btnEl.dom.disabled=false;this.removeClsWithUI("disabled");return this},disable:function(a){this.callParent(arguments);if(this.btnEl)this.btnEl.dom.disabled=true;this.addClsWithUI("disabled");this.removeClsWithUI(this.overCls);this.btnInnerEl&&(Ext.isIE6||Ext.isIE7)&&this.btnInnerEl.repaint();return this},setScale:function(a){var b=this.ui.replace("-"+this.scale,"");if(!Ext.Array.contains(this.allowedScales,a))throw"#setScale: scale must be an allowed scale ("+this.allowedScales.join(", ")+
")";this.scale=a;this.setUI(b)},setUI:function(a){this.scale&&!a.match(this.scale)&&(a=a+"-"+this.scale);this.callParent([a])},onMouseDown:function(a){if(!this.disabled&&a.button===0){this.addClsWithUI(this.pressedCls);this.doc.on("mouseup",this.onMouseUp,this)}},onMouseUp:function(a){if(a.button===0){this.pressed||this.removeClsWithUI(this.pressedCls);this.doc.un("mouseup",this.onMouseUp,this)}},onMenuShow:function(){this.ignoreNextClick=0;this.addClsWithUI(this.menuActiveCls);this.fireEvent("menushow",
this,this.menu)},onMenuHide:function(){this.removeClsWithUI(this.menuActiveCls);this.ignoreNextClick=Ext.defer(this.restoreClick,250,this);this.fireEvent("menuhide",this,this.menu)},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(){this.disabled||this.menu&&this.showMenu()},getPersistentPadding:function(){var a=this.persistentPadding,b,c,d,e;if(!a){a=this.self.prototype.persistentPadding=[0,0,0,0];if(!Ext.isIE){b=new Ext.button.Button({text:"test",style:"position:absolute;top:-999px;"});
b.el=Ext.DomHelper.append(Ext.resetElement,b.getRenderTree(),true);b.applyChildEls(b.el);d=b.btnEl;e=b.btnInnerEl;d.setSize(null,null);c=e.getOffsetsTo(d);a[0]=c[1];a[1]=d.getWidth()-e.getWidth()-c[0];a[2]=d.getHeight()-e.getHeight()-c[1];a[3]=c[0];b.destroy();b.el.remove()}}return a}},function(){var a={},b=function(b,d){if(d){var e=a[b.toggleGroup],g=e.length,h;for(h=0;h<g;h++)e[h]!==b&&e[h].toggle(false)}};Ext.ButtonToggleManager={register:function(c){if(c.toggleGroup){var d=a[c.toggleGroup];d||
(d=a[c.toggleGroup]=[]);d.push(c);c.on("toggle",b)}},unregister:function(c){if(c.toggleGroup){var d=a[c.toggleGroup];if(d){Ext.Array.remove(d,c);c.un("toggle",b)}}},getPressed:function(b){var b=a[b],d=0,e;if(b)for(e=b.length;d<e;d++)if(b[d].pressed===true)return b[d];return null}}});
Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.toolbar.Separator","Ext.button.Button"],alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(a){this.callParent(arguments);this.triggerButtonCls=this.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-"+a.getNames().right;this.menuItems=[]},beginLayout:function(a){this.callParent(arguments);this.clearOverflow(a)},
beginLayoutCycle:function(a,b){this.callParent(arguments);if(!b){this.clearOverflow(a);this.layout.cacheChildItems(a)}},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},getSuffixConfig:function(){var a=this.layout,b=a.owner.id;this.menu=new Ext.menu.Menu({listeners:{scope:this,beforeshow:this.beforeMenuShow}});this.menuTrigger=new Ext.button.Button({id:b+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+this.triggerButtonCls,hidden:true,ownerCt:a.owner,ownerLayout:a,iconCls:Ext.baseCSSPrefix+
this.getOwnerType(a.owner)+"-more-icon",ui:a.owner instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:this.menu,getSplitCls:function(){return""}});return this.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(a){var b=this.layout.getNames(),c=a.state.boxPlan,d=[null,null];this.showTrigger(a);d[b.heightIndex]=(c.maxSize-this.menuTrigger[b.getHeight]())/2;this.menuTrigger.setPosition.apply(this.menuTrigger,
d);return{reservedSpace:this.menuTrigger[b.getWidth]()}},captureChildElements:function(){var a=this.menuTrigger;a.rendering&&a.finishRender()},_asLayoutRoot:{isRoot:!0},clearOverflow:function(){var a=this.menuItems,b,c=0,d=a.length;b=this.layout.owner;var e=this._asLayoutRoot;b.suspendLayouts();this.captureChildElements();this.hideTrigger();for(b.resumeLayouts();c<d;c++){b=a[c];b.suspendLayouts();b.show();b.resumeLayouts(e)}a.length=0},showTrigger:function(a){var b=this.layout,c=b.owner,d=b.getNames(),
b=d.x,d=d.width,e=a.state.boxPlan.targetSize[d],a=a.childItems,g=a.length,h=this.menuTrigger,i,j;h.suspendLayouts();h.show();h.resumeLayouts(this._asLayoutRoot);e=e-this.menuTrigger.getWidth();c.suspendLayouts();for(h=this.menuItems.length=0;h<g;h++){i=a[h];j=i.props;if(j[b]+j[d]>e){i=i.target;this.menuItems.push(i);i.hide()}}c.resumeLayouts()},hideTrigger:function(){var a=this.menuTrigger;a&&a.hide()},beforeMenuShow:function(a){var b=this.menuItems,c=0,d=b.length,e,g,h=function(a,b){return a.isXType("buttongroup")&&
!(b instanceof Ext.toolbar.Separator)};a.suspendLayouts();this.clearMenu();for(a.removeAll();c<d;c++){e=b[c];if(c||!(e instanceof Ext.toolbar.Separator)){g&&(h(e,g)||h(g,e))&&a.add("-");this.addComponentToMenu(a,e);g=e}}a.items.length<1&&a.add(this.noItemsMenuText);a.resumeLayouts()},createMenuConfig:function(a,b){var c=Ext.apply({},a.initialConfig),d=a.toggleGroup;Ext.copyTo(c,a,["iconCls","icon","itemId","disabled","handler","scope","menu"]);Ext.apply(c,{text:a.overflowText||a.text,hideOnClick:b,
destroyMenu:false});if(a.isFormField){c.value=a.getValue();if(!c.listeners)c.listeners={};c.listeners.change=function(b,c){a.setValue(c)}}else(d||a.enableToggle)&&Ext.apply(c,{iconAlign:"right",hideOnClick:false,group:d,checked:a.pressed,listeners:{checkchange:function(b,c){a.toggle(c)}}});delete c.ownerCt;delete c.xtype;delete c.id;return c},addComponentToMenu:function(a,b){var c,d,e;if(b instanceof Ext.toolbar.Separator)a.add("-");else if(b.isComponent)if(b.isXType("splitbutton"))a.add(this.createMenuConfig(b,
true));else if(b.isXType("button"))a.add(this.createMenuConfig(b,!b.menu));else if(b.isXType("buttongroup")){d=b.items.items;e=d.length;for(c=0;c<e;c++)this.addComponentToMenu(a,d[c])}else a.add(Ext.create(Ext.getClassName(b),this.createMenuConfig(b)))},clearMenu:function(){var a=this.menu,b,c,d;if(a&&a.items){a=a.items.items;c=a.length;for(b=0;b<c;b++){d=a[b];d.setMenu&&d.setMenu(null)}}},destroy:function(){var a=this.menuTrigger;a&&!this.layout.owner.items.contains(a)&&delete a.ownerCt;Ext.destroy(this.menu,
a)}});
Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.util.ClickRepeater","Ext.Element"],alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:"Ext.util.Observable"},animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(a,b){this.layout=a;Ext.apply(this,b||{});this.mixins.observable.constructor.call(this);this.addEvents("scroll");
this.scrollSize=this.scrollPosition=0},getPrefixConfig:function(){this.initCSSClasses();return{cls:Ext.layout.container.Box.prototype.innerCls+" "+this.beforeCtCls,cn:{id:this.layout.owner.id+"-before-scroller",cls:this.scrollerCls+" "+this.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){return{cls:Ext.layout.container.Box.prototype.innerCls+" "+this.afterCtCls,cn:{id:this.layout.owner.id+"-after-scroller",cls:this.scrollerCls+" "+this.afterScrollerCls,style:"display:none"}}},
getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var a=Ext.baseCSSPrefix,b=this.layout,c=b.getNames(),d=c.left,c=c.right,b=this.getOwnerType(b.owner);this.beforeCtCls=this.beforeCtCls||a+"box-scroller-"+d;this.afterCtCls=this.afterCtCls||a+"box-scroller-"+c;this.beforeScrollerCls=this.beforeScrollerCls||a+b+"-scroll-"+d;this.afterScrollerCls=this.afterScrollerCls||a+b+"-scroll-"+c},beginLayout:function(a){var b=this.layout,c=
b.getNames();a.innerCtScrollPos=b.innerCt.dom["scroll"+c.leftCap];this.callParent(arguments)},completeLayout:function(a){this.scrollSize=a.props["content"+this.layout.getNames().widthCap];this.callParent(arguments)},finishedLayout:function(a){var b=this.layout,c=b.getNames(),a=Math.min(this.getMaxScrollPosition(),a.innerCtScrollPos);b.innerCt.dom["scroll"+c.leftCap]=a},handleOverflow:function(){var a="get"+this.layout.getNames().widthCap;this.captureChildElements();this.showScrollers();return{reservedSpace:this.beforeCt[a]()+
this.afterCt[a]()}},captureChildElements:function(){var a=this.layout.owner.el,b;if(!this.beforeCt){b=this.beforeScroller=a.getById(this.layout.owner.id+"-before-scroller");a=this.afterScroller=a.getById(this.layout.owner.id+"-after-scroller");this.beforeCt=b.up("");this.afterCt=a.up("");this.createWheelListener();b.addClsOnOver(this.beforeScrollerCls+"-hover");a.addClsOnOver(this.afterScrollerCls+"-hover");b.setVisibilityMode(Ext.Element.DISPLAY);a.setVisibilityMode(Ext.Element.DISPLAY);this.beforeRepeater=
new Ext.util.ClickRepeater(b,{interval:this.scrollRepeatInterval,handler:this.scrollLeft,scope:this});this.afterRepeater=new Ext.util.ClickRepeater(a,{interval:this.scrollRepeatInterval,handler:this.scrollRight,scope:this})}},createWheelListener:function(){this.layout.innerCt.on({mousewheel:function(a){this.scrollBy(a.getWheelDelta()*this.wheelIncrement*-1,false)},stopEvent:true,scope:this})},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.captureChildElements();this.beforeScroller.show();
this.afterScroller.show();this.updateScrollButtons();this.layout.owner.addClsWithUI("scroller")},hideScrollers:function(){if(this.beforeScroller!==void 0){this.beforeScroller.hide();this.afterScroller.hide();this.layout.owner.removeClsWithUI("scroller")}},destroy:function(){Ext.destroy(this.beforeRepeater,this.afterRepeater,this.beforeScroller,this.afterScroller,this.beforeCt,this.afterCt)},scrollBy:function(a,b){this.scrollTo(this.getScrollPosition()+a,b)},getScrollAnim:function(){return{duration:this.scrollDuration,
callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var a,b,c,d;if(!(this.beforeScroller===void 0||this.afterScroller===void 0)){a=this.atExtremeBefore()?"addCls":"removeCls";b=this.atExtremeAfter()?"addCls":"removeCls";c=this.beforeScrollerCls+"-disabled";d=this.afterScrollerCls+"-disabled";this.beforeScroller[a](c);this.afterScroller[b](d);this.scrolling=false}},atExtremeBefore:function(){return!this.getScrollPosition()},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,
false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var a=this.layout;return this.hasOwnProperty("scrollPosition")?this.scrollPosition:parseInt(a.innerCt.dom["scroll"+a.getNames().leftCap],10)||0},getMaxScrollPosition:function(){var a=this.layout,b=a.getNames(),a=this.scrollSize-a.innerCt["get"+b.widthCap]();return a<0?0:a},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(a,b){var c=this.layout,
d=c.getNames(),e=this.getScrollPosition(),g=Ext.Number.constrain(a,0,this.getMaxScrollPosition());if(g!=e&&!this.scrolling){delete this.scrollPosition;if(b===void 0)b=this.animateScroll;c.innerCt.scrollTo(d.left,g,b?this.getScrollAnim():false);b?this.scrolling=true:this.updateScrollButtons();this.fireEvent("scroll",this,g,b?this.getScrollAnim():false)}},scrollToItem:function(a,b){var c=this.layout.getNames(),d,e,g,a=this.getItem(a);if(a!==void 0){d=this.getItemVisibility(a);if(!d.fullyVisible){e=
a.getBox(true,true);g=e[c.x];d.hiddenEnd&&(g=g-(this.layout.innerCt["get"+c.widthCap]()-e[c.width]));this.scrollTo(g,b)}}},getItemVisibility:function(a){var b=this.getItem(a).getBox(true,true),c=this.layout,d=c.getNames(),a=b[d.x],b=a+b[d.width],e=this.getScrollPosition(),c=e+c.innerCt["get"+d.widthCap]();return{hiddenStart:a<e,hiddenEnd:b>c,fullyVisible:a>e&&b<c}}});
Ext.define("Ext.util.Offset",{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=a!=null&&!isNaN(a)?a:0;this.y=b!=null&&!isNaN(b)?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){a instanceof this.statics()||Ext.Error.raise("Offset must be an instance of Ext.util.Offset");return this.x==a.x&&this.y==a.y},round:function(a){if(isNaN(a)){this.x=
Math.round(this.x);this.y=Math.round(this.y)}else{a=Math.pow(10,a);this.x=Math.round(this.x*a)/a;this.y=Math.round(this.y*a)/a}},isZero:function(){return this.x==0&&this.y==0}});
Ext.define("Ext.util.Region",{requires:["Ext.util.Offset"],statics:{getRegion:function(a){return Ext.fly(a).getPageBox(true)},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(a,b,c,d){this.y=this.top=this[1]=a;this.right=b;this.bottom=c;this.x=this.left=this[0]=d},contains:function(a){return a.x>=this.x&&a.right<=this.right&&a.y>=this.y&&a.bottom<=this.bottom},intersect:function(a){var b=Math.max(this.y,a.y),c=Math.min(this.right,a.right),d=Math.min(this.bottom,
a.bottom),a=Math.max(this.x,a.x);return d>b&&c>a?new this.self(b,c,d,a):false},union:function(a){var b=Math.min(this.y,a.y),c=Math.max(this.right,a.right),d=Math.max(this.bottom,a.bottom),a=Math.min(this.x,a.x);return new this.self(b,c,d,a)},constrainTo:function(a){var b=Ext.Number.constrain;this.top=this.y=b(this.top,a.y,a.bottom);this.bottom=b(this.bottom,a.y,a.bottom);this.left=this.x=b(this.left,a.x,a.right);this.right=b(this.right,a.x,a.right);return this},adjust:function(a,b,c,d){this.top=this.y=
this.y+a;this.left=this.x=this.x+d;this.right=this.right+b;this.bottom=this.bottom+c;return this},getOutOfBoundOffset:function(a,b){if(Ext.isObject(a)){var b=a,c=new Ext.util.Offset;c.x=this.getOutOfBoundOffsetX(b.x);c.y=this.getOutOfBoundOffsetY(b.y);return c}return a=="x"?this.getOutOfBoundOffsetX(b):this.getOutOfBoundOffsetY(b)},getOutOfBoundOffsetX:function(a){return a<=this.x?this.x-a:a>=this.right?this.right-a:0},getOutOfBoundOffsetY:function(a){return a<=this.y?this.y-a:a>=this.bottom?this.bottom-
a:0},isOutOfBound:function(a,b){if(Ext.isObject(a)){b=a;return this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y)}return a=="x"?this.isOutOfBoundX(b):this.isOutOfBoundY(b)},isOutOfBoundX:function(a){return a<this.x||a>this.right},isOutOfBoundY:function(a){return a<this.y||a>this.bottom},restrict:function(a,b,c){if(Ext.isObject(a)){c=b;b=a;a=b.copy?b.copy():{x:b.x,y:b.y};a.x=this.restrictX(b.x,c);a.y=this.restrictY(b.y,c);return a}return a=="x"?this.restrictX(b,c):this.restrictY(b,c)},restrictX:function(a,
b){b||(b=1);a<=this.x?a=a-(a-this.x)*b:a>=this.right&&(a=a-(a-this.right)*b);return a},restrictY:function(a,b){b||(b=1);a<=this.y?a=a-(a-this.y)*b:a>=this.bottom&&(a=a-(a-this.bottom)*b);return a},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(a){this.top=this.y=this[1]=a.y;this.right=a.right;this.bottom=a.bottom;this.left=this.x=this[0]=a.x;return this},toString:function(){return"Region["+
this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(a,b){if(arguments.length==1){b=a.y;a=a.x}this.top=this.y=this.y+b;this.right=this.right+a;this.bottom=this.bottom+b;this.left=this.x=this.x+a;return this},round:function(){this.top=this.y=Math.round(this.y);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=this.x=Math.round(this.x);return this},equals:function(a){return this.top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==
a.left}});
Ext.define("Ext.dd.DragDropManager",{singleton:!0,requires:["Ext.util.Region"],uses:["Ext.tip.QuickTipManager"],alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,_execOnAll:function(a,b){var c,d,e;for(c in this.ids)for(d in this.ids[c]){e=this.ids[c][d];this.isTypeOfDD(e)&&e[a].apply(e,
b)}},_onLoad:function(){this.init();var a=Ext.EventManager;a.on(document,"mouseup",this.handleMouseUp,this,true);a.on(document,"mousemove",this.handleMouseMove,this,true);a.on(window,"unload",this._onUnload,this,true);a.on(window,"resize",this._onResize,this,true)},_onResize:function(){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,
dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(a,b){this.initialized||this.init();this.ids[b]||(this.ids[b]={});this.ids[b][a.id]=a},removeDDFromGroup:function(a,b){this.ids[b]||(this.ids[b]={});var c=this.ids[b];c&&c[a.id]&&delete c[a.id]},_remove:function(a){for(var b in a.groups)b&&(this.ids[b]&&this.ids[b][a.id])&&delete this.ids[b][a.id];delete this.handleIds[a.id]},regHandle:function(a,b){this.handleIds[a]||(this.handleIds[a]={});this.handleIds[a][b]=b},isDragDrop:function(a){return this.getDDById(a)?
true:false},getRelated:function(a,b){var c=[],d,e,g;for(d in a.groups)for(e in this.ids[d]){g=this.ids[d][e];if(this.isTypeOfDD(g)&&(!b||g.isTarget))c[c.length]=g}return c},isLegalTarget:function(a,b){var c=this.getRelated(a,true),d,e;d=0;for(e=c.length;d<e;++d)if(c[d].id==b.id)return true;return false},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(a,b){return this.handleIds[a]&&this.handleIds[a][b]},getDDById:function(a){var b,c;for(b in this.ids){c=this.ids[b][a];if(c instanceof
Ext.dd.DDTarget)return c}return null},handleMouseDown:function(a,b){Ext.tip.QuickTipManager&&Ext.tip.QuickTipManager.ddDisable();this.dragCurrent&&this.handleMouseUp(a);this.currentTarget=a.getTarget();this.dragCurrent=b;var c=b.getEl();Ext.isIE&&c.setCapture&&c.setCapture();this.startX=a.getPageX();this.startY=a.getPageY();this.deltaX=this.startX-c.offsetLeft;this.deltaY=this.startY-c.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var a=Ext.dd.DragDropManager;a.startDrag(a.startX,
a.startY)},this.clickTimeThresh)},startDrag:function(a,b){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(a,b);this.dragCurrent.startDrag(a,b)}this.dragThreshMet=true},handleMouseUp:function(a){var b=this.dragCurrent;Ext.tip&&Ext.tip.QuickTipManager&&Ext.tip.QuickTipManager.ddEnable();if(b){Ext.isIE&&document.releaseCapture&&document.releaseCapture();clearTimeout(this.clickTimeout);this.dragThreshMet&&this.fireEvents(a,true);this.stopDrag(a);this.stopEvent(a)}},stopEvent:function(a){this.stopPropagation&&
a.stopPropagation();this.preventDefault&&a.preventDefault()},stopDrag:function(a){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(a);this.dragCurrent.endDrag(a)}this.dragCurrent.onMouseUp(a)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(a){var b,c;if(!this.dragCurrent)return true;if(!this.dragThreshMet){b=Math.abs(this.startX-a.getPageX());c=Math.abs(this.startY-a.getPageY());(b>this.clickPixelThresh||c>this.clickPixelThresh)&&this.startDrag(this.startX,
this.startY)}if(this.dragThreshMet){this.dragCurrent.b4Drag(a);this.dragCurrent.onDrag(a);this.dragCurrent.moveOnly||this.fireEvents(a,false)}this.stopEvent(a);return true},fireEvents:function(a,b){var c=this.dragCurrent,d=a.getPoint(),e,g,h=[],i=[],j=[],k=[],l=[],m=[],n,o,p;if(c&&!c.isLocked()){for(o in this.dragOvers){e=this.dragOvers[o];if(this.isTypeOfDD(e)){this.isOverTarget(d,e,this.mode)||j.push(e);i[o]=true;delete this.dragOvers[o]}}for(p in c.groups)if("string"==typeof p)for(o in this.ids[p]){e=
this.ids[p][o];if(this.isTypeOfDD(e)&&(g=e.getEl())&&e.isTarget&&!e.isLocked()&&Ext.fly(g).isVisible(true)&&(e!=c||c.ignoreSelf===false)){if((e.zIndex=this.getZIndex(g))!==-1)n=true;h.push(e)}}n&&Ext.Array.sort(h,this.byZIndex);o=0;for(g=h.length;o<g;o++){e=h[o];if(this.isOverTarget(d,e,this.mode)){if(b)l.push(e);else{i[e.id]?k.push(e):m.push(e);this.dragOvers[e.id]=e}if(!this.notifyOccluded)break}}if(this.mode){if(j.length){c.b4DragOut(a,j);c.onDragOut(a,j)}if(m.length)c.onDragEnter(a,m);if(k.length){c.b4DragOver(a,
k);c.onDragOver(a,k)}if(l.length){c.b4DragDrop(a,l);c.onDragDrop(a,l)}}else{o=0;for(g=j.length;o<g;++o){c.b4DragOut(a,j[o].id);c.onDragOut(a,j[o].id)}o=0;for(g=m.length;o<g;++o)c.onDragEnter(a,m[o].id);o=0;for(g=k.length;o<g;++o){c.b4DragOver(a,k[o].id);c.onDragOver(a,k[o].id)}o=0;for(g=l.length;o<g;++o){c.b4DragDrop(a,l[o].id);c.onDragDrop(a,l[o].id)}}if(b&&!l.length)c.onInvalidDrop(a)}},getZIndex:function(a){for(var b=document.body,c,d=-1,a=Ext.getDom(a);a!==b;){if(!isNaN(c=Number(Ext.fly(a).getStyle("zIndex"))))d=
c;a=a.parentNode}return d},byZIndex:function(a,b){return a.zIndex<b.zIndex},getBestMatch:function(a){var b=null,c=a.length,d,e;if(c==1)b=a[0];else for(d=0;d<c;++d){e=a[d];if(e.cursorIsOver){b=e;break}else if(!b||b.overlap.getArea()<e.overlap.getArea())b=e}return b},refreshCache:function(a){var b,c,d,e;for(b in a)if("string"==typeof b)for(c in this.ids[b]){d=this.ids[b][c];if(this.isTypeOfDD(d))(e=this.getLocation(d))?this.locationCache[d.id]=e:delete this.locationCache[d.id]}},verifyEl:function(a){if(a){var b;
if(Ext.isIE)try{b=a.offsetParent}catch(c){}else b=a.offsetParent;if(b)return true}return false},getLocation:function(a){if(!this.isTypeOfDD(a))return null;if(a.getRegion)return a.getRegion();var b=a.getEl(),c,d,e;try{c=Ext.Element.getXY(b)}catch(g){}if(!c)return null;d=c[0];e=d+b.offsetWidth;c=c[1];return new Ext.util.Region(c-a.padding[0],e+a.padding[1],c+b.offsetHeight+a.padding[2],d-a.padding[3])},isOverTarget:function(a,b,c){var d=this.locationCache[b.id],e;if(!d||!this.useCache){d=this.getLocation(b);
this.locationCache[b.id]=d}if(!d)return false;b.cursorIsOver=d.contains(a);e=this.dragCurrent;if(!e||!e.getTargetCoord||!c&&!e.constrainX&&!e.constrainY)return b.cursorIsOver;b.overlap=null;a=e.getTargetCoord(a.x,a.y);e=e.getDragEl();if(d=(new Ext.util.Region(a.y,a.x+e.offsetWidth,a.y+e.offsetHeight,a.x)).intersect(d)){b.overlap=d;return c?true:b.cursorIsOver}return false},_onUnload:function(){Ext.dd.DragDropManager.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=
null}this._execOnAll("unreg",[]);for(var a in this.elementCache)delete this.elementCache[a];this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(a){var b=this.elementCache[a];if(!b||!b.el)b=this.elementCache[a]=new this.ElementWrapper(Ext.getDom(a));return b},getElement:function(a){return Ext.getDom(a)},getCss:function(a){return(a=Ext.getDom(a))?a.style:null},ElementWrapper:function(a){this.id=(this.el=a||null)&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.Element.getX(a)},
getPosY:function(a){return Ext.Element.getY(a)},swapNode:function(a,b){if(a.swapNode)a.swapNode(b);else{var c=b.parentNode,d=b.nextSibling;if(d==a)c.insertBefore(a,b);else if(b==a.nextSibling)c.insertBefore(b,a);else{a.parentNode.replaceChild(b,a);c.insertBefore(a,d)}}},getScroll:function(){var a=window.document,b=a.documentElement,a=a.body,c=0,d=0;if(Ext.isGecko4){c=window.scrollYOffset;d=window.scrollXOffset}else if(b&&(b.scrollTop||b.scrollLeft)){c=b.scrollTop;d=b.scrollLeft}else if(a){c=a.scrollTop;
d=a.scrollLeft}return{top:c,left:d}},getStyle:function(a,b){return Ext.fly(a).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,b){var c=Ext.Element.getXY(b);Ext.Element.setXY(a,c)},numericSort:function(a,b){return a-b},_timeoutCount:0,_addListeners:function(){if(document)this._onLoad();else if(this._timeoutCount<=2E3){setTimeout(this._addListeners,10);if(document&&document.body)this._timeoutCount=this._timeoutCount+
1}},handleWasClicked:function(a,b){if(this.isHandle(b,a.id))return true;for(var c=a.parentNode;c;){if(this.isHandle(b,c.id))return true;c=c.parentNode}return false}},function(){this._addListeners()});
Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.BoxLayout",requires:["Ext.layout.container.boxOverflow.None","Ext.layout.container.boxOverflow.Menu","Ext.layout.container.boxOverflow.Scroller","Ext.util.Format","Ext.dd.DragDropManager"],defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:void 0,stretchMaxPartner:void 0,type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+
"box-layout-ct",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" style="position:absolute;',"width:20000px;","left:0px;top:0px;",
'height:1px">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(a){var b;this.callParent(arguments);this.flexSortFn=Ext.Function.bind(this.flexSort,this);this.initOverflowHandler();b=typeof this.padding;if(b=="string"||b=="number"){this.padding=Ext.util.Format.parseBox(this.padding);this.padding.height=this.padding.top+
this.padding.bottom;this.padding.width=this.padding.left+this.padding.right}},getNames:function(){return this.names},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(a,b){var c=this.sizePolicy,d=this.align,e=a.flex,g=d,h=this.names,i=a[h.height],j=this._percentageRe,k=j.test(a[h.width]),l=d=="stretch";if((l||e||k)&&!b)b=this.owner.getSizeModel();l?!j.test(i)&&b[h.height].shrinkWrap&&(g="stretchmax"):d!="stretchmax"&&(g=j.test(i)?"stretch":"");if((e||k)&&!b[h.width].shrinkWrap)c=
c.flex;return c[g]},flexSort:function(a,b){var c=this.getNames().maxWidth,a=a.target[c]||Infinity,b=b.target[c]||Infinity;return!isFinite(a)&&!isFinite(b)?0:a-b},isItemBoxParent:function(){return true},isItemShrinkWrap:function(){return true},minSizeSortFn:function(a,b){return b.available-a.available},roundFlex:function(a){return Math.ceil(a)},beginCollapse:function(a){if(this.direction==="vertical"&&a.collapsedVertical()){a.collapseMemento.capture(["flex"]);delete a.flex}else if(this.direction===
"horizontal"&&a.collapsedHorizontal()){a.collapseMemento.capture(["flex"]);delete a.flex}},beginExpand:function(a){a.collapseMemento.restore(["flex"])},beginLayout:function(a){var b=this.owner.stretchMaxPartner,c=this.innerCt.dom.style,d=this.getNames();a.boxNames=d;this.overflowHandler.beginLayout(a);typeof b==="string"&&(b=Ext.getCmp(b)||this.owner.query(b)[0]);a.stretchMaxPartner=b&&a.context.getCmp(b);this.callParent(arguments);a.innerCtContext=a.getEl("innerCt",this);this.scrollParallel=!(!this.owner.autoScroll&&
!this.owner[d.overflowX]);this.scrollPerpendicular=!(!this.owner.autoScroll&&!this.owner[d.overflowY]);if(this.scrollParallel)this.scrollPos=this.owner.getTargetEl().dom[d.scrollLeft];c.width="";c.height=""},beginLayoutCycle:function(a,b){var c=this.align,d=a.boxNames,e=this.pack,g=d.heightModel;this.overflowHandler.beginLayoutCycle(a,b);this.callParent(arguments);a.parallelSizeModel=a[d.widthModel];a.perpendicularSizeModel=a[g];a.boxOptions={align:c={stretch:c=="stretch",stretchmax:c=="stretchmax",
center:c==d.center},pack:e={center:e=="center",end:e=="end"}};if(c.stretch&&a.perpendicularSizeModel.shrinkWrap){c.stretchmax=true;c.stretch=false}c.nostretch=!(c.stretch||c.stretchmax);if(a.parallelSizeModel.shrinkWrap)e.center=e.end=false;this.cacheFlexes(a);Ext.isWebKit&&this.targetEl.setWidth(2E4)},cacheFlexes:function(a){for(var b=a.boxNames,c=b.widthModel,d=b.heightModel,e=a.boxOptions.align.nostretch,g=0,h=a.childItems,i=h.length,j=[],k=0,l=b.minWidth,m=this._percentageRe,n=0,o=0,p,q,r;i--;){q=
h[i];p=q.target;if(q[c].calculated)if(q.flex=r=p.flex){g=g+r;j.push(q);k=k+(p[l]||0)}else{r=m.exec(p[b.width]);q.percentageParallel=parseFloat(r[1])/100;++n}if(e&&q[d].calculated){r=m.exec(p[b.height]);q.percentagePerpendicular=parseFloat(r[1])/100;++o}}a.flexedItems=j;a.flexedMinSize=k;a.totalFlex=g;a.percentageWidths=n;a.percentageHeights=o;Ext.Array.sort(j,this.flexSortFn)},calculate:function(a){var b=this.getContainerSize(a),c=a.boxNames,d=a.state,e=d.boxPlan||(d.boxPlan={});e.targetSize=b;if(!a.parallelSizeModel.shrinkWrap&&
!b[c.gotWidth])this.done=false;else{if(!d.parallelDone)d.parallelDone=this.calculateParallel(a,c,e);if(!d.perpendicularDone)d.perpendicularDone=this.calculatePerpendicular(a,c,e);if(d.parallelDone&&d.perpendicularDone){if(this.owner.dock&&(Ext.isIE6||Ext.isIE7||Ext.isIEQuirks)&&!this.owner.width&&!this.horizontal){e.isIEVerticalDock=true;e.calculatedWidth=e.maxSize+a.getPaddingInfo().width+a.getFrameInfo().width}this.publishInnerCtSize(a,this.reserveOffset?this.availableSpaceOffset:0);if(this.done&&
a.childItems.length>1&&a.boxOptions.align.stretchmax&&!d.stretchMaxDone){this.calculateStretchMax(a,c,e);d.stretchMaxDone=true}}else this.done=false}},calculateParallel:function(a,b,c){var d=b.width,e=a.childItems,g=b.left,h=b.right,i=b.setWidth,j=e.length,k=a.flexedItems,l=k.length,m=a.boxOptions.pack,n=this.padding,o=c.targetSize[d],p=0,q=n[g],r=q+n[h]+this.scrollOffset+(this.reserveOffset?this.availableSpaceOffset:0),n=Ext.getScrollbarSize()[b.width],s,t,u,v,w;if(n&&this.scrollPerpendicular&&a.parallelSizeModel.shrinkWrap&&
!a.boxOptions.align.stretch&&!a.perpendicularSizeModel.shrinkWrap){if(!a.state.perpendicularDone)return false;w=true}for(s=0;s<j;++s){u=e[s];t=u.marginInfo||u.getMarginInfo();p=p+t[d];if(!u[b.widthModel].calculated){t=u.getProp(d);r=r+t;if(isNaN(r))return false}}r=r+p;if(a.percentageWidths){p=o-p;if(isNaN(p))return false;for(s=0;s<j;++s){u=e[s];if(u.percentageParallel){t=Math.ceil(p*u.percentageParallel);t=u.setWidth(t);r=r+t}}}if(a.parallelSizeModel.shrinkWrap){c.availableSpace=0;c.tooNarrow=false}else{c.availableSpace=
o-r;c.tooNarrow=c.availableSpace<a.flexedMinSize;if(c.tooNarrow&&Ext.getScrollbarSize()[b.height]&&this.scrollParallel&&a.state.perpendicularDone){a.state.perpendicularDone=false;for(s=0;s<j;++s)e[s].invalidate()}}o=r;p=c.availableSpace;r=a.totalFlex;for(s=0;s<l;s++){u=k[s];t=u.flex;v=this.roundFlex(t/r*p);v=u[i](v);o=o+v;p=Math.max(0,p-v);r=r-t}if(m.center){q=q+p/2;q<0&&(q=0)}else m.end&&(q=q+p);for(s=0;s<j;++s){u=e[s];t=u.marginInfo;q=q+t[g];u.setProp(b.x,q);q=q+(t[h]+u.props[d])}o=o+a.targetContext.getPaddingInfo()[d];
a.state.contentWidth=o;if(w&&a.peek(b.contentHeight)>c.targetSize[b.height]){o=o+n;a[b.hasOverflowY]=true;a.target.componentLayout[b.setWidthInDom]=true;a[b.invalidateScrollY]=Ext.isStrict&&Ext.isIE8}a[b.setContentWidth](o);return true},calculatePerpendicular:function(a,b,c){var d=a.perpendicularSizeModel.shrinkWrap,e=a.childItems,g=e.length,h=Math.max,i=b.height,j=b.setHeight,k=b.top,l=b.y,m=this.padding,n=m[k],o=c.targetSize[i]-n-m[b.bottom],p=a.boxOptions.align,m=p.stretch,q=p.stretchmax,p=p.center,
r=0,s=0,t=Ext.getScrollbarSize().height,u,v,w,y,x,z;if((m||p&&!d)&&isNaN(o))return false;if(this.scrollParallel&&c.tooNarrow)if(d)z=true;else{o=o-t;c.targetSize[i]=c.targetSize[i]-t}if(m)y=o;else{for(u=0;u<g;u++){x=e[u];w=(x.marginInfo||x.getMarginInfo())[i];if(v=x.percentagePerpendicular){++s;if(d)continue;else{v=v*o-w;v=x[b.setHeight](v)}}else v=x.getProp(i);if(isNaN(r=h(r,v+w,x.target[b.minHeight]||0)))return false}if(z){r=r+t;a[b.hasOverflowX]=true;a.target.componentLayout[b.setHeightInDom]=true;
a[b.invalidateScrollX]=Ext.isStrict&&Ext.isIE8}if(u=a.stretchMaxPartner){a.setProp("maxChildHeight",r);if((x=u.childItems)&&x.length){r=h(r,u.getProp("maxChildHeight"));if(isNaN(r))return false}}a[b.setContentHeight](r+this.padding[i]+a.targetContext.getPaddingInfo()[i]);z&&(r=r-t);c.maxSize=r;if(q)y=r;else if(p||s){y=d?r:h(o,r);y=y-a.innerCtContext.getBorderInfo()[i]}}for(u=0;u<g;u++){x=e[u];w=x.marginInfo||x.getMarginInfo();a=n+w[k];if(m)x[j](y-w[i]);else{v=x.percentagePerpendicular;if(d&&v){w=
x.marginInfo||x.getMarginInfo();v=v*y-w[i];x.setHeight(v)}if(p){b=y-x.props[i];b>0&&(a=n+Math.round(b/2))}}x.setProp(l,a)}return true},calculateStretchMax:function(a,b,c){var d=b.height,e=b.width,a=a.childItems,g=a.length,c=c.maxSize,h=this.onBeforeInvalidateChild,i=this.onAfterInvalidateChild,j,k,l,m;for(l=0;l<g;++l){j=a[l];k=j.props;m=c-j.getMarginInfo()[d];(m!=k[d]||j[b.heightModel].constrained)&&j.invalidate({before:h,after:i,layout:this,childWidth:k[e],childHeight:m,childX:k.x,childY:k.y,names:b})}},
completeLayout:function(a){var b=a.boxNames,c=a.invalidateScrollX,d=a.invalidateScrollY,e,g,h,i;this.overflowHandler.completeLayout(a);if(c||d){e=this.getTarget();a=e.dom;i=a.style;if(c){g=e.getStyle("overflowX");if(g=="auto"){g=i.overflowX;i.overflowX="scroll"}else c=false}if(d){h=e.getStyle("overflowY");if(h=="auto"){h=i.overflowY;i.overflowY="scroll"}else d=false}if(c||d){a.scrollWidth;if(c)i.overflowX=g;if(d)i.overflowY=h}}if(this.scrollParallel)this.owner.getTargetEl().dom[b.scrollLeft]=this.scrollPos},
finishedLayout:function(a){this.overflowHandler.finishedLayout(a);this.callParent(arguments);Ext.isWebKit&&this.targetEl.setWidth(a.innerCtContext.props.width)},onBeforeInvalidateChild:function(a,b){var c=b.names.heightModel;if(!a[c].constrainedMax)a[c]=Ext.layout.SizeModel.calculated},onAfterInvalidateChild:function(a,b){var c=b.names;Ext.getScrollbarSize();var d=b.childHeight,e=b.childWidth;a.setProp("x",b.childX);a.setProp("y",b.childY);if(a[c.heightModel].calculated)a[c.setHeight](d);if(a[c.widthModel].calculated)a[c.setWidth](e)},
publishInnerCtSize:function(a,b){var c=a.boxNames,d=c.height,e=c.width,g=a.boxOptions.align,h=this.owner.dock,i=this.padding,j=a.state.boxPlan,k=j.targetSize,l=k[d],m=a.innerCtContext,e=(a.parallelSizeModel.shrinkWrap||j.tooNarrow&&this.scrollParallel?a.state.contentWidth:k[e])-(b||0);if(g.stretch)d=l;else{d=j.maxSize+i[c.top]+i[c.bottom]+m.getBorderInfo()[d];!a.perpendicularSizeModel.shrinkWrap&&g.center&&(d=Math.max(l,d))}m[c.setWidth](e);m[c.setHeight](d);if(isNaN(e+d))this.done=false;j.calculatedWidth&&
(h=="left"||h=="right")&&a.setWidth(j.calculatedWidth,true,true)},onRemove:function(a){this.callParent(arguments);if(this.overflowHandler)this.overflowHandler.onRemove(a);a.layoutMarginCap==this.id&&delete a.layoutMarginCap},initOverflowHandler:function(){var a=this.overflowHandler,b;typeof a=="string"&&(a={type:a});b="None";if(a&&a.type!==void 0)b=a.type;this.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+b,this,a)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},
calculateChildBox:Ext.deprecated(),calculateChildBoxes:Ext.deprecated(),updateChildBoxes:Ext.deprecated(),destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler);this.callParent(arguments)}});
Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.HBoxLayout",align:"top",type:"hbox",direction:"horizontal",horizontal:!0,names:{lr:"lr",left:"left",leftCap:"Left",right:"right",position:"left",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",
center:"middle",top:"top",topPosition:"top",bottom:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",scrollTop:"scrollTop",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",
setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom"},sizePolicy:{flex:{"":{setsWidth:1,setsHeight:0},stretch:{setsWidth:1,setsHeight:1},stretchmax:{readsHeight:1,setsWidth:1,setsHeight:1}},"":{setsWidth:0,setsHeight:0},stretch:{setsWidth:0,setsHeight:1},stretchmax:{readsHeight:1,setsWidth:0,setsHeight:1}}});
Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.VBoxLayout",align:"left",type:"vbox",direction:"vertical",horizontal:!1,names:{lr:"tb",left:"top",leftCap:"Top",right:"bottom",position:"top",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",
center:"center",top:"left",topPosition:"left",bottom:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",scrollTop:"scrollLeft",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",
setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom"},sizePolicy:{flex:{"":{setsWidth:0,setsHeight:1},stretch:{setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,setsWidth:1,setsHeight:1}},"":{setsWidth:0,setsHeight:0},stretch:{setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,setsWidth:1,setsHeight:0}}});
Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.toolbar.Fill","Ext.layout.container.HBox","Ext.layout.container.VBox"],uses:["Ext.toolbar.Separator"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:!1,enableOverflow:!1,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator",
" ":"tbspacer"},shortcutsHV:{"0":{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){if(!this.layout&&this.enableOverflow)this.layout={overflowHandler:"Menu"};if(this.dock==="right"||this.dock==="left")this.vertical=true;this.layout=Ext.applyIf(Ext.isString(this.layout)?{type:this.layout}:this.layout||{},{type:this.vertical?"vbox":"hbox",align:this.vertical?"stretchmax":"middle"});this.vertical&&this.addClsWithUI("vertical");if(this.ui==="footer")this.ignoreBorderManagement=
true;this.callParent();this.addEvents("overflowchange")},getRefItems:function(a){var b=this.callParent(arguments),c=this.layout;if(a&&this.enableOverflow)(c=c.overflowHandler)&&c.menu&&(b=b.concat(c.menu.getRefItems(a)));return b},lookupComponent:function(a){if(typeof a=="string"){var b=Ext.toolbar.Toolbar,b=b.shortcutsHV[this.vertical?1:0][a]||b.shortcuts[a],a=typeof b=="string"?{xtype:b}:b?Ext.apply({},b):{xtype:"tbtext",text:a};this.applyDefaults(a)}return this.callParent(arguments)},applyDefaults:function(a){Ext.isString(a)||
(a=this.callParent(arguments));return a},trackMenu:function(a,b){if(this.trackMenus&&a.menu){var c=b?"mun":"mon";this[c](a,"mouseover",this.onButtonOver,this);this[c](a,"menushow",this.onButtonMenuShow,this);this[c](a,"menuhide",this.onButtonMenuHide,this)}},constructButton:function(a){return a.events?a:Ext.widget(a.split?"splitbutton":this.defaultType,a)},onBeforeAdd:function(a){if(a.is("field")||a.is("button")&&this.ui!="footer")a.ui=a.ui+"-toolbar";a instanceof Ext.toolbar.Separator&&a.setUI(this.vertical?
"vertical":"horizontal");this.callParent(arguments)},onAdd:function(a){this.callParent(arguments);this.trackMenu(a)},onRemove:function(a){this.callParent(arguments);this.trackMenu(a,true)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(){delete this.activeMenuBtn}});
Ext.define("Ext.container.DockingContainer",{requires:["Ext.util.MixedCollection","Ext.Element"],isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},addDocked:function(a,b){var c=0,d,e,a=this.prepareItems(a);for(e=a.length;c<e;c++){d=a[c];d.dock=d.dock||"top";b!==void 0?this.dockedItems.insert(b+c,d):this.dockedItems.add(d);if(d.onAdded!==Ext.emptyFn)d.onAdded(this,
c);if(this.onDockedAdd!==Ext.emptyFn)this.onDockedAdd(d)}this.rendered&&!this.suspendLayout&&this.updateLayout();return a},destroyDockedItems:function(){var a=this.dockedItems,b;if(a)for(;b=a.first();)this.removeDocked(b,true)},doRenderDockedItems:function(a,b,c){var d=b.$comp.componentLayout;if(d.getDockedItems&&!b.$skipDockedItems)(d=(b=d.getDockedItems("render",!c))&&d.getItemsRenderTree(b))&&Ext.DomHelper.generateMarkup(d,a)},getDockedComponent:function(a){Ext.isObject(a)&&(a=a.getItemId());return this.dockedItems.get(a)},
getDockedItems:function(a,b){var c=this.getComponentLayout().getDockedItems("render",b);a&&c.length&&(c=Ext.ComponentQuery.query(a,c));return c},getDockingRefItems:function(a,b){var c=a&&"*,* *",d=this.getDockedItems(c,true);d.push.apply(d,b);c=this.getDockedItems(c,false);d.push.apply(d,c);return d},initDockingItems:function(){var a=this.dockedItems;this.dockedItems=new Ext.util.AbstractMixedCollection(false,this.getComponentId);a&&this.addDocked(a)},insertDocked:function(a,b){this.addDocked(b,a)},
onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(a,b){var c,d;if(!this.dockedItems.contains(a))return a;if(d=(c=this.componentLayout)&&this.rendered)c.onRemove(a);this.dockedItems.remove(a);a.onRemoved();this.onDockedRemove(a);b===true||b!==false&&this.autoDestroy?a.destroy():d&&c.afterRemove(a);!this.destroying&&!this.suspendLayout&&this.updateLayout();return a},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}});
Ext.define("Ext.panel.AbstractPanel",{extend:"Ext.container.Container",mixins:{docking:"Ext.container.DockingContainer"},requires:["Ext.util.MixedCollection","Ext.Element","Ext.toolbar.Toolbar"],baseCls:Ext.baseCSSPrefix+"panel",isPanel:!0,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",Ext.isIE6||Ext.isIE7||Ext.isIEQuirks?"<div></div>":"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">',
'<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:!0,emptyArray:[],initComponent:function(){if(this.frame&&this.border&&this.bodyBorder===void 0)this.bodyBorder=false;if(this.frame&&this.border&&(this.bodyBorder===false||this.bodyBorder===0))this.manageBodyBorders=true;this.callParent()},beforeDestroy:function(){this.destroyDockedItems();
this.callParent()},initItems:function(){this.callParent();this.initDockingItems()},initRenderData:function(){var a=this.callParent();this.initBodyStyles();this.protoBody.writeTo(a);delete this.protoBody;return a},getComponent:function(a){var b=this.callParent(arguments);b===void 0&&!Ext.isNumber(a)&&(b=this.getDockedComponent(a));return b},getProtoBody:function(){var a=this.protoBody;if(!a)this.protoBody=a=new Ext.util.ProtoElement({cls:this.bodyCls,style:this.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",
styleIsText:true});return a},initBodyStyles:function(){var a=this.getProtoBody(),b=Ext.Element;this.bodyPadding!==void 0&&a.setStyle("padding",b.unitizeBox(this.bodyPadding===true?5:this.bodyPadding));if(this.frame&&this.bodyBorder){if(!Ext.isNumber(this.bodyBorder))this.bodyBorder=1;a.setStyle("border-width",b.unitizeBox(this.bodyBorder))}},getCollapsedDockedItems:function(){return this.collapseMode=="placeholder"?this.emptyArray:[this.getReExpander()]},setBodyStyle:function(a,b){var c=this.rendered?
this.body:this.getProtoBody();Ext.isFunction(a)&&(a=a());if(arguments.length==1){Ext.isString(a)&&(a=Ext.Element.parseStyles(a));c.setStyle(a)}else c.setStyle(a,b);return this},addBodyCls:function(a){(this.rendered?this.body:this.getProtoBody()).addCls(a);return this},removeBodyCls:function(a){(this.rendered?this.body:this.getProtoBody()).removeCls(a);return this},addUIClsToElement:function(a){var b=this.callParent(arguments);this.addBodyCls([Ext.baseCSSPrefix+a,this.baseCls+"-body-"+a,this.baseCls+
"-body-"+this.ui+"-"+a]);return b},removeUIClsFromElement:function(a){var b=this.callParent(arguments);this.removeBodyCls([Ext.baseCSSPrefix+a,this.baseCls+"-body-"+a,this.baseCls+"-body-"+this.ui+"-"+a]);return b},addUIToElement:function(){this.callParent(arguments);this.addBodyCls(this.baseCls+"-body-"+this.ui)},removeUIFromElement:function(){this.callParent(arguments);this.removeBodyCls(this.baseCls+"-body-"+this.ui)},getTargetEl:function(){return this.body},getRefItems:function(a){var b=this.callParent(arguments);
return this.getDockingRefItems(a,b)},setupRenderTpl:function(a){this.callParent(arguments);this.setupDockingRenderTpl(a)}});
Ext.define("Ext.panel.Header",{extend:"Ext.container.Container",uses:["Ext.panel.Tool","Ext.draw.Component","Ext.util.CSS","Ext.layout.component.Body","Ext.Img"],alias:"widget.header",isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,componentLayout:"body",titleAlign:"left",childEls:["body"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}",
"</div>"],headingTpl:'<span id="{id}-textEl" class="{cls}-text {cls}-text-{ui}">{title}</span>',shrinkWrap:3,initComponent:function(){var a,b;this.addEvents("click","dblclick");this.indicateDragCls=this.baseCls+"-draggable";this.title=this.title||"&#160;";this.tools=this.tools||[];this.items=this.items||[];this.orientation=this.orientation||"horizontal";this.dock=this.dock?this.dock:this.orientation=="horizontal"?"top":"left";this.addClsWithUI([this.orientation,this.dock]);this.indicateDrag&&this.addCls(this.indicateDragCls);
if(!Ext.isEmpty(this.iconCls)||!Ext.isEmpty(this.icon)){this.initIconCmp();this.items.push(this.iconCmp)}if(this.orientation=="vertical"){this.layout={type:"vbox",align:"center"};this.textConfig={width:16,cls:this.baseCls+"-text",type:"text",text:this.title,rotate:{degrees:90}};b=this.ui;Ext.isArray(b)&&(b=b[0]);a="."+this.baseCls+"-text-"+b;Ext.scopeResetCSS&&(a="."+Ext.baseCSSPrefix+"reset "+a);if(a=Ext.util.CSS.getRule(a))b=a.style;else{b=(a=Ext.resetElement.createChild({style:"position:absolute",
cls:this.baseCls+"-text-"+b})).getStyles("fontFamily","fontWeight","fontSize","color");a.remove()}b&&Ext.apply(this.textConfig,{"font-family":b.fontFamily,"font-weight":b.fontWeight,"font-size":b.fontSize,fill:b.color});this.titleCmp=new Ext.draw.Component({width:16,ariaRole:"heading",focusable:false,viewBox:false,flex:1,id:this.id+"_hd",autoSize:true,items:this.textConfig,xhooks:{setSize:function(a){this.callParent([a])}},childEls:[{name:"textEl",select:"."+this.baseCls+"-text"}]})}else{this.layout=
{type:"hbox",align:"middle"};this.titleCmp=new Ext.Component({ariaRole:"heading",focusable:false,noWrap:true,flex:1,id:this.id+"_hd",style:"text-align:"+this.titleAlign,cls:this.baseCls+"-text-container",renderTpl:this.getTpl("headingTpl"),renderData:{title:this.title,cls:this.baseCls,ui:this.ui},childEls:["textEl"]})}this.items.push(this.titleCmp);this.items=this.items.concat(this.tools);this.callParent();this.on({dblclick:this.onDblClick,click:this.onClick,element:"el",scope:this})},initIconCmp:function(){var a=
{focusable:false,src:Ext.BLANK_IMAGE_URL,cls:[this.baseCls+"-icon",this.iconCls],id:this.id+"-iconEl",iconCls:this.iconCls};if(!Ext.isEmpty(this.icon)){delete a.iconCls;a.src=this.icon}this.iconCmp=new Ext.Img(a)},afterRender:function(){this.el.unselectable();this.callParent()},addUIClsToElement:function(a){var b=this.callParent(arguments),c=[this.baseCls+"-body-"+a,this.baseCls+"-body-"+this.ui+"-"+a],d,e;if(this.bodyCls){d=this.bodyCls.split(" ");for(e=0;e<c.length;e++)Ext.Array.contains(d,c[e])||
d.push(c[e]);this.bodyCls=d.join(" ")}else this.bodyCls=c.join(" ");return b},removeUIClsFromElement:function(a){var b=this.callParent(arguments),c=[this.baseCls+"-body-"+a,this.baseCls+"-body-"+this.ui+"-"+a],d,e;if(this.bodyCls){d=this.bodyCls.split(" ");for(e=0;e<c.length;e++)Ext.Array.remove(d,c[e]);this.bodyCls=d.join(" ")}return b},addUIToElement:function(){var a,b;this.callParent(arguments);b=this.baseCls+"-body-"+this.ui;if(this.rendered)this.bodyCls?this.body.addCls(this.bodyCls):this.body.addCls(b);
else if(this.bodyCls){a=this.bodyCls.split(" ");Ext.Array.contains(a,b)||a.push(b);this.bodyCls=a.join(" ")}else this.bodyCls=b;this.titleCmp&&(this.titleCmp.rendered&&this.titleCmp.textEl)&&this.titleCmp.textEl.addCls(this.baseCls+"-text-"+this.ui)},removeUIFromElement:function(){var a,b;this.callParent(arguments);b=this.baseCls+"-body-"+this.ui;if(this.rendered)this.bodyCls?this.body.removeCls(this.bodyCls):this.body.removeCls(b);else if(this.bodyCls){a=this.bodyCls.split(" ");Ext.Array.remove(a,
b);this.bodyCls=a.join(" ")}else this.bodyCls=b;this.titleCmp&&(this.titleCmp.rendered&&this.titleCmp.textEl)&&this.titleCmp.textEl.removeCls(this.baseCls+"-text-"+this.ui)},onClick:function(a){this.fireClickEvent("click",a)},onDblClick:function(a){this.fireClickEvent("dblclick",a)},fireClickEvent:function(a,b){b.getTarget("."+Ext.panel.Tool.prototype.baseCls)||this.fireEvent(a,this,b)},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},setTitle:function(a){var b=
this,c,d;if(b.rendered)if(b.titleCmp.rendered){if(b.titleCmp.surface){b.title=a||"";c=b.titleCmp.surface.items.items[0];d=b.titleCmp.surface;d.remove(c);b.textConfig.type="text";b.textConfig.text=a;c=d.add(b.textConfig);c.setAttributes({rotate:{degrees:90}},true);b.titleCmp.autoSizeSurface()}else{b.title=a;b.titleCmp.textEl.update(b.title||"&#160;")}b.titleCmp.updateLayout()}else b.titleCmp.on({render:function(){b.setTitle(a)},single:true});else b.title=a},getMinWidth:function(){var a=this.titleCmp.textEl.dom,
b,c=this.tools,d;a.style.display="inline";b=a.offsetWidth;a.style.display="";if(c&&(d=c.length))for(a=0;a<d;a++)c[a].el&&(b=b+c[a].el.dom.offsetWidth);this.iconCmp&&(b=b+this.iconCmp.el.dom.offsetWidth);return b+10},setIconCls:function(a){var b=!a||!a.length,c=this.iconCmp;this.iconCls=a;if(!this.iconCmp&&!b){this.initIconCmp();this.insert(0,this.iconCmp)}else if(c)if(b){this.iconCmp.destroy();delete this.iconCmp}else{c.removeCls(c.iconCls);c.addCls(a);c.iconCls=a}},setIcon:function(a){var b=!a||
!a.length,c=this.iconCmp;this.icon=a;if(!this.iconCmp&&!b){this.initIconCmp();this.insert(0,this.iconCmp)}else if(c)if(b){this.iconCmp.destroy();delete this.iconCmp}else c.setSrc(this.icon)},addTool:function(a){this.tools.push(this.add(a))},onAdd:function(a,b){this.callParent(arguments);if(a instanceof Ext.panel.Tool){a.bindTo(this.ownerCt);this.tools[a.type]=a}},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls})}});
Ext.define("Ext.fx.target.Target",{isAnimTarget:!0,constructor:function(a){this.target=a;this.id=this.getId()},getId:function(){return this.target.id}});
Ext.define("Ext.fx.target.Element",{extend:"Ext.fx.target.Target",type:"element",getElVal:function(a,b,c){c==void 0&&(c=b==="x"?a.getX():b==="y"?a.getY():b==="scrollTop"?a.getScroll().top:b==="scrollLeft"?a.getScroll().left:b==="height"?a.getHeight():b==="width"?a.getWidth():a.getStyle(b));return c},getAttr:function(a,b){var c=this.target;return[[c,this.getElVal(c,a,b)]]},setAttr:function(a){var b=a.length,c,d,e,g,h,i,j;for(g=0;g<b;g++){c=a[g].attrs;for(d in c)if(c.hasOwnProperty(d)){i=c[d].length;
for(h=0;h<i;h++){e=c[d][h];j=e[0];e=e[1];d==="x"?j.setX(e):d==="y"?j.setY(e):d==="scrollTop"?j.scrollTo("top",e):d==="scrollLeft"?j.scrollTo("left",e):d==="width"?j.setWidth(e):d==="height"?j.setHeight(e):j.setStyle(d,e)}}}}});
Ext.define("Ext.fx.target.ElementCSS",{extend:"Ext.fx.target.Element",setAttr:function(a,b){var c=[],d=[],e=[],g=a.length,h,i,j,k,l,m;for(l=0;l<g;l++){h=a[l];k=h.duration;j=h.easing;h=h.attrs;for(i in h)if(Ext.Array.indexOf(c,i)==-1){c.push(i.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));d.push(k+"ms");e.push(j)}}c=c.join(",");k=d.join(",");j=e.join(", ");for(l=0;l<g;l++){h=a[l].attrs;for(i in h){m=h[i].length;for(e=0;e<m;e++){d=h[i][e];d[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",
b?"":c);d[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",b?"":k);d[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",b?"":j);d[0].setStyle(i,d[1]);if(b)d=d[0].dom.offsetWidth;else d[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},d[0],{single:true})}}}}});
Ext.define("Ext.fx.target.CompositeElement",{extend:"Ext.fx.target.Element",isComposite:!0,constructor:function(a){a.id=a.id||Ext.id(null,"ext-composite-");this.callParent([a])},getAttr:function(a,b){var c=[],d=this.target.elements,e=d.length,g,h;for(g=0;g<e;g++)if(h=d[g]){h=this.target.getElement(h);c.push([h,this.getElVal(h,a,b)])}return c}});
Ext.define("Ext.fx.target.CompositeElementCSS",{extend:"Ext.fx.target.CompositeElement",requires:["Ext.fx.target.ElementCSS"],setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}});
Ext.define("Ext.fx.target.Sprite",{extend:"Ext.fx.target.Target",type:"draw",getFromPrim:function(a,b){var c;switch(b){case "rotate":case "rotation":c=a.attr.rotation;return{x:c.x||0,y:c.y||0,degrees:c.degrees||0};case "scale":case "scaling":c=a.attr.scaling;return{x:c.x||1,y:c.y||1,cx:c.cx||0,cy:c.cy||0};case "translate":case "translation":c=a.attr.translation;return{x:c.x||0,y:c.y||0};default:return a.attr[b]}},getAttr:function(a,b){return[[this.target,b!=void 0?b:this.getFromPrim(this.target,a)]]},
setAttr:function(a){var b=a.length,c=[],d,e,g,h,i,j,k,l,m,n;for(k=0;k<b;k++){d=a[k].attrs;for(e in d){g=d[e];n=g.length;for(l=0;l<n;l++){i=g[l][0];h=g[l][1];if(e==="translate"||e==="translation")j={x:h.x,y:h.y};else if(e==="rotate"||e==="rotation"){j=h.x;isNaN(j)&&(j=null);m=h.y;isNaN(m)&&(m=null);j={degrees:h.degrees,x:j,y:m}}else if(e==="scale"||e==="scaling"){j=h.x;isNaN(j)&&(j=null);m=h.y;isNaN(m)&&(m=null);j={x:j,y:m,cx:h.cx,cy:h.cy}}else j=e==="width"||e==="height"||e==="x"||e==="y"?parseFloat(h):
h;h=Ext.Array.indexOf(c,i);if(h==-1){c.push([i,{}]);h=c.length-1}c[h][1][e]=j}}}b=c.length;for(k=0;k<b;k++)c[k][0].setAttributes(c[k][1]);this.target.redraw()}});Ext.define("Ext.fx.target.CompositeSprite",{extend:"Ext.fx.target.Sprite",getAttr:function(a,b){var c=[],d=[].concat(this.target.items),e=d.length,g,h;for(g=0;g<e;g++){h=d[g];c.push([h,b!=void 0?b:this.getFromPrim(h,a)])}return c}});
Ext.define("Ext.fx.target.Component",{extend:"Ext.fx.target.Target",type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},compMethod:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",
height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(a,b){return[[this.target,b!==void 0?b:this.getPropMethod[a].call(this.target)]]},setAttr:function(a,b,c){var b=a.length,d,e,g,h,i,j,k;for(h=0;h<b;h++){d=a[h].attrs;for(e in d){k=d[e].length;j={setPosition:{},setPagePosition:{},setSize:{},setOpacity:{}};for(i=0;i<k;i++){g=d[e][i];j[this.compMethod[e]].target=g[0];j[this.compMethod[e]][e]=g[1]}if(j.setPosition.target){g=j.setPosition;i=g.left===void 0?void 0:parseFloat(g.left);
k=g.top===void 0?void 0:parseFloat(g.top);g.target.setPosition(i,k)}if(j.setPagePosition.target){g=j.setPagePosition;g.target.setPagePosition(g.x,g.y)}if(j.setSize.target){g=j.setSize;i=g.width===void 0?g.target.getWidth():parseFloat(g.width);k=g.height===void 0?g.target.getHeight():parseFloat(g.height);c||this.dynamic?g.target.setSize(i,k):g.target.el.setSize(i,k)}if(j.setOpacity.target){g=j.setOpacity;g.target.el.setStyle("opacity",g.opacity)}}}}});
Ext.define("Ext.fx.Queue",{requires:["Ext.util.HashMap"],constructor:function(){this.targets=new Ext.util.HashMap;this.fxQueue={}},getFxDefaults:function(a){return(a=this.targets.get(a))?a.fxDefaults:{}},setFxDefaults:function(a,b){var c=this.targets.get(a);if(c)c.fxDefaults=Ext.apply(c.fxDefaults||{},b)},stopAnimation:function(a){for(var a=this.getFxQueue(a),b=a.length;b;){a[b-1].end();b--}},getActiveAnimation:function(a){return(a=this.getFxQueue(a))&&a.length?a[0]:false},hasFxBlock:function(a){return(a=
this.getFxQueue(a))&&a[0]&&a[0].block},getFxQueue:function(a){if(!a)return false;var b=this,c=b.fxQueue[a],d=b.targets.get(a);if(!d)return false;if(!c){b.fxQueue[a]=[];if(d.type!="element")d.target.on("destroy",function(){b.fxQueue[a]=[]})}return b.fxQueue[a]},queueFx:function(a){var b=a.target,c,d;if(b){c=this.getFxQueue(b.getId());if(d=c.length)if(a.concurrent)a.paused=false;else c[d-1].on("afteranimate",function(){a.paused=false});else a.paused=false;a.on("afteranimate",function(){Ext.Array.remove(c,
a);if(a.remove&&b.type=="element"){var d=Ext.get(b.id);d&&d.remove()}},this);c.push(a)}}});
Ext.define("Ext.fx.Manager",{singleton:!0,requires:"Ext.util.MixedCollection Ext.fx.target.Element Ext.fx.target.ElementCSS Ext.fx.target.CompositeElement Ext.fx.target.CompositeElementCSS Ext.fx.target.Sprite Ext.fx.target.CompositeSprite Ext.fx.target.Component".split(" "),mixins:{queue:"Ext.fx.Queue"},constructor:function(){this.items=new Ext.util.MixedCollection;this.mixins.queue.constructor.call(this)},interval:16,forceJS:!0,createTarget:function(a){var b=!this.forceJS&&Ext.supports.Transitions;
this.useCSS3=b;if(a){if(a.tagName||Ext.isString(a)||a.isFly){a=Ext.get(a);a=new Ext.fx.target["Element"+(b?"CSS":"")](a)}else if(a.dom)a=new Ext.fx.target["Element"+(b?"CSS":"")](a);else if(a.isComposite)a=new Ext.fx.target["CompositeElement"+(b?"CSS":"")](a);else if(a.isSprite)a=new Ext.fx.target.Sprite(a);else if(a.isCompositeSprite)a=new Ext.fx.target.CompositeSprite(a);else if(a.isComponent)a=new Ext.fx.target.Component(a);else return a.isAnimTarget?a:null;this.targets.add(a);return a}return null},
addAnim:function(a){var b=this.items,c=this.task;b.add(a.id,a);if(!c&&b.length){c=this.task={run:this.runner,interval:this.interval,scope:this};Ext.TaskManager.start(c)}},removeAnim:function(a){var b=this.items,c=this.task;b.removeAtKey(a.id);if(c&&!b.length){Ext.TaskManager.stop(c);delete this.task}},runner:function(){var a=this.items.getRange(),b=0,c=a.length,d;this.targetArr={};for(this.timestamp=new Date;b<c;b++){d=a[b];d.isReady()&&this.startAnim(d)}for(b=0;b<c;b++){d=a[b];d.isRunning()&&this.runAnim(d)}this.applyPendingAttrs()},
startAnim:function(a){a.start(this.timestamp)},runAnim:function(a){if(a){a.target.getId();var b=this.useCSS3&&a.target.type=="element",c=this.timestamp-a.startTime,d=c>=a.duration,c=this.collectTargetData(a,c,b,d);if(b){a.target.setAttr(c.anims[a.id].attributes,true);this.collectTargetData(a,a.duration,b,d);a.paused=true;c=a.target.target;a.target.isComposite&&(c=a.target.target.last());b={};b[Ext.supports.CSS3TransitionEnd]=a.lastFrame;b.scope=a;b.single=true;c.on(b)}}},collectTargetData:function(a,
b,c,d){var e=a.target.getId(),g=this.targetArr[e];g||(g=this.targetArr[e]={id:e,el:a.target,anims:{}});g.anims[a.id]={id:a.id,anim:a,elapsed:b,isLastFrame:d,attributes:[{duration:a.duration,easing:c&&a.reverse?a.easingFn.reverse().toCSS3():a.easing,attrs:a.runAnim(b)}]};return g},applyPendingAttrs:function(){var a=this.targetArr,b,c,d,e,g;for(c in a)if(a.hasOwnProperty(c)){b=a[c];for(g in b.anims)if(b.anims.hasOwnProperty(g)){d=b.anims[g];e=d.anim;if(d.attributes&&e.isRunning()){b.el.setAttr(d.attributes,
false,d.isLastFrame);d.isLastFrame&&e.lastFrame()}}}}});
Ext.define("Ext.fx.Animator",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager"],isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(a){this.config=a=Ext.apply(this,a||{});this.id=Ext.id(null,"ext-animator-");this.addEvents("beforeanimate","keyframe","afteranimate");this.mixins.observable.constructor.call(this,a);this.timeline=
[];this.createTimeline(this.keyframes);if(this.target){this.applyAnimator(this.target);Ext.fx.Manager.addAnim(this)}},sorter:function(a,b){return a.pct-b.pct},createTimeline:function(a){var b=[],c=this.to||{},d=this.duration,e,g;for(e in a)if(a.hasOwnProperty(e)&&this.animKeyFramesRE.test(e)){g={attrs:Ext.apply(a[e],c)};e=="from"?e=0:e=="to"&&(e=100);g.pct=parseInt(e,10);b.push(g)}Ext.Array.sort(b,this.sorter);g=b.length;for(e=0;e<g;e++){a=b[e-1]?d*(b[e-1].pct/100):0;c=d*(b[e].pct/100);this.timeline.push({duration:c-
a,attrs:b[e].attrs})}},applyAnimator:function(a){var b=[],c=this.timeline,d=c.length,e,g,h,i,j;if(this.fireEvent("beforeanimate",this)!==false){for(j=0;j<d;j++){e=c[j];i=e.attrs;g=i.easing||this.easing;h=i.damper||this.damper;delete i.easing;delete i.damper;e=new Ext.fx.Anim({target:a,easing:g,damper:h,duration:e.duration,paused:true,to:i});b.push(e)}this.animations=b;this.target=e.target;for(j=0;j<d-1;j++){e=b[j];e.nextAnim=b[j+1];e.on("afteranimate",function(){this.nextAnim.paused=false});e.on("afteranimate",
function(){this.fireEvent("keyframe",this,++this.keyframeStep)},this)}b[d-1].on("afteranimate",function(){this.lastFrame()},this)}},start:function(a){var b=this.delay,c=this.delayStart;if(b)if(c){if(a-c<b)return;a=new Date(c.getTime()+b)}else{this.delayStart=a;return}if(this.fireEvent("beforeanimate",this)!==false){this.startTime=a;this.running=true;this.animations[this.keyframeStep].paused=false}},lastFrame:function(){var a=this.iterations,b=this.currentIteration;b++;if(b<a){this.startTime=new Date;
this.currentIteration=b;this.keyframeStep=0;this.applyAnimator(this.target);this.animations[this.keyframeStep].paused=false}else{this.currentIteration=0;this.end()}},end:function(){this.fireEvent("afteranimate",this,this.startTime,new Date-this.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}});
Ext.define("Ext.fx.CubicBezier",{singleton:!0,cubicBezierAtTime:function(a,b,c,d,e,g){function h(a,b){var c,d,e,g;e=a;for(d=0;d<8;d++){g=((k*e+j)*e+i)*e-a;if(Math.abs(g)<b)return e;c=(3*k*e+2*j)*e+i;if(Math.abs(c)<1.0E-6)break;e=e-g/c}c=0;d=1;e=a;if(e<c)return c;if(e>d)return d;for(;c<d;){g=((k*e+j)*e+i)*e;if(Math.abs(g-a)<b)break;a>g?c=e:d=e;e=(d-c)/2+c}return e}var i=3*b,j=3*(d-b)-i,k=1-i-j,l=3*c,m=3*(e-c)-l,n=1-l-m;return function(a,b){var c=h(a,b);return((n*c+m)*c+l)*c}(a,1/(200*g))},cubicBezier:function(a,
b,c,d){var e=function(e){return Ext.fx.CubicBezier.cubicBezierAtTime(e,a,b,c,d,1)};e.toCSS3=function(){return"cubic-bezier("+[a,b,c,d].join()+")"};e.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-c,1-d,1-a,1-b)};return e}});Ext.ns("Ext.fx");
Ext.require("Ext.fx.CubicBezier",function(){var a=Math,b=a.PI,c=a.pow,d=a.sin,e=a.sqrt,g=a.abs;Ext.fx.Easing={};Ext.apply(Ext.fx.Easing,{linear:function(a){return a},ease:function(a){var b=0.07813-a/2,d=e(0.0066+b*b),a=d-b,a=c(g(a),1/3)*(a<0?-1:1),b=-d-b,b=c(g(b),1/3)*(b<0?-1:1),a=a+b+0.25;return c(1-a,2)*3*a*0.1+(1-a)*3*a*a+a*a*a},easeIn:function(a){return c(a,1.7)},easeOut:function(a){return c(a,0.48)},easeInOut:function(a){var b=0.48-a/1.04,d=e(0.1734+b*b),a=d-b,a=c(g(a),1/3)*(a<0?-1:1),b=-d-b,
b=c(g(b),1/3)*(b<0?-1:1),a=a+b+0.5;return(1-a)*3*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a=a-1;return a*a*(2.70158*a+1.70158)+1},elasticIn:function(a){return a===0||a===1?a:c(2,-10*a)*d((a-0.075)*2*b/0.3)+1},elasticOut:function(a){return 1-Ext.fx.Easing.elasticIn(1-a)},bounceIn:function(a){return 1-Ext.fx.Easing.bounceOut(1-a)},bounceOut:function(a){if(a<1/2.75)a=7.5625*a*a;else if(a<2/2.75){a=a-1.5/2.75;a=7.5625*a*a+0.75}else if(a<2.5/2.75){a=a-2.25/2.75;
a=7.5625*a*a+0.9375}else{a=a-2.625/2.75;a=7.5625*a*a+0.984375}return a}});Ext.apply(Ext.fx.Easing,{"back-in":Ext.fx.Easing.backIn,"back-out":Ext.fx.Easing.backOut,"ease-in":Ext.fx.Easing.easeIn,"ease-out":Ext.fx.Easing.easeOut,"elastic-in":Ext.fx.Easing.elasticIn,"elastic-out":Ext.fx.Easing.elasticIn,"bounce-in":Ext.fx.Easing.bounceIn,"bounce-out":Ext.fx.Easing.bounceOut,"ease-in-out":Ext.fx.Easing.easeInOut})});
Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:0.2,constructor:function(a,b,c){var d=Ext.Number.constrain;this.r=d(a,0,255);this.g=d(b,0,255);this.b=d(c,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){return[this.r,
this.g,this.b]},getHSL:function(){var a=this.r/255,b=this.g/255,c=this.b/255,d=Math.max(a,b,c),e=Math.min(a,b,c),g=d-e,h,i=0,j=0.5*(d+e);if(e!=d){i=j<0.5?g/(d+e):g/(2-d-e);h=a==d?60*(b-c)/g:b==d?120+60*(c-a)/g:240+60*(a-b)/g;h<0&&(h=h+360);h>=360&&(h=h-360)}return[h,i,j]},getLighter:function(a){var b=this.getHSL(),a=a||this.lightnessFactor;b[2]=Ext.Number.constrain(b[2]+a,0,1);return this.fromHSL(b[0],b[1],b[2])},getDarker:function(a){a=a||this.lightnessFactor;return this.getLighter(-a)},toString:function(){var a=
Math.round,b=a(this.r).toString(16),c=a(this.g).toString(16),a=a(this.b).toString(16),b=b.length==1?"0"+b:b,c=c.length==1?"0"+c:c,a=a.length==1?"0"+a:a;return["#",b,c,a].join("")},toHex:function(a){Ext.isArray(a)&&(a=a[0]);if(!Ext.isString(a))return"";if(a.substr(0,1)==="#")return a;var b=this.colorToHexRe.exec(a),c,d;if(Ext.isArray(b)){a=parseInt(b[2],10);c=parseInt(b[3],10);d=parseInt(b[4],10);return b[1]+"#"+("000000"+(d|c<<8|a<<16).toString(16)).slice(-6)}return a},fromString:function(a){var b,
c,d,e,g=parseInt;if((a.length==4||a.length==7)&&a.substr(0,1)==="#"){if(b=a.match(this.hexRe)){c=g(b[1],16)>>0;d=g(b[2],16)>>0;e=g(b[3],16)>>0;if(a.length==4){c=c+c*16;d=d+d*16;e=e+e*16}}}else if(b=a.match(this.rgbRe)){c=b[1];d=b[2];e=b[3]}return typeof c=="undefined"?void 0:new Ext.draw.Color(c,d,e)},getGrayscale:function(){return this.r*0.3+this.g*0.59+this.b*0.11},fromHSL:function(a,b,c){var d,e=[];d=Math.abs;var g=Math.floor;if(b==0||a==null)e=[c,c,c];else{a=a/60;b=b*(1-d(2*c-1));d=b*(1-d(a-2*
g(a/2)-1));c=c-b/2;switch(g(a)){case 0:e=[b,d,0];break;case 1:e=[d,b,0];break;case 2:e=[0,b,d];break;case 3:e=[0,d,b];break;case 4:e=[d,0,b];break;case 5:e=[b,0,d]}e=[e[0]+c,e[1]+c,e[2]+c]}return new Ext.draw.Color(e[0]*255,e[1]*255,e[2]*255)}},function(){var a=this.prototype;this.addStatics({fromHSL:function(){return a.fromHSL.apply(a,arguments)},fromString:function(){return a.fromString.apply(a,arguments)},toHex:function(){return a.toHex.apply(a,arguments)}})});
Ext.define("Ext.draw.Draw",{singleton:!0,requires:["Ext.draw.Color"],pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color",
"stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(a,b){b=(""+b).toLowerCase();return b=="object"&&a===Object(a)||b=="undefined"&&typeof a==b||b=="null"&&a===null||b=="array"&&Array.isArray&&Array.isArray(a)||Object.prototype.toString.call(a).toLowerCase().slice(8,-1)==b},ellipsePath:function(a){a=a.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",a.x,a.y-a.ry,a.rx,a.ry,a.y+a.ry)},rectPath:function(a){a=a.attr;return a.radius?
Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a.x+a.radius,a.y,a.width-a.radius*2,a.radius,-a.radius,a.height-a.radius*2,a.radius*2-a.width,a.radius*2-a.height):Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",a.x,a.y,a.width+a.x,a.height+a.y)},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(a){return a.join(",").replace(Ext.draw.Draw.pathToStringRE,
"$1")},parsePathString:function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[],d=this;d.is(a,"array")&&d.is(a[0],"array")&&(c=d.pathClone(a));c.length||(""+a).replace(d.pathCommandRE,function(a,g,h){var i=[],a=g.toLowerCase();h.replace(d.pathValuesRE,function(a,b){b&&i.push(+b)});if(a=="m"&&i.length>2){c.push([g].concat(Ext.Array.splice(i,0,2)));a="l";g=g=="m"?"l":"L"}for(;i.length>=b[a];){c.push([g].concat(Ext.Array.splice(i,0,b[a])));if(!b[a])break}});c.toString=d.path2string;
return c},mapPath:function(a,b){if(!b)return a;var c,d,e,g,h,i,j,a=this.path2curve(a);e=0;for(g=a.length;e<g;e++){j=a[e];h=1;for(i=j.length;h<i-1;h=h+2){c=b.x(j[h],j[h+1]);d=b.y(j[h],j[h+1]);j[h]=c;j[h+1]=d}}return a},pathClone:function(a){var b=[],c,d,e,g;if(!this.is(a,"array")||!this.is(a&&a[0],"array"))a=this.parsePathString(a);e=0;for(g=a.length;e<g;e++){b[e]=[];c=0;for(d=a[e].length;c<d;c++)b[e][c]=a[e][c]}b.toString=this.path2string;return b},pathToAbsolute:function(a){if(!this.is(a,"array")||
!this.is(a&&a[0],"array"))a=this.parsePathString(a);var b=[],c=0,d=0,e=0,g=0,h=0,i=a.length,j,k,l,m;if(i&&a[0][0]=="M"){c=+a[0][1];d=+a[0][2];e=c;g=d;h++;b[0]=["M",c,d]}for(;h<i;h++){j=b[h]=[];k=a[h];if(k[0]!=k[0].toUpperCase()){j[0]=k[0].toUpperCase();switch(j[0]){case "A":j[1]=k[1];j[2]=k[2];j[3]=k[3];j[4]=k[4];j[5]=k[5];j[6]=+(k[6]+c);j[7]=+(k[7]+d);break;case "V":j[1]=+k[1]+d;break;case "H":j[1]=+k[1]+c;break;case "M":e=+k[1]+c;g=+k[2]+d;default:l=1;for(m=k.length;l<m;l++)j[l]=+k[l]+(l%2?c:d)}}else{l=
0;for(m=k.length;l<m;l++)b[h][l]=k[l]}switch(j[0]){case "Z":c=e;d=g;break;case "H":c=j[1];break;case "V":d=j[1];break;case "M":k=b[h];m=k.length;e=k[m-2];g=k[m-1];default:k=b[h];m=k.length;c=k[m-2];d=k[m-1]}}b.toString=this.path2string;return b},pathToRelative:function(a){if(!this.is(a,"array")||!this.is(a&&a[0],"array"))a=this.parsePathString(a);var b=[],c=0,d=0,e=0,g=0,h=0,i,j,k,l,m;if(a[0][0]=="M"){c=a[0][1];d=a[0][2];e=c;g=d;h++;b.push(["M",c,d])}for(l=a.length;h<l;h++){i=b[h]=[];j=a[h];if(j[0]!=
j[0].toLowerCase()){i[0]=j[0].toLowerCase();switch(i[0]){case "a":i[1]=j[1];i[2]=j[2];i[3]=j[3];i[4]=j[4];i[5]=j[5];i[6]=+(j[6]-c).toFixed(3);i[7]=+(j[7]-d).toFixed(3);break;case "v":i[1]=+(j[1]-d).toFixed(3);break;case "m":e=j[1];g=j[2];default:k=1;for(m=j.length;k<m;k++)i[k]=+(j[k]-(k%2?c:d)).toFixed(3)}}else{b[h]=[];if(j[0]=="m"){e=j[1]+c;g=j[2]+d}i=0;for(k=j.length;i<k;i++)b[h][i]=j[i]}j=b[h].length;switch(b[h][0]){case "z":c=e;d=g;break;case "h":c=c+ +b[h][j-1];break;case "v":d=d+ +b[h][j-1];
break;default:c=c+ +b[h][j-2];d=d+ +b[h][j-1]}}b.toString=this.path2string;return b},path2curve:function(a){var a=this.pathToAbsolute(a),b=a.length,c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d,e,g;for(d=0;d<b;d++){a[d]=this.command2curve(a[d],c);if(a[d].length>7){a[d].shift();for(b=a[d];b.length;)Ext.Array.splice(a,d++,0,["C"].concat(Ext.Array.splice(b,0,6)));Ext.Array.erase(a,d,1);b=a.length;d--}e=a[d];g=e.length;c.x=e[g-2];c.y=e[g-1];c.bx=parseFloat(e[g-4])||c.x;c.by=parseFloat(e[g-3])||c.y}return a},
interpolatePaths:function(a,b){var c=this.pathToAbsolute(a),d=this.pathToAbsolute(b),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=function(a,b){if(a[b].length>7){a[b].shift();for(var e=a[b];e.length;)Ext.Array.splice(a,b++,0,["C"].concat(Ext.Array.splice(e,0,6)));Ext.Array.erase(a,b,1);k=Math.max(c.length,d.length||0)}},i=function(a,b,e,g,h){if(a&&b&&a[h][0]=="M"&&b[h][0]!="M"){Ext.Array.splice(b,h,0,["M",g.x,g.y]);e.bx=0;e.by=0;e.x=a[h][1];e.y=a[h][2];
k=Math.max(c.length,d.length||0)}},j,k,l,m,n,o;j=0;for(k=Math.max(c.length,d.length||0);j<k;j++){c[j]=this.command2curve(c[j],e);h(c,j);d[j]=this.command2curve(d[j],g);h(d,j);i(c,d,e,g,j);i(d,c,g,e,j);l=c[j];m=d[j];n=l.length;o=m.length;e.x=l[n-2];e.y=l[n-1];e.bx=parseFloat(l[n-4])||e.x;e.by=parseFloat(l[n-3])||e.y;g.bx=parseFloat(m[o-4])||g.x;g.by=parseFloat(m[o-3])||g.y;g.x=m[o-2];g.y=m[o-1]}return[c,d]},command2curve:function(a,b){if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];if(a[0]!="T"&&a[0]!="Q")b.qx=
b.qy=null;switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(this.arc2curve.apply(this,[b.x,b.y].concat(a.slice(1))));break;case "S":a=["C",b.x+(b.x-(b.bx||b.x)),b.y+(b.y-(b.by||b.y))].concat(a.slice(1));break;case "T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));a=["C"].concat(this.quadratic2curve(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(this.quadratic2curve(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(b.x,b.y,a[1],
a[2],a[1],a[2]);break;case "H":a=["C"].concat(b.x,b.y,a[1],b.y,a[1],b.y);break;case "V":a=["C"].concat(b.x,b.y,b.x,a[1],b.x,a[1]);break;case "Z":a=["C"].concat(b.x,b.y,b.X,b.Y,b.X,b.Y)}return a},quadratic2curve:function(a,b,c,d,e,g){var h=1/3,i=2/3;return[h*a+i*c,h*b+i*d,h*e+i*c,h*g+i*d,e,g]},rotate:function(a,b,c){var d=Math.cos(c),c=Math.sin(c);return{x:a*d-b*c,y:a*c+b*d}},arc2curve:function(a,b,c,d,e,g,h,i,j,k){var l=Math.PI,m=this.radian,n=l*120/180,o=m*(+e||0),p=[],q=Math,r=q.cos,s=q.sin,t=q.sqrt,
u=q.abs,v=q.asin,w,y,x;if(k){t=k[0];v=k[1];g=k[2];m=k[3]}else{w=this.rotate(a,b,-o);a=w.x;b=w.y;w=this.rotate(i,j,-o);i=w.x;j=w.y;r(m*e);s(m*e);m=(a-i)/2;w=(b-j)/2;y=m*m/(c*c)+w*w/(d*d);if(y>1){y=t(y);c=y*c;d=y*d}y=c*c;x=d*d;t=(g==h?-1:1)*t(u((y*x-y*w*w-x*m*m)/(y*w*w+x*m*m)));g=t*c*w/d+(a+i)/2;m=t*-d*m/c+(b+j)/2;t=v(((b-m)/d).toFixed(7));v=v(((j-m)/d).toFixed(7));t=a<g?l-t:t;v=i<g?l-v:v;t<0&&(t=l*2+t);v<0&&(v=l*2+v);h&&t>v&&(t=t-l*2);!h&&v>t&&(v=v-l*2)}if(u(v-t)>n){p=v;l=i;u=j;v=t+n*(h&&v>t?1:-1);
i=g+c*r(v);j=m+d*s(v);p=this.arc2curve(i,j,c,d,e,0,h,l,u,[v,p,g,m])}n=v-t;e=r(t);h=s(t);r=r(v);s=s(v);q=q.tan(n/4);c=4/3*c*q;q=4/3*d*q;d=[a,b];a=[a+c*h,b-q*e];b=[i+c*s,j-q*r];i=[i,j];a[0]=2*d[0]-a[0];a[1]=2*d[1]-a[1];if(k)return[a,b,i].concat(p);p=[a,b,i].concat(p).join().split(",");k=[];j=p.length;for(i=0;i<j;i++)k[i]=i%2?this.rotate(p[i-1],p[i],o).y:this.rotate(p[i],p[i+1],o).x;return k},rotateAndTranslatePath:function(a){var b=a.rotation.degrees,c=a.rotation.x,d=a.rotation.y,e=a.translation.x,
g=a.translation.y,h,i,j,k,l=[];if(!b&&!e&&!g)return this.pathToAbsolute(a.attr.path);e=e||0;g=g||0;a=this.pathToAbsolute(a.attr.path);for(h=a.length;h--;){i=l[h]=a[h].slice();if(i[0]=="A"){j=this.rotatePoint(i[6],i[7],b,c,d);i[6]=j.x+e;i[7]=j.y+g}else for(k=1;i[k+1]!=null;){j=this.rotatePoint(i[k],i[k+1],b,c,d);i[k]=j.x+e;i[k+1]=j.y+g;k=k+2}}return l},rotatePoint:function(a,b,c,d,e){if(!c)return{x:a,y:b};var d=d||0,e=e||0,a=a-d,b=b-e,c=c*this.radian,g=Math.cos(c),c=Math.sin(c);return{x:a*g-b*c+d,
y:a*c+b*g+e}},pathDimensions:function(a){if(!a||!(a+""))return{x:0,y:0,width:0,height:0};for(var a=this.path2curve(a),b=0,c=0,d=[],e=[],g=0,h=a.length,i;g<h;g++){i=a[g];if(i[0]=="M"){b=i[1];c=i[2];d.push(b);e.push(c)}else{b=this.curveDim(b,c,i[1],i[2],i[3],i[4],i[5],i[6]);d=d.concat(b.min.x,b.max.x);e=e.concat(b.min.y,b.max.y);b=i[5];c=i[6]}}g=Math.min.apply(0,d);h=Math.min.apply(0,e);return{x:g,y:h,path:a,width:Math.max.apply(0,d)-g,height:Math.max.apply(0,e)-h}},intersectInside:function(a,b,c){return(c[0]-
b[0])*(a[1]-b[1])>(c[1]-b[1])*(a[0]-b[0])},intersectIntersection:function(a,b,c,d){var e=[],g=c[0]-d[0],h=c[1]-d[1],i=a[0]-b[0],j=a[1]-b[1],c=c[0]*d[1]-c[1]*d[0],a=a[0]*b[1]-a[1]*b[0],b=1/(g*j-h*i);e[0]=(c*i-a*g)*b;e[1]=(c*j-a*h)*b;return e},intersect:function(a,b){for(var c=0,d=b.length,e=b[d-1],g=a,h,i,j,k,l,m;c<d;++c){h=b[c];l=g;g=[];i=l[l.length-1];m=0;for(k=l.length;m<k;m++){j=l[m];if(this.intersectInside(j,e,h)){this.intersectInside(i,e,h)||g.push(this.intersectIntersection(i,j,e,h));g.push(j)}else this.intersectInside(i,
e,h)&&g.push(this.intersectIntersection(i,j,e,h));i=j}e=h}return g},bezier:function(a,b,c,d,e){if(e===0)return a;if(e===1)return d;var g=1-e,e=e/g;return g*g*g*(a+e*(3*b+e*(3*c+d*e)))},bezierDim:function(a,b,c,d){var e=[],g,h,i,j;if(a+3*c==d+3*b){g=(a-b)/(2*(a-b-b+c));g<1&&g>0&&e.push(g)}else{h=a-3*b+3*c-d;i=2*(a-b-b+c);g=i*i-4*h*(a-b);h=h+h;if(g===0){g=i/h;g<1&&g>0&&e.push(g)}else if(g>0){j=Math.sqrt(g);g=(j+i)/h;g<1&&g>0&&e.push(g);g=(i-j)/h;g<1&&g>0&&e.push(g)}}i=Math.min(a,d);h=Math.max(a,d);
for(g=0;g<e.length;g++){i=Math.min(i,this.bezier(a,b,c,d,e[g]));h=Math.max(h,this.bezier(a,b,c,d,e[g]))}return[i,h]},curveDim:function(a,b,c,d,e,g,h,i){a=this.bezierDim(a,c,e,h);b=this.bezierDim(b,d,g,i);return{min:{x:a[0],y:b[0]},max:{x:a[1],y:b[1]}}},getAnchors:function(a,b,c,d,e,g,h){var h=h||4,i=Math,j=i.PI,k=j/2,l=i.abs,m=i.sin,n=i.cos,o=i.atan,i=(c-a)/h,h=(e-c)/h;if(d>=b&&d>=g||d<=b&&d<=g)a=e=k;else{a=o((c-a)/l(d-b));b<d&&(a=j-a);e=o((e-c)/l(d-g));g<d&&(e=j-e)}o=k-(a+e)%(j*2)/2;o>k&&(o=o-j);
a=a+o;e=e+o;j=c-i*m(a);k=d+i*n(a);m=c+h*m(e);n=d+h*n(e);if(d>b&&k<b||d<b&&k>b){j=j+l(b-k)*(j-c)/(k-d);k=b}if(d>g&&n<g||d<g&&n>g){m=m-l(g-n)*(m-c)/(n-d);n=g}return{x1:j,y1:k,x2:m,y2:n}},smooth:function(a,b){for(var c=this.path2curve(a),d=[c[0]],e=c[0][1],g=c[0][2],h,i=1,j=c.length,k=1,l=e,m=g,n,o,p,q,r;i<j;i++){n=c[i];o=n.length;h=c[i-1];p=h.length;r=(q=c[i+1])&&q.length;if(n[0]=="M"){l=n[1];m=n[2];for(e=i+1;c[e][0]!="C";)e++;d.push(["M",l,m]);k=d.length;e=l;g=m}else{if(n[o-2]==l&&n[o-1]==m&&(!q||
q[0]=="M")){q=d[k].length;h=this.getAnchors(h[p-2],h[p-1],l,m,d[k][q-2],d[k][q-1],b);d[k][1]=h.x2;d[k][2]=h.y2}else h=!q||q[0]=="M"?{x1:n[o-2],y1:n[o-1]}:this.getAnchors(h[p-2],h[p-1],n[o-2],n[o-1],q[r-2],q[r-1],b);d.push(["C",e,g,h.x1,h.y1,n[o-2],n[o-1]]);e=h.x2;g=h.y2}}return d},findDotAtSegment:function(a,b,c,d,e,g,h,i,j){var k=1-j;return{x:Math.pow(k,3)*a+Math.pow(k,2)*3*j*c+k*3*j*j*e+Math.pow(j,3)*h,y:Math.pow(k,3)*b+Math.pow(k,2)*3*j*d+k*3*j*j*g+Math.pow(j,3)*i}},snapEnds:function(a,b,c,d){if(Ext.isDate(a))return this.snapEndsByDate(a,
b,c);var e=(b-a)/c,g=Math.floor(Math.log(e)/Math.LN10)+1,h=Math.pow(10,g),i=Math.round(e%h*Math.pow(10,2-g)),j=[[0,15],[20,4],[30,2],[40,4],[50,9],[60,4],[70,2],[80,4],[100,15]],k=0,l,m,n=1E9,o=j.length,h=a=Math.floor(a/h)*h;if(d){for(l=0;l<o;l++){c=j[l][0];d=c-i<0?1E6:(c-i)/j[l][1];if(d<n){m=c;n=d}}for(e=Math.floor(e*Math.pow(10,-g))*Math.pow(10,g)+m*Math.pow(10,g-2);h<b;){h=h+e;k++}b=+h.toFixed(10)}else k=c;return{from:a,to:b,power:g,step:e,steps:k}},snapEndsByDate:function(a,b,c,d){var e=false,
g=[[Ext.Date.MILLI,[1,2,3,5,10,20,30,50,100,200,300,500]],[Ext.Date.SECOND,[1,2,3,5,10,15,30]],[Ext.Date.MINUTE,[1,2,3,5,10,20,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,3,7,14]],[Ext.Date.MONTH,[1,2,3,4,6]]],h=g.length,i=false,j,k,l;for(l=0;l<h;l++){j=g[l];if(!i)for(k=0;k<j[1].length;k++)if(b<Ext.Date.add(a,j[0],j[1][k]*c)){e=[j[0],j[1][k]];i=true;break}}if(!e){c=this.snapEnds(a.getFullYear(),b.getFullYear()+1,c,d);e=[Date.YEAR,Math.round(c.step)]}return this.snapEndsByDateAndStep(a,
b,e,d)},snapEndsByDateAndStep:function(a,b,c,d){var e=[a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()],g=0;if(!d)switch(c[0]){case Ext.Date.MILLI:a=new Date(e[0],e[1],e[2],e[3],e[4],e[5],Math.floor(e[6]/c[1])*c[1]);break;case Ext.Date.SECOND:a=new Date(e[0],e[1],e[2],e[3],e[4],Math.floor(e[5]/c[1])*c[1],0);break;case Ext.Date.MINUTE:a=new Date(e[0],e[1],e[2],e[3],Math.floor(e[4]/c[1])*c[1],0,0);break;case Ext.Date.HOUR:a=new Date(e[0],e[1],
e[2],Math.floor(e[3]/c[1])*c[1],0,0,0);break;case Ext.Date.DAY:a=new Date(e[0],e[1],Math.floor(e[2]-1/c[1])*c[1]+1,0,0,0,0);break;case Ext.Date.MONTH:a=new Date(e[0],Math.floor(e[1]/c[1])*c[1],1,0,0,0,0);break;default:a=new Date(Math.floor(e[0]/c[1])*c[1],0,1,0,0,0,0)}for(e=a;e<b;){e=Ext.Date.add(e,c[0],c[1]);g++}d&&(e=b);return{from:+a,to:+e,step:(e-a)/g,steps:g}},sorter:function(a,b){return a.offset-b.offset},rad:function(a){return a%360*Math.PI/180},degrees:function(a){return a*180/Math.PI%360},
withinBox:function(a,b,c){c=c||{};return a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},parseGradient:function(a){var b=a.type||"linear",c=a.angle||0,d=this.radian,e=a.stops,g=[],h,i;if(b=="linear"){i=[0,0,Math.cos(c*d),Math.sin(c*d)];c=1/(Math.max(Math.abs(i[2]),Math.abs(i[3]))||1);i[2]=i[2]*c;i[3]=i[3]*c;if(i[2]<0){i[0]=-i[2];i[2]=0}if(i[3]<0){i[1]=-i[3];i[3]=0}}for(h in e)if(e.hasOwnProperty(h)&&this.stopsRE.test(h)){c={offset:parseInt(h,10),color:Ext.draw.Color.toHex(e[h].color)||"#ffffff",
opacity:e[h].opacity||1};g.push(c)}Ext.Array.sort(g,this.sorter);return b=="linear"?{id:a.id,type:b,vector:i,stops:g}:{id:a.id,type:b,centerX:a.centerX,centerY:a.centerY,focalX:a.focalX,focalY:a.focalY,radius:a.radius,vector:i,stops:g}}});
Ext.define("Ext.fx.PropertyHandler",{requires:["Ext.draw.Draw"],statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(a,b,c,d,e){var c=typeof c=="number"?c:1,g=this.unitRE,h=g.exec(a),i;if(h){a=h[1];i=h[2];!this.scrollRE.test(e)&&(!i&&this.pixelDefaultsRE.test(e))&&(i="px")}a=+a||0;if(h=g.exec(b)){b=h[1];i=h[2]||i}return{from:a,delta:((+b||0)-(d!=null?d:a))*c,units:i}},get:function(a,
b,c,d,e){var g=a.length,h=[],i,j,k,l,m;for(i=0;i<g;i++){if(d)j=d[i][1].from;if(Ext.isArray(a[i][1])&&Ext.isArray(b)){k=[];l=0;for(m=a[i][1].length;l<m;l++)k.push(this.computeDelta(a[i][1][l],b[l],c,j,e));h.push([a[i][0],k])}else h.push([a[i][0],this.computeDelta(a[i][1],b,c,j,e)])}return h},set:function(a,b){var c=a.length,d=[],e,g,h,i,j;for(e=0;e<c;e++){g=a[e][1];if(Ext.isArray(g)){h=[];j=0;for(i=g.length;j<i;j++)h.push(g[j].from+g[j].delta*b+(g[j].units||0));d.push([a[e][0],h])}else d.push([a[e][0],
g.from+g.delta*b+(g.units||0)])}return d}},stringHandler:{computeDelta:function(a,b){return{from:a,delta:b}},get:function(a,b,c,d,e){var d=a.length,g=[],h;for(h=0;h<d;h++)g.push([a[h][0],this.computeDelta(a[h][1],b,c,void 0,e)]);return g},set:function(a){var b=a.length,c=[],d,e;for(d=0;d<b;d++){e=a[d][1];c.push([a[d][0],e.delta])}return c}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,
parseColor:function(a){var b=false,c=[this.hexRE,this.rgbRE,this.hex3RE],d=c.length,e,g,h;for(h=0;h<d;h++){e=c[h];g=h%2===0?16:10;if((e=e.exec(a))&&e.length===4){if(h===2){e[1]=e[1]+e[1];e[2]=e[2]+e[2];e[3]=e[3]+e[3]}b={red:parseInt(e[1],g),green:parseInt(e[2],g),blue:parseInt(e[3],g)};break}}return b||a},computeDelta:function(a,b,c,d){var a=this.parseColor(a),b=this.parseColor(b,c),d=d?d:a,e=typeof d,g=typeof b;return e=="string"||e=="undefined"||g=="string"||g=="undefined"?b||d:{from:a,delta:{red:Math.round((b.red-
d.red)*c),green:Math.round((b.green-d.green)*c),blue:Math.round((b.blue-d.blue)*c)}}},get:function(a,b,c,d){var e=a.length,g=[],h,i;for(h=0;h<e;h++){if(d)i=d[h][1].from;g.push([a[h][0],this.computeDelta(a[h][1],b,c,i)])}return g},set:function(a,b){var c=a.length,d=[],e,g,h,i;for(e=0;e<c;e++)if(g=a[e][1]){h=g.from;i=g.delta;g=typeof g=="object"&&"red"in g?"rgb("+g.red+", "+g.green+", "+g.blue+")":g;g=typeof g=="object"&&g.length?g[0]:g;if(typeof g=="undefined")return[];g=typeof g=="string"?g:"rgb("+
[(h.red+Math.round(i.red*b))%256,(h.green+Math.round(i.green*b))%256,(h.blue+Math.round(i.blue*b))%256].join()+")";d.push([a[e][0],g])}return d}},object:{interpolate:function(a,b){var b=typeof b=="number"?b:1,c={},d;for(d in a)c[d]=parseFloat(a[d])*b;return c},computeDelta:function(a,b,c,d){var a=this.interpolate(a),b=this.interpolate(b,c),c=d?d:a,d={},e;for(e in b)d[e]=b[e]-c[e];return{from:a,delta:d}},get:function(a,b,c,d){var e=a.length,g=[],h,i;for(h=0;h<e;h++){if(d)i=d[h][1].from;g.push([a[h][0],
this.computeDelta(a[h][1],b,c,i)])}return g},set:function(a,b){var c=a.length,d=[],e={},g,h,i,j;for(g=0;g<c;g++){i=a[g][1];h=i.from;i=i.delta;for(j in h)e[j]=h[j]+i[j]*b;d.push([a[g][0],e])}return d}},path:{computeDelta:function(a,b,c,d){a=+a||0;return{from:a,delta:((+b||0)-(d!=null?d:a))*(typeof c=="number"?c:1)}},forcePath:function(a){!Ext.isArray(a)&&!Ext.isArray(a[0])&&(a=Ext.draw.Draw.parsePathString(a));return a},get:function(a,b,c,d){var b=this.forcePath(b),e=[],g=a.length,h,i,j,k,l,m,n,o,
p;for(j=0;j<g;j++){p=this.forcePath(a[j][1]);k=Ext.draw.Draw.interpolatePaths(p,b);p=k[0];b=k[1];h=p.length;o=[];for(m=0;m<h;m++){k=[p[m][0]];i=p[m].length;for(n=1;n<i;n++){l=d&&d[0][1][m][n].from;k.push(this.computeDelta(p[m][n],b[m][n],c,l))}o.push(k)}e.push([a[j][0],o])}return e},set:function(a,b){var c=a.length,d=[],e,g,h,i,j,k,l,m;for(e=0;e<c;e++){k=a[e][1];i=[];l=k.length;for(g=0;g<l;g++){j=[k[g][0]];m=k[g].length;for(h=1;h<m;h++)j.push(k[g][h].from+k[g][h].delta*b);i.push(j.join(","))}d.push([a[e][0],
i.join(",")])}return d}}}},function(){for(var a=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],b=a.length,c=0,d;c<b;c++){d=a[c];this[d]=this.color}a=["cursor"];b=a.length;for(c=0;c<b;c++){d=a[c];this[d]=this.stringHandler}});
Ext.define("Ext.fx.Anim",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager","Ext.fx.Animator","Ext.fx.Easing","Ext.fx.CubicBezier","Ext.fx.PropertyHandler"],isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(a){a=a||{};if(a.keyframes)return new Ext.fx.Animator(a);
Ext.apply(this,a);if(this.from===void 0)this.from={};this.propHandlers={};this.config=a;this.target=Ext.fx.Manager.createTarget(this.target);this.easingFn=Ext.fx.Easing[this.easing];this.target.dynamic=this.dynamic;if(!this.easingFn)if((this.easingFn=(""+this.easing).match(this.bezierRE))&&this.easingFn.length==5){a=this.easingFn;this.easingFn=Ext.fx.CubicBezier.cubicBezier(+a[1],+a[2],+a[3],+a[4])}this.id=Ext.id(null,"ext-anim-");this.addEvents("beforeanimate","afteranimate","lastframe");this.mixins.observable.constructor.call(this);
Ext.fx.Manager.addAnim(this)},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,a,b)},initAttrs:function(){var a=this.from,b=this.to,c=this.initialFrom||{},d={},e,g,h,i;for(i in b)if(b.hasOwnProperty(i)){e=this.target.getAttr(i,a[i]);g=b[i];h=Ext.fx.PropertyHandler[i]?this.propHandlers[i]=Ext.fx.PropertyHandler[i]:Ext.isObject(g)?this.propHandlers[i]=Ext.fx.PropertyHandler.object:this.propHandlers[i]=Ext.fx.PropertyHandler.defaultHandler;d[i]=h.get(e,g,this.damper,
c[i],i)}this.currentAttrs=d},start:function(a){var b=this.delay,c=this.delayStart;if(b)if(c){if(a-c<b)return;a=new Date(c.getTime()+b)}else{this.delayStart=a;return}if(this.fireEvent("beforeanimate",this)!==false){this.startTime=a;!this.paused&&!this.currentAttrs&&this.initAttrs();this.running=true;this.frameCount=0}},runAnim:function(a){var b=this.currentAttrs,c=this.duration,d=this.easingFn,e=this.propHandlers,g={},h,i,j,k;if(a>=c){a=c;k=true}this.reverse&&(a=c-a);for(j in b)if(b.hasOwnProperty(j)){i=
b[j];h=k?1:d(a/c);g[j]=e[j].set(i,h)}this.frameCount++;return g},lastFrame:function(){var a=this.iterations,b=this.currentIteration;b++;if(b<a){if(this.alternate)this.reverse=!this.reverse;this.startTime=new Date;this.currentIteration=b;this.paused=false}else{this.currentIteration=0;this.end();this.fireEvent("lastframe",this,this.startTime)}},endWasCalled:0,end:function(){if(!this.endWasCalled++){this.startTime=0;this.running=this.paused=false;Ext.fx.Manager.removeAnim(this);this.fireEvent("afteranimate",
this,this.startTime);Ext.callback(this.callback,this.scope,[this,this.startTime])}},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}});Ext.enableFx=!0;
Ext.define("Ext.dd.DragDrop",{requires:["Ext.dd.DragDropManager"],constructor:function(a,b,c){a&&this.init(a,b,c)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=true},moveOnly:!1,unlock:function(){this.locked=false},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,
yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,b4StartDrag:function(){},startDrag:function(){},b4Drag:function(){},onDrag:function(){},onDragEnter:function(){},b4DragOver:function(){},onDragOver:function(){},b4DragOut:function(){},onDragOut:function(){},b4DragDrop:function(){},onDragDrop:function(){},onInvalidDrop:function(){},b4EndDrag:function(){},endDrag:function(){},b4MouseDown:function(){},onMouseDown:function(){},onMouseUp:function(){},onAvailable:function(){},defaultPadding:{left:0,
right:0,top:0,bottom:0},constrainTo:function(a,b){var c,d,e,g;Ext.isNumber(b)&&(b={left:b,right:b,top:b,bottom:b});var b=b||this.defaultPadding,h=Ext.get(this.getEl()).getBox();c=Ext.get(a);e=c.getScroll();g=c.dom;if(g==document.body){c=e.left;d=e.top;e=Ext.Element.getViewWidth();g=Ext.Element.getViewHeight()}else{e=c.getXY();c=e[0];d=e[1];e=g.clientWidth;g=g.clientHeight}d=h.y-d;c=h.x-c;this.resetConstraints();this.setXConstraint(c-(b.left||0),e-c-h.width-(b.right||0),this.xTickSize);this.setYConstraint(d-
(b.top||0),g-d-h.height-(b.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef)this._domRef=Ext.getDom(this.id);return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(a,b,c){this.initTarget(a,b,c);Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(a,b,c){this.config=c||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};typeof a!=="string"&&(a=Ext.id(a));this.id=a;this.addToGroup(b?b:"default");this.handleElId=
a;this.setDragElId(a);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=this.config.isTarget!==false;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=this.config.primaryButtonOnly!==false},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(a,b,c,d){this.padding=
!b&&0!==b?[a,a,a,a]:!c&&0!==c?[a,b,a,b]:[a,b,c,d]},setInitPosition:function(a,b){var c=this.getEl(),d,e;if(this.DDMInstance.verifyEl(c)){d=a||0;e=b||0;c=Ext.Element.getXY(c);this.initPageX=c[0]-d;this.initPageY=c[1]-e;this.lastPageX=c[0];this.lastPageY=c[1];this.setStartPosition(c)}},setStartPosition:function(a){a=a||Ext.Element.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=a[0];this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=true;this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){this.groups[a]&&
delete this.groups[a];this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){typeof a!=="string"&&(a=Ext.id(a));this.handleElId=a;this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){typeof a!=="string"&&(a=Ext.id(a));Ext.EventManager.on(a,"mousedown",this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this);this._domRef=null;
this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(a){if(!(this.primaryButtonOnly&&a.button!=0)&&!this.isLocked()){this.DDMInstance.refreshCache(this.groups);if((this.hasOuterHandles||this.DDMInstance.isOverTarget(a.getPoint(),this))&&this.clickValidator(a)){this.setStartPosition();this.b4MouseDown(a);this.onMouseDown(a);this.DDMInstance.handleMouseDown(a,this);this.DDMInstance.stopEvent(a)}}},
clickValidator:function(a){a=a.getTarget();return this.isValidHandleChild(a)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(a,this.id))},addInvalidHandleType:function(a){a=a.toUpperCase();this.invalidHandleTypes[a]=a},addInvalidHandleId:function(a){typeof a!=="string"&&(a=Ext.id(a));this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){delete this.invalidHandleTypes[a.toUpperCase()]},removeInvalidHandleId:function(a){typeof a!==
"string"&&(a=Ext.id(a));delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(a){for(var b=0,c=this.invalidHandleClasses.length;b<c;++b)this.invalidHandleClasses[b]==a&&delete this.invalidHandleClasses[b]},isValidHandleChild:function(a){var b=true,c,d;try{c=a.nodeName.toUpperCase()}catch(e){c=a.nodeName}b=(b=b&&!this.invalidHandleTypes[c])&&!this.invalidHandleIds[a.id];c=0;for(d=this.invalidHandleClasses.length;b&&c<d;++c)b=!Ext.fly(a).hasCls(this.invalidHandleClasses[c]);return b},setXTicks:function(a,
b){this.xTicks=[];this.xTickSize=b;var c={},d;for(d=this.initPageX;d>=this.minX;d=d-b)if(!c[d]){this.xTicks[this.xTicks.length]=d;c[d]=true}for(d=this.initPageX;d<=this.maxX;d=d+b)if(!c[d]){this.xTicks[this.xTicks.length]=d;c[d]=true}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(a,b){this.yTicks=[];this.yTickSize=b;var c={},d;for(d=this.initPageY;d>=this.minY;d=d-b)if(!c[d]){this.yTicks[this.yTicks.length]=d;c[d]=true}for(d=this.initPageY;d<=this.maxY;d=d+b)if(!c[d]){this.yTicks[this.yTicks.length]=
d;c[d]=true}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(a,b,c){this.leftConstraint=a;this.rightConstraint=b;this.minX=this.initPageX-a;this.maxX=this.initPageX+b;c&&this.setXTicks(this.initPageX,c);this.constrainX=true},clearConstraints:function(){this.constrainY=this.constrainX=false;this.clearTicks()},clearTicks:function(){this.yTicks=this.xTicks=null;this.yTickSize=this.xTickSize=0},setYConstraint:function(a,b,c){this.topConstraint=a;this.bottomConstraint=
b;this.minY=this.initPageY-a;this.maxY=this.initPageY+b;c&&this.setYTicks(this.initPageY,c);this.constrainY=true},resetConstraints:function(){this.initPageX||this.initPageX===0?this.setInitPosition(this.maintainOffset?this.lastPageX-this.initPageX:0,this.maintainOffset?this.lastPageY-this.initPageY:0):this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},
getTick:function(a,b){if(b){if(b[0]>=a)return b[0];var c,d,e,g;c=0;for(d=b.length;c<d;++c){e=c+1;if(b[e]&&b[e]>=a){d=a-b[c];g=b[e]-a;return g>d?b[c]:b[e]}}return b[b.length-1]}return a},toString:function(){return"DragDrop "+this.id}});
Ext.define("Ext.dd.DD",{extend:"Ext.dd.DragDrop",requires:["Ext.dd.DragDropManager"],constructor:function(a,b,c){a&&this.init(a,b,c)},scroll:!0,autoOffset:function(a,b){this.setDelta(a-this.startPageX,b-this.startPageY)},setDelta:function(a,b){this.deltaX=a;this.deltaY=b},setDragElPos:function(a,b){this.alignElWithMouse(this.getDragEl(),a,b)},alignElWithMouse:function(a,b,c){var b=this.getTargetCoord(b,c),c=a.dom?a:Ext.fly(a,"_dd"),d=c.getSize(),e=Ext.Element;if(this.deltaSetXY){e=this.cachedViewportSize;
c.setLeftTop(Math.max(0,Math.min(b.x+this.deltaSetXY[0],e.width-d.width)),Math.max(0,Math.min(b.y+this.deltaSetXY[1],e.height-d.height)))}else{e=this.cachedViewportSize={width:e.getDocumentWidth(),height:e.getDocumentHeight()};d=[Math.max(0,Math.min(b.x,e.width-d.width)),Math.max(0,Math.min(b.y,e.height-d.height))];c.setXY(d);d=c.getLocalX();c=c.getLocalY();this.deltaSetXY=[d-b.x,c-b.y]}this.cachePosition(b.x,b.y);this.autoScroll(b.x,b.y,a.offsetHeight,a.offsetWidth);return b},cachePosition:function(a,
b){if(a){this.lastPageX=a;this.lastPageY=b}else{var c=Ext.Element.getXY(this.getEl());this.lastPageX=c[0];this.lastPageY=c[1]}},autoScroll:function(a,b,c,d){if(this.scroll){var e=Ext.Element.getViewHeight(),g=Ext.Element.getViewWidth(),h=this.DDMInstance.getScrollTop(),i=this.DDMInstance.getScrollLeft(),d=d+a,j=e+h-b-this.deltaY,k=g+i-a-this.deltaX,l=document.all?80:30;c+b>e&&j<40&&window.scrollTo(i,h+l);b<h&&(h>0&&b-h<40)&&window.scrollTo(i,h-l);d>g&&k<40&&window.scrollTo(i+l,h);a<i&&(i>0&&a-i<40)&&
window.scrollTo(i-l,h)}},getTargetCoord:function(a,b){var c=a-this.deltaX,d=b-this.deltaY;if(this.constrainX){if(c<this.minX)c=this.minX;if(c>this.maxX)c=this.maxX}if(this.constrainY){if(d<this.minY)d=this.minY;if(d>this.maxY)d=this.maxY}c=this.getTick(c,this.xTicks);d=this.getTick(d,this.yTicks);return{x:c,y:d}},applyConfig:function(){this.callParent();this.scroll=this.config.scroll!==false},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),
a.getPageY())},toString:function(){return"DD "+this.id}});
Ext.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(a,b,c){if(a){this.init(a,b,c);this.initFrame()}},resizeFrame:!0,centerFrame:!1,createFrame:function(){var a=this,b=document.body,c,d;if(!b||!b.firstChild)setTimeout(function(){a.createFrame()},50);else{c=this.getDragEl();if(!c){c=document.createElement("div");c.id=this.dragElId;d=c.style;d.position="absolute";d.visibility="hidden";d.cursor="move";d.border="2px solid #aaa";d.zIndex=999;b.insertBefore(c,
b.firstChild)}}},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=this.config.resizeFrame!==false;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(a,b){this.getEl();var c=this.getDragEl(),d=c.style;this._resizeProxy();this.centerFrame&&this.setDelta(Math.round(parseInt(d.width,10)/2),Math.round(parseInt(d.height,10)/2));this.setDragElPos(a,b);Ext.fly(c).show()},_resizeProxy:function(){if(this.resizeFrame){var a=
this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(a){var b=a.getPageX(),a=a.getPageY();this.autoOffset(b,a);this.setDragElPos(b,a)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(){Ext.fly(this.getDragEl()).hide()},endDrag:function(){var a=this.getEl(),b=this.getDragEl();b.style.visibility="";this.beforeMove();a.style.visibility="hidden";Ext.dd.DDM.moveToEl(a,b);b.style.visibility="hidden";a.style.visibility="";this.afterDrag()},
beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}});
Ext.define("Ext.dd.StatusProxy",{extend:"Ext.Component",animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div><div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],constructor:function(a){a=a||{};Ext.apply(this,{hideMode:"visibility",hidden:true,floating:true,id:this.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:a.shadow||false,renderTo:Ext.getDetachedBody()});this.callParent(arguments);this.dropStatus=
this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceCls(this.dropStatus,a);this.dropStatus=a}},reset:function(a){var b=Ext.baseCSSPrefix+"dd-drag-proxy ";this.el.replaceCls(b+this.dropAllowed,b+this.dropNotAllowed);this.dropStatus=this.dropNotAllowed;a&&this.ghost.update("")},update:function(a){if(typeof a=="string")this.ghost.update(a);else{this.ghost.update("");
a.style.margin="0";this.ghost.dom.appendChild(a)}(a=this.ghost.dom.firstChild)&&Ext.fly(a).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(a){this.callParent();a&&this.reset(true)},stop:function(){this.anim&&(this.anim.isAnimated&&this.anim.isAnimated())&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(a,b,c){this.callback=b;this.scope=c;if(a&&this.animRepair!==false){this.el.addCls(Ext.baseCSSPrefix+"dd-drag-repair");this.el.hideUnders(true);this.anim=
this.el.animate({duration:this.repairDuration||500,easing:"ease-out",to:{x:a[0],y:a[1]},stopAnimation:true,callback:this.afterRepair,scope:this})}else this.afterRepair()},afterRepair:function(){this.hide(true);this.el.removeCls(Ext.baseCSSPrefix+"dd-drag-repair");typeof this.callback=="function"&&this.callback.call(this.scope||this);delete this.callback;delete this.scope}});
Ext.define("Ext.dd.DragSource",{extend:"Ext.dd.DDProxy",requires:["Ext.dd.StatusProxy","Ext.dd.DragDropManager"],dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(a,b){this.el=Ext.get(a);if(!this.dragData)this.dragData={};Ext.apply(this,b);if(!this.proxy)this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair});this.callParent([this.el.dom,this.ddGroup||
this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true}]);this.dragging=false},getDragData:function(){return this.dragData},onDragEnter:function(a,b){var c=Ext.dd.DragDropManager.getDDById(b),d;this.cachedTarget=c;if(this.beforeDragEnter(c,a,b)!==false){if(c.isNotifyTarget){d=c.notifyEnter(this,a,this.dragData);this.proxy.setStatus(d)}else this.proxy.setStatus(this.dropAllowed);this.afterDragEnter&&this.afterDragEnter(c,a,b)}},beforeDragEnter:function(){return true},
onDragOver:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b),d;if(this.beforeDragOver(c,a,b)!==false){if(c.isNotifyTarget){d=c.notifyOver(this,a,this.dragData);this.proxy.setStatus(d)}this.afterDragOver&&this.afterDragOver(c,a,b)}},beforeDragOver:function(){return true},onDragOut:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragOut(c,a,b)!==false){c.isNotifyTarget&&c.notifyOut(this,a,this.dragData);this.proxy.reset();this.afterDragOut&&
this.afterDragOut(c,a,b)}this.cachedTarget=null},beforeDragOut:function(){return true},onDragDrop:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragDrop(c,a,b)!==false){if(c.isNotifyTarget)if(c.notifyDrop(this,a,this.dragData)!==false)this.onValidDrop(c,a,b);else this.onInvalidDrop(c,a,b);else this.onValidDrop(c,a,b);this.afterDragDrop&&this.afterDragDrop(c,a,b)}delete this.cachedTarget},beforeDragDrop:function(){return true},onValidDrop:function(a,b,c){this.hideProxy();
this.afterValidDrop&&this.afterValidDrop(a,b,c)},getRepairXY:function(){return this.el.getXY()},onInvalidDrop:function(a,b,c){if(!b){b=a;a=null;c=b.getTarget().id}this.beforeInvalidDrop(a,b,c);if(this.cachedTarget){this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,b,this.dragData);this.cacheTarget=null}this.proxy.repair(this.getRepairXY(b,this.dragData),this.afterRepair,this);this.afterInvalidDrop&&this.afterInvalidDrop(b,c)},afterRepair:function(){Ext.enableFx&&this.el.highlight(this.repairHighlightColor);
this.dragging=false},beforeInvalidDrop:function(){return true},handleMouseDown:function(a){if(!this.dragging){var b=this.getDragData(a);if(b&&this.onBeforeDrag(b,a)!==false){this.dragData=b;this.proxy.stop();this.callParent(arguments)}}},onBeforeDrag:function(){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return this.callParent(arguments)},startDrag:function(a,b){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");
this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(a,b){var c=this.el.dom.cloneNode(true);c.id=Ext.id();this.proxy.update(c);this.onStartDrag(a,b);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(){},autoOffset:function(){this.setDelta(-12,-20)},
destroy:function(){this.callParent();Ext.destroy(this.proxy)}});
Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(a,b){this.panel=a;this.id=this.panel.id+"-ddproxy";Ext.apply(this,b)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){if(this.ghost){if(this.proxy){this.proxy.remove();delete this.proxy}this.panel.unghost(null,
this.moveOnDrag);delete this.ghost}},show:function(){var a;if(!this.ghost){a=this.panel.getSize();this.panel.el.setVisibilityMode(Ext.Element.DISPLAY);this.ghost=this.panel.ghost();if(this.insertProxy){this.proxy=this.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"});this.proxy.setSize(a)}}},repair:function(a,b,c){this.hide();Ext.callback(b,c||this)},moveProxy:function(a,b){this.proxy&&a.insertBefore(this.proxy.dom,b)}});
Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(a,b){this.panel=a;this.dragData={panel:a};this.panelProxy=new Ext.panel.Proxy(a,b);this.proxy=this.panelProxy.proxy;this.callParent([a.el,b]);this.setupEl(a)},setupEl:function(a){var b=a.header,c=a.body;if(b){this.setHandleElId(b.id);c=b.el}if(c){c.setStyle("cursor","move");this.scroll=false}else a.on("boxready",this.setupEl,this,{single:true})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(){this.panelProxy.show()},
b4MouseDown:function(a){var b=a.getPageX(),a=a.getPageY();this.autoOffset(b,a)},onInitDrag:function(a,b){this.onStartDrag(a,b);return true},createFrame:Ext.emptyFn,getDragEl:function(){return this.panelProxy.ghost.el.dom},endDrag:function(){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(a,b){a=a-this.startPageX;b=b-this.startPageY;this.setDelta(a,b)},onInvalidDrop:function(a,b,c){this.beforeInvalidDrop(a,b,c);if(this.cachedTarget){this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,
b,this.dragData);this.cacheTarget=null}this.afterInvalidDrop&&this.afterInvalidDrop(b,c)}});
Ext.define("Ext.layout.component.Dock",{extend:"Ext.layout.component.Component",alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var a,b;this.callParent();a=this.getRenderTarget();b=this.getDockedItems();this.finishRenderItems(a,b)},isItemBoxParent:function(){return true},isItemShrinkWrap:function(){return true},dockOpposites:{top:"bottom",
right:"left",bottom:"top",left:"right"},handleItemBorders:function(){var a=this.owner,b,c,d=this.borders,e=this.dockOpposites;c=a.dockedItems.generation;var g,h,i,j,k;b=this.collapsed;if(!(this.initializedBorders==c||a.border&&!a.manageBodyBorders)){this.initializedBorders=c;this.collapsed=false;c=this.getLayoutItems();this.collapsed=b;b={top:[],right:[],bottom:[],left:[]};g=0;for(h=c.length;g<h;g++){i=c[g];j=i.dock;if(!i.ignoreBorderManagement){if(!b[j].satisfied){b[j].push(i);b[j].satisfied=true}!b.top.satisfied&&
e[j]!=="top"&&b.top.push(i);!b.right.satisfied&&e[j]!=="right"&&b.right.push(i);!b.bottom.satisfied&&e[j]!=="bottom"&&b.bottom.push(i);!b.left.satisfied&&e[j]!=="left"&&b.left.push(i)}}if(d)for(k in d)if(d.hasOwnProperty(k)){h=d[k].length;if(a.manageBodyBorders)d[k].satisfied&&a.setBodyStyle("border-"+k+"-width","");else{for(g=0;g<h;g++){e=d[k][g];e.isDestroyed||e.removeCls(Ext.baseCSSPrefix+"docked-noborder-"+k)}!d[k].satisfied&&!a.bodyBorder&&a.removeBodyCls(Ext.baseCSSPrefix+"docked-noborder-"+
k)}}for(k in b)if(b.hasOwnProperty(k)){h=b[k].length;if(a.manageBodyBorders)b[k].satisfied&&a.setBodyStyle("border-"+k+"-width","1px");else{for(g=0;g<h;g++)b[k][g].addCls(Ext.baseCSSPrefix+"docked-noborder-"+k);(!b[k].satisfied&&!a.bodyBorder||a.bodyBorder===false)&&a.addBodyCls(Ext.baseCSSPrefix+"docked-noborder-"+k)}}this.borders=b}},beforeLayoutCycle:function(a){var b=this.owner,c=this.sizeModels.shrinkWrap,d,e;if(b.collapsed)if(b.collapsedVertical()){e=true;a.measureDimensions=1}else{d=true;a.measureDimensions=
2}a.collapsedVert=e;a.collapsedHorz=d;if(e)a.heightModel=c;else if(d)a.widthModel=c},beginLayout:function(a){var b=this.owner,c=this.getLayoutItems(),d=a.context,e=c.length,g,h,i;this.callParent(arguments);this.handleItemBorders();g=b.getCollapsed();if(g!==this.lastCollapsedState&&Ext.isDefined(this.lastCollapsedState))if(this.owner.collapsed){a.isCollapsingOrExpanding=1;b.addClsWithUI(b.collapsedCls)}else{a.isCollapsingOrExpanding=2;b.removeClsWithUI(b.collapsedCls);a.lastCollapsedState=this.lastCollapsedState}this.lastCollapsedState=
g;a.dockedItems=b=[];for(g=0;g<e;g++){h=c[g];if(h.rendered){i=d.getCmp(h);i.dockedAt={x:0,y:0};i.offsets=h=Ext.Element.parseBox(h.offsets||{});h.width=h.left+h.right;h.height=h.top+h.bottom;b.push(i)}}a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a){var b=a.dockedItems,c=b.length,d=this.owner,e=d.frameBody,g=this.lastHeightModel;this.callParent(arguments);if(g&&g.shrinkWrap&&!a.heightModel.shrinkWrap&&!this.owner.manageHeight)d.body.dom.style.marginBottom="";if(a.widthModel.auto){a.widthModel.shrinkWrap&&
d.el.setWidth(null);d.body.setWidth(null);e&&e.setWidth(null)}if(a.heightModel.auto){d.body.setHeight(null);e&&e.setHeight(null)}a.collapsedVert?a.setContentHeight(0):a.collapsedHorz&&a.setContentWidth(0);for(d=0;d<c;d++){e=b[d].target;g=e.dock;g=="right"&&e.el.setLeft(0)}},calculate:function(a){var b=this.measureAutoDimensions(a,a.measureDimensions),c=a.state,d=c.horzDone,e=c.vertDone,g=a.bodyContext,h,i;a.borderInfo||a.getBorderInfo();a.paddingInfo||a.getPaddingInfo();a.framingInfo||a.getFraming();
g.borderInfo||g.getBorderInfo();g.paddingInfo||g.getPaddingInfo();g=!d&&this.createAxis(a,b.contentWidth,a.widthModel,"left","right","x","width","Width",a.collapsedHorz);b=!e&&this.createAxis(a,b.contentHeight,a.heightModel,"top","bottom","y","height","Height",a.collapsedVert);h=0;for(i=a.dockedItems.length;i--;++h){g&&this.dockChild(a,g,i,h);b&&this.dockChild(a,b,i,h)}if(g&&this.finishAxis(a,g))c.horzDone=d=g;if(b&&this.finishAxis(a,b))c.vertDone=e=b;d&&e&&this.finishConstraints(a,d,e)?this.finishPositions(a,
d,e):this.done=false},createAxis:function(a,b,c,d,e,g,h,i,j){var k=0,l=this.owner,m=l["max"+i],l=l["min"+i]||0,n=m!=null,o="set"+i,p;if(c.shrinkWrap)if(j)a=0;else{a=a.bodyContext;a=b+a.borderInfo[h]}else{k=a.borderInfo;b=a.framingInfo;p=a.paddingInfo;a=a.getProp(h);a=a-(k[e]+p[e]+b[e]);k=k[d]+p[d]+b[d]}return{shrinkWrap:c.shrinkWrap,sizeModel:c,begin:k,end:a,collapsed:j,horizontal:g=="x",ignoreFrameBegin:false,ignoreFrameEnd:false,initialSize:a-k,hasMinMaxConstraints:(l||n)&&c.shrinkWrap,minSize:l,
maxSize:n?m:1E9,bodyPosProp:this.owner.manageHeight?g:"margin-"+d,dockBegin:d,dockEnd:e,posProp:g,sizeProp:h,sizePropCap:i,setSize:o,dockedPixelsEnd:0}},dockChild:function(a,b,c,d){var c=a.dockedItems[b.shrinkWrap?c:d],d=c.target,e=d.dock;d.ignoreParentFrame&&a.isCollapsingOrExpanding&&c.clearMarginCache();a=e==b.dockBegin?b.shrinkWrap?this.dockOutwardBegin(a,c,d,b):this.dockInwardBegin(a,c,d,b):e==b.dockEnd?b.shrinkWrap?this.dockOutwardEnd(a,c,d,b):this.dockInwardEnd(a,c,d,b):this.dockStretch(a,
c,d,b);c.dockedAt[b.posProp]=a},dockInwardBegin:function(a,b,c,d){var e=d.begin,g=d.sizeProp,h;if(c.ignoreParentFrame){h=c.dock;e=e-(a.borderInfo[h]+a.paddingInfo[h]+a.framingInfo[h])}if(!c.overlay){a=b.getProp(g)+b.getMarginInfo()[g];d.begin=d.begin+a}return e},dockInwardEnd:function(a,b,c,d){var e=d.sizeProp,b=b.getProp(e)+b.getMarginInfo()[e],b=d.end-b;if(!c.overlay)d.end=b;c.ignoreParentFrame&&(b=b+(a.borderInfo[c.dock]+a.paddingInfo[c.dock]+a.framingInfo[c.dock]));return b},dockOutwardBegin:function(a,
b,c,d){var e=d.begin,g=d.sizeProp,h;if(d.collapsed)d.ignoreFrameBegin=d.ignoreFrameEnd=true;else if(c.ignoreParentFrame){h=c.dock;e=e-(a.borderInfo[h]+a.paddingInfo[h]+a.framingInfo[h]);d.ignoreFrameBegin=true}if(!c.overlay){a=b.getProp(g)+b.getMarginInfo()[g];e=e-a;d.begin=e}return e},dockOutwardEnd:function(a,b,c,d){var e=d.end,g=d.sizeProp,g=b.getProp(g)+b.getMarginInfo()[g];if(d.collapsed)d.ignoreFrameBegin=d.ignoreFrameEnd=true;else if(c.ignoreParentFrame){b=c.dock;e=e+(a.borderInfo[b]+a.paddingInfo[b]+
a.framingInfo[b]);d.ignoreFrameEnd=true}if(!c.overlay){d.end=e+g;d.dockedPixelsEnd=d.dockedPixelsEnd+g}return e},dockStretch:function(a,b,c,d){var e=c.dock,g=d.sizeProp,h=e=="top"||e=="bottom",i=b.offsets,j=a.borderInfo,k=a.paddingInfo,l=h?"left":"top",e=d.begin+i[l];if(c.stretch!==false){h=d.end-e-i[h?"right":"bottom"];if(c.ignoreParentFrame){a=a.framingInfo;e=e-(j[l]+k[l]+a[l]);h=h+(j[g]+k[g]+a[g])}a=b.getMarginInfo();h=h-a[g];b[d.setSize](h)}return e},finishAxis:function(a,b){var c=b.end-b.begin,
d=b.setSize,e=b.dockBegin,g=b.dockEnd,h=a.borderInfo,i=a.paddingInfo,j=a.framingInfo,k=i[e]+h[e]+j[e],l=a.bodyContext,m,n;if(b.shrinkWrap){b.delta=-b.begin;m=b.initialSize;if(b.ignoreFrameBegin){b.delta=b.delta-h[e];e=-b.begin-k}else{c=c+k;b.delta=b.delta+(i[e]+j[e]);e=-b.begin}b.ignoreFrameEnd||(c=c+(i[g]+h[g]+j[g]));b.size=c;!b.horizontal&&!this.owner.manageHeight&&(n=false)}else{b.delta=-h[b.dockBegin];m=c;e=b.begin-k}l[d](m,n);l.setProp(b.bodyPosProp,e);return!isNaN(c)},finishConstraints:function(a,
b,c){var d=this.sizeModels,e=b.shrinkWrap,g=c.shrinkWrap,h,i,j,k,l,m;if(e){m=b.size;if(m<b.minSize){l=d.constrainedMin;j=b.minSize}else if(m>b.maxSize){l=d.constrainedMax;j=b.maxSize}else j=m}if(g){m=c.size;if(m<c.minSize){k=d.constrainedMin;i=c.minSize}else if(m>c.maxSize){k=d.constrainedMax;i=c.maxSize}else{if(!a.collapsedVert&&!this.owner.manageHeight){h=false;a.bodyContext.setProp("margin-bottom",c.dockedPixelsEnd)}i=m}}if(l||k){if(l&&k&&l.constrainedMax&&k.constrainedMin){a.invalidate({widthModel:l});
return false}if(!a.widthModel.calculatedFromShrinkWrap&&!a.heightModel.calculatedFromShrinkWrap){a.invalidate({widthModel:l,heightModel:k});return false}}if(e){a.setWidth(j);if(l)a.widthModel=l}if(g){a.setHeight(i,h);if(k)a.heightModel=k}return true},finishPositions:function(a,b,c){var a=a.dockedItems,d=a.length,b=b.delta,c=c.delta,e,g;for(e=0;e<d;++e){g=a[e];g.setProp("x",b+g.dockedAt.x);g.setProp("y",c+g.dockedAt.y)}},finishedLayout:function(a){var b=a.target;this.callParent(arguments);a.animatePolicy||
(a.isCollapsingOrExpanding===1?b.afterCollapse(false):a.isCollapsingOrExpanding===2&&b.afterExpand(false))},getAnimatePolicy:function(a){var b,c;if(a.isCollapsingOrExpanding==1)b=this.lastCollapsedState;else if(a.isCollapsingOrExpanding==2)b=a.lastCollapsedState;if(b=="left"||b=="right")c=this.horizontalCollapsePolicy;else if(b=="top"||b=="bottom")c=this.verticalCollapsePolicy;return c},getDockedItems:function(a,b){var c=this,d=a==="visual",e=d?Ext.ComponentQuery.query("[rendered]",c.owner.dockedItems.items):
c.owner.dockedItems.items,g=e&&e.length&&a!==false,h,i,j,k;if(b==null)d=g&&!d?e.slice():e;else{d=[];j=0;for(k=e.length;j<k;++j){i=e[j].dock;i=i=="top"||i=="left";(b?i:!i)&&d.push(e[j])}g=g&&d.length}if(g){h=(a=a||"render")=="render";Ext.Array.sort(d,function(b,d){var e,g;if(h&&(e=c.owner.dockOrder[b.dock])!==(g=c.owner.dockOrder[d.dock])&&!(e+g))return e-g;e=c.getItemWeight(b,a);g=c.getItemWeight(d,a);return e!==void 0&&g!==void 0?e-g:0})}return d||[]},getItemWeight:function(a,b){var c=a.weight||
this.owner.defaultDockWeights[a.dock];return c[b]||c},getLayoutItems:function(){var a,b,c,d,e;if(this.owner.collapsed)e=this.owner.getCollapsedDockedItems();else{a=this.getDockedItems("visual");b=a.length;e=[];for(d=0;d<b;d++){c=a[d];c.hidden||e.push(c)}}return e},measureContentWidth:function(a){a=a.bodyContext;return a.el.getWidth()-a.getBorderInfo().width},measureContentHeight:function(a){a=a.bodyContext;return a.el.getHeight()-a.getBorderInfo().height},redoLayout:function(a){var b=this.owner;if(a.isCollapsingOrExpanding==
1){b.reExpander&&b.reExpander.el.show();b.addClsWithUI(b.collapsedCls);a.redo(true)}else if(a.isCollapsingOrExpanding==2){b.removeClsWithUI(b.collapsedCls);a.bodyContext.redo()}},renderChildren:function(){var a=this.getDockedItems(),b=this.getRenderTarget();this.renderItems(a,b)},renderItems:function(a,b){var c=a.length,d=0,e=0,g=0,h=this.getRenderTarget().dom.childNodes,i=h.length,j,k,l,m;for(j=0;j<i;j++){l=h[j];if(Ext.fly(l).hasCls("x-resizable-handle"))break;for(k=0;k<c;k++){m=a[k];if(m.rendered&&
m.el.dom===l)break}k===c&&g++}for(;d<c;d++,e++){m=a[d];if(d===e&&(m.dock==="right"||m.dock==="bottom"))e=e+g;m&&!m.rendered?this.renderItem(m,b,e):this.isValidParent(m,b,e)||this.moveItem(m,b,e)}},undoLayout:function(a){var b=this.owner;if(a.isCollapsingOrExpanding==1){b.reExpander&&b.reExpander.el.hide();b.removeClsWithUI(b.collapsedCls);a.undo(true)}else if(a.isCollapsingOrExpanding==2){b.addClsWithUI(b.collapsedCls);a.bodyContext.undo()}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},stretchH:{setsWidth:1,
setsHeight:0},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(a){var b=this.sizePolicy;if(a.stretch===false)return b.nostretch;a=a.dock;return a=="left"||a=="right"?b.stretchV:b.stretchH},configureItem:function(a,b){this.callParent(arguments);a.addCls(Ext.baseCSSPrefix+"docked");a.addClsWithUI("docked-"+a.dock)},afterRemove:function(a){this.callParent(arguments);this.itemCls&&
a.el.removeCls(this.itemCls+"-"+a.dock);var b=a.el.dom;!a.destroying&&b&&b.parentNode.removeChild(b);this.childrenChanged=true}});
Ext.define("Ext.util.Memento",function(){function a(a,b,c,d){a[d?d+c:c]=b[c]}function b(a,b,c){delete a[c]}function c(a,b,c,d){var d=d?d+c:c,j=a[d];if(j||a.hasOwnProperty(d))Ext.isDefined(j)?b[c]=j:delete b[c]}function d(a,b,c,d,j){if(b)if(Ext.isArray(d)){var k,l=d.length;for(k=0;k<l;k++)a(b,c,d[k],j)}else a(b,c,d,j)}return{data:null,target:null,constructor:function(a,b){if(a){this.target=a;b&&this.capture(b)}},capture:function(b,c,h){d(a,this.data||(this.data={}),c||this.target,b,h)},remove:function(a){d(b,
this.data,null,a)},restore:function(a,b,h,i){d(c,this.data,h||this.target,a,i);b!==false&&this.remove(a)},restoreAll:function(a,b){var c=b||this.target,d=this.data,j;for(j in d)if(d.hasOwnProperty(j)){var k=c,l=j,m=d[j];Ext.isDefined(m)?k[l]=m:delete k[l]}a!==false&&delete this.data}}}());
Ext.define("Ext.panel.Panel",{extend:"Ext.panel.AbstractPanel",requires:"Ext.panel.Header Ext.fx.Anim Ext.util.KeyMap Ext.panel.DD Ext.XTemplate Ext.layout.component.Dock Ext.util.Memento".split(" "),alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:!1,collapseFirst:!0,hideCollapseTool:!1,titleCollapse:!1,floatable:!0,collapsible:!1,closable:!1,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,
preventHeader:!1,header:void 0,headerPosition:"top",frame:!1,frameHeader:!0,titleAlign:"left",manageHeight:!0,initComponent:function(){this.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange");this.collapsible&&this.addStateEvents(["expand","collapse"]);this.unstyled&&this.setUI("plain");this.frame&&this.setUI(this.ui+"-framed");this.bridgeToolbars();this.callParent();this.collapseDirection=this.collapseDirection||this.headerPosition||
Ext.Component.DIRECTION_TOP;this.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){Ext.destroy(this.placeholder,this.ghostPanel,this.dd);this.callParent()},initAria:function(){this.callParent();this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var a=this.el,b=this.header;a&&b&&a.dom.setAttribute("aria-labelledby",b.titleCmp.id)},getHeader:function(){return this.header},setTitle:function(a){var b=this.title,c=this.header,d=this.reExpander,
e=this.placeholder;this.title=a;c?c.isHeader?c.setTitle(a):c.title=a:this.updateHeader();d&&d.setTitle(a);e&&e.setTitle&&e.setTitle(a);this.fireEvent("titlechange",this,a,b)},setIconCls:function(a){var b=this.iconCls,c=this.header,d=this.placeholder;this.iconCls=a;c?c.isHeader?c.setIconCls(a):c.iconCls=a:this.updateHeader();d&&d.setIconCls&&d.setIconCls(a);this.fireEvent("iconclschange",this,a,b)},setIcon:function(a){var b=this.icon,c=this.header,d=this.placeholder;this.icon=a;c?c.isHeader?c.setIcon(a):
c.icon=a:this.updateHeader();d&&d.setIcon&&d.setIcon(a);this.fireEvent("iconchange",this,a,b)},bridgeToolbars:function(){function a(a,c,d){if(Ext.isArray(a))a={xtype:"toolbar",items:a};else if(!a.xtype)a.xtype="toolbar";a.dock=c;if(c=="left"||c=="right")a.vertical=true;if(d)a.layout=Ext.applyIf(a.layout||{},{pack:{left:"start",center:"center"}[b.buttonAlign]||"end"});return a}var b=this,c=[],d,e,g=b.minButtonWidth;if(b.tbar){c.push(a(b.tbar,"top"));b.tbar=null}if(b.bbar){c.push(a(b.bbar,"bottom"));
b.bbar=null}if(b.buttons){b.fbar=b.buttons;b.buttons=null}if(b.fbar){d=a(b.fbar,"bottom",true);d.ui="footer";if(g){e=d.defaults;d.defaults=function(a){var b=e||{};if((!a.xtype||a.xtype==="button"||a.isComponent&&a.isXType("button"))&&!("minWidth"in b))b=Ext.apply({minWidth:g},b);return b}}c.push(d);b.fbar=null}if(b.lbar){c.push(a(b.lbar,"left"));b.lbar=null}if(b.rbar){c.push(a(b.rbar,"right"));b.rbar=null}if(b.dockedItems){if(!Ext.isArray(b.dockedItems))b.dockedItems=[b.dockedItems];b.dockedItems=
b.dockedItems.concat(c)}else b.dockedItems=c},isPlaceHolderCollapse:function(){return this.collapseMode=="placeholder"},onBoxReady:function(){this.callParent();this.collapsed&&this.setHiddenDocked()},beforeRender:function(){var a;this.callParent();this.initTools();this.preventHeader||this.header===false||this.updateHeader();if(this.collapsed)if(this.isPlaceHolderCollapse()){this.hidden=true;this.placeholderCollapse();a=this.collapsed;this.collapsed=false}else{this.beginCollapse();this.addClsWithUI(this.collapsedCls)}if(a)this.collapsed=
a},initTools:function(){this.tools=this.tools?Ext.Array.clone(this.tools):[];if(this.collapsible&&!this.hideCollapseTool&&!(this.header===false||this.preventHeader)){this.collapseDirection=this.collapseDirection||this.headerPosition||"top";this.collapseTool=this.expandTool=Ext.widget({xtype:"tool",type:this.collapsed&&!this.isPlaceHolderCollapse()?"expand-"+this.getOppositeDirection(this.collapseDirection):"collapse-"+this.collapseDirection,handler:this.toggleCollapse,scope:this});this.collapseFirst&&
this.tools.unshift(this.collapseTool)}this.addTools();if(this.closable){this.addClsWithUI("closable");this.addTool({type:"close",handler:Ext.Function.bind(this.close,this,[])})}this.collapseTool&&!this.collapseFirst&&this.addTool(this.collapseTool)},addTools:Ext.emptyFn,close:function(){this.fireEvent("beforeclose",this)!==false&&this.doClose()},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},updateHeader:function(a){var b=this.header,c=this.title,d=this.tools,e=this.icon||
this.iconCls,g=this.headerPosition=="left"||this.headerPosition=="right";if(b!==false&&(a||c||e||d&&d.length||this.collapsible&&!this.titleCollapse)){if(b&&b.isHeader)b.show();else{b=this.header=Ext.widget(Ext.apply({xtype:"header",title:c,titleAlign:this.titleAlign,orientation:g?"vertical":"horizontal",dock:this.headerPosition||"top",textCls:this.headerTextCls,iconCls:this.iconCls,icon:this.icon,baseCls:this.baseCls+"-header",tools:d,ui:this.ui,id:this.id+"_header",indicateDrag:this.draggable,frame:(this.frame||
this.alwaysFramed)&&this.frameHeader,ignoreParentFrame:this.frame||this.overlapHeader,ignoreBorderManagement:this.frame||this.ignoreHeaderBorderManagement,listeners:this.collapsible&&this.titleCollapse?{click:this.toggleCollapse,scope:this}:null},this.header));this.addDocked(b,0);this.tools=b.tools}this.initHeaderAria()}else b&&b.hide()},setUI:function(a){this.callParent(arguments);this.header&&this.header.rendered&&this.header.setUI(a)},getContentTarget:function(){return this.body},getTargetEl:function(){return this.body||
this.protoBody||this.frameBody||this.el},isVisible:function(a){return this.collapsed&&this.placeholder?this.placeholder.isVisible(a):this.callParent(arguments)},onHide:function(){this.collapsed&&this.placeholder?this.placeholder.hide():this.callParent(arguments)},onShow:function(){if(this.collapsed&&this.placeholder){this.hidden=true;this.placeholder.show()}else this.callParent(arguments)},onRemoved:function(a){this.callParent(arguments);this.placeholder&&!a&&this.ownerCt.remove(this.placeholder,
false)},addTool:function(a){var a=[].concat(a),b=this.header,c,d=a.length,e;for(c=0;c<d;c++){e=a[c];this.tools.push(e);b&&b.isHeader&&b.addTool(e)}this.updateHeader()},getOppositeDirection:function(a){var b=Ext.Component;switch(a){case b.DIRECTION_TOP:return b.DIRECTION_BOTTOM;case b.DIRECTION_RIGHT:return b.DIRECTION_LEFT;case b.DIRECTION_BOTTOM:return b.DIRECTION_TOP;case b.DIRECTION_LEFT:return b.DIRECTION_RIGHT}},getWidthAuthority:function(){return this.collapsed&&this.collapsedHorizontal()?1:
this.callParent()},getHeightAuthority:function(){return this.collapsed&&this.collapsedVertical()?1:this.callParent()},collapsedHorizontal:function(){var a=this.getCollapsed();return a=="left"||a=="right"},collapsedVertical:function(){var a=this.getCollapsed();return a=="top"||a=="bottom"},restoreDimension:function(){var a=this.collapseDirection;return a==="top"||a==="bottom"?"height":"width"},getCollapsed:function(){return this.collapsed===true?this.collapseDirection:this.collapsed},getState:function(){var a=
this.callParent(),b,a=this.addPropertyToState(a,"collapsed");if(this.collapsed){b=(b=this.collapseMemento)&&b.data;if(this.collapsedVertical()){a&&delete a.height;b&&(a=this.addPropertyToState(a,"height",b.height))}else{a&&delete a.width;b&&(a=this.addPropertyToState(a,"width",b.width))}}return a},findReExpander:function(a){var b=Ext.Component,c=this.dockedItems.items,d=c.length;if(this.collapseMode!="mini")switch(a){case b.DIRECTION_TOP:case b.DIRECTION_BOTTOM:for(b=0;b<d;b++){a=c[b];if(!a.hidden&&
a.isHeader&&(!a.dock||a.dock=="top"||a.dock=="bottom"))return a}break;case b.DIRECTION_LEFT:case b.DIRECTION_RIGHT:for(b=0;b<d;b++){a=c[b];if(!a.hidden&&a.isHeader&&(a.dock=="left"||a.dock=="right"))return a}break;default:throw"Panel#findReExpander must be passed a valid collapseDirection";}},getReExpander:function(a){var a=a||this.collapseDirection,b=this.reExpander||this.findReExpander(a);this.expandDirection=this.getOppositeDirection(a);if(!b){this.reExpander=b=this.createReExpander(a,{dock:a,
cls:Ext.baseCSSPrefix+"docked "+this.baseCls+"-"+this.ui+"-collapsed",ownerCt:this,ownerLayout:this.componentLayout});this.dockedItems.insert(0,b)}return b},createReExpander:function(a,b){var c=a=="left",d=a=="right",e=c||d,g=Ext.apply({hideMode:"offsets",title:this.title,orientation:e?"vertical":"horizontal",textCls:this.headerTextCls,icon:this.icon,iconCls:this.iconCls,baseCls:this.baseCls+"-header",ui:this.ui,frame:this.frame&&this.frameHeader,ignoreParentFrame:this.frame||this.overlapHeader,indicateDrag:this.draggable},
b);if(this.collapseMode=="mini")e?g.width=1:g.height=1;if(!this.hideCollapseTool){c=c||d&&this.isPlaceHolderCollapse();g[c?"items":"tools"]=[{xtype:"tool",type:"expand-"+this.getOppositeDirection(a),uiCls:["top"],handler:this.toggleCollapse,scope:this}]}g=new Ext.panel.Header(g);g.addClsWithUI(this.getHeaderCollapsedClasses(g));return g},getHeaderCollapsedClasses:function(a){var b=this.collapsedCls,c;c=[b,b+"-"+a.dock];this.border&&(!this.frame||this.frame&&Ext.supports.CSS3BorderRadius)&&c.push(b+
"-border-"+a.dock);return c},beginCollapse:function(){var a=this.lastBox,b=this.rendered,c=this.collapseMemento||(this.collapseMemento=new Ext.util.Memento(this)),d=this.getSizeModel();c.capture(["height","minHeight","width","minWidth"]);a&&c.capture(this.restoreDimension(),a,"last.");if(this.collapsedVertical()){if(d.width.shrinkWrap)this.width=b?this.getWidth():this.width||this.minWidth||100;delete this.height;this.minHeight=0}else if(this.collapsedHorizontal()){if(d.height.shrinkWrap)this.height=
b?this.getHeight():this.height||this.minHeight||100;delete this.width;this.minWidth=0}this.ownerCt&&this.ownerCt.getLayout().beginCollapse(this);if(!this.isPlaceHolderCollapse())if(this.header===(a=this.getReExpander())){this.header.addClsWithUI(this.getHeaderCollapsedClasses(this.header));this.header.rendered&&this.header.updateFrame()}else if(a.el){a.el.show();a.hidden=false}this.resizer&&this.resizer.disable()},beginExpand:function(){var a=this.lastBox,b=this.collapseMemento,c=this.restoreDimension();
b.restore(["minHeight","minWidth",c]);a&&b.restore(c,true,a,"last.");this.ownerCt&&this.ownerCt.getLayout().beginExpand(this);if(!this.isPlaceHolderCollapse())if(this.header===(a=this.getReExpander())){this.header.removeClsWithUI(this.getHeaderCollapsedClasses(this.header));this.header.rendered&&this.header.updateFrame()}else{a.hidden=true;a.el.hide()}this.resizer&&this.resizer.enable()},collapse:function(a,b){var c=a||this.collapseDirection,d=this.ownerCt;if(this.isCollapsingOrExpanding)return this;
if(arguments.length<2)b=this.animCollapse;if(this.collapsed||this.fireEvent("beforecollapse",this,a,b)===false)return this;if(d&&this.isPlaceHolderCollapse())return this.placeholderCollapse(a,b);this.collapsed=c;this.beginCollapse();this.fireHierarchyEvent("collapse");return this.doCollapseExpand(1,b)},doCollapseExpand:function(a,b){var c=this.animCollapse,d=this.ownerLayout;this.animCollapse=b;this.isCollapsingOrExpanding=a;if(d&&!b)d.onContentChange(this);else this.updateLayout({isRoot:true});this.animCollapse=
c;return this},afterCollapse:function(a){var b=this.ownerLayout;this.isCollapsingOrExpanding=0;this.collapseTool&&this.collapseTool.setType("expand-"+this.getOppositeDirection(this.collapseDirection));if(b&&a)b.onContentChange(this);this.setHiddenDocked();this.fireEvent("collapse",this)},setHiddenDocked:function(){var a=this.hiddenOnCollapse,b=this.getReExpander(),c=this.getDockedItems(),d=c.length,e=0,g;for(a.add(this.body);e<d;e++)(g=c[e])&&(g!==b&&g.el)&&a.add(g.el);a.setStyle("visibility","hidden")},
restoreHiddenDocked:function(){var a=this.hiddenOnCollapse;a.setStyle("visibility","");a.clear()},getPlaceholder:function(a){var a=a||this.collapseDirection,b=null,c=this.placeholder;if(!c){if(this.floatable||this.collapsible&&this.titleCollapse)b={click:{fn:this.floatable?this.floatCollapsedPanel:this.toggleCollapse,element:"el",scope:this}};this.placeholder=c=Ext.widget(this.createReExpander(a,{id:this.id+"-placeholder",listeners:b}))}if(!c.placeholderFor){if(!c.isComponent)this.placeholder=c=this.lookupComponent(c);
Ext.applyIf(c,{margins:this.margins,placeholderFor:this});c.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+a+"-placeholder",this.collapsedCls])}return c},placeholderCollapse:function(a,b){var c=this,d=c.ownerCt,e=a||c.collapseDirection,g=Ext.baseCSSPrefix+"border-region-slide-in",h=c.getPlaceholder(a);c.isCollapsingOrExpanding=1;c.hidden=true;c.collapsed=e;if(h.rendered){h.el.dom.parentNode!==c.el.dom.parentNode&&c.el.dom.parentNode.insertBefore(h.el.dom,
c.el.dom);h.hidden=false;h.el.show();d.updateLayout()}else d.insert(d.items.indexOf(c),h);if(c.rendered){c.el.setVisibilityMode(c.placeholderCollapseHideMode);if(b){c.el.addCls(g);h.el.hide();c.el.slideOut(e.substr(0,1),{preserveScroll:true,duration:Ext.Number.from(b,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){c.el.removeCls(g);h.el.show().setStyle("display","none").slideIn(e.substr(0,1),{easing:"linear",duration:100,listeners:{afteranimate:function(){h.focus();c.isCollapsingOrExpanding=
0;c.fireEvent("collapse",c)}}})}}})}else{c.el.hide();c.isCollapsingOrExpanding=0;c.fireEvent("collapse",c)}}else{c.isCollapsingOrExpanding=0;c.fireEvent("collapse",c)}return c},floatCollapsedPanel:function(){function a(a){b.isDestroyed||b.el.getRegion().union(c.el.getRegion()).adjust(1,-1,-1,1).contains(a.getPoint())||b.slideOutFloatedPanel()}var b=this,c=b.placeholder,d=c.getBox(true),e,g=Ext.baseCSSPrefix+"border-region-slide-in",h=b.collapsed,i=b.ownerCt||b,j;if(b.el.hasCls(g))b.slideOutFloatedPanel();
else if(!b.isSliding){b.isSliding=true;b.placeholder.el.hide();b.placeholder.hidden=true;b.el.show();b.hidden=false;b.collapsed=false;i.updateLayout();e=b.getBox(true);b.placeholder.el.show();b.placeholder.hidden=false;b.el.hide();b.hidden=true;b.collapsed=h;i.updateLayout();b.placeholderMouseMon=c.el.monitorMouseLeave(500,a);b.panelMouseMon=b.el.monitorMouseLeave(500,a);b.el.addCls(g);b.collapseTool&&b.collapseTool.el.hide();switch(b.collapsed){case "top":b.el.setLeftTop(d.x,d.y+d.height-1);j="t";
break;case "right":b.el.setLeftTop(d.x-e.width+1,d.y);j="r";break;case "bottom":b.el.setLeftTop(d.x,d.y-e.height+1);j="b";break;case "left":b.el.setLeftTop(d.x+d.width-1,d.y);j="l"}b.floatedFromCollapse=b.collapsed;b.collapsed=b.hidden=false;b.el.slideIn(j,{preserveScroll:true,listeners:{afteranimate:function(){b.isSliding=false}}})}},isLayoutRoot:function(){return this.floatedFromCollapse?true:this.callParent()},slideOutFloatedPanel:function(){var a=this,b=this.el,c;if(!a.isSliding){a.isSliding=
true;a.slideOutFloatedPanelBegin();typeof a.collapsed=="string"&&(c=a.collapsed.charAt(0));b.slideOut(c,{preserveScroll:true,listeners:{afteranimate:function(){a.slideOutFloatedPanelEnd();a.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in");a.isSliding=false}}})}},slideOutFloatedPanelBegin:function(){var a=this.el;this.collapsed=this.floatedFromCollapse;this.hidden=true;this.floatedFromCollapse=null;a.un(this.panelMouseMon);this.placeholder.el.un(this.placeholderMouseMon)},slideOutFloatedPanelEnd:function(){this.collapseTool&&
this.collapseTool.el.show()},expand:function(a){if(this.isCollapsingOrExpanding)return this;if(!arguments.length)a=this.animCollapse;if(!this.collapsed&&!this.floatedFromCollapse||this.fireEvent("beforeexpand",this,a)===false)return this;if(this.isPlaceHolderCollapse())return this.placeholderExpand(a);this.restoreHiddenDocked();this.beginExpand();this.collapsed=false;this.fireHierarchyEvent("expand");return this.doCollapseExpand(2,a)},placeholderExpand:function(a){var b=this,c=b.collapsed,d=Ext.baseCSSPrefix+
"border-region-slide-in",e;if(b.floatedFromCollapse){e=b.getPosition(true);b.slideOutFloatedPanelBegin();b.slideOutFloatedPanelEnd()}b.isCollapsingOrExpanding=2;b.placeholder.hidden=true;b.placeholder.el.hide();b.collapsed=false;b.show();if(a)if(e){c=b.el.getXY();b.el.setLeftTop(e[0],e[1]);b.el.moveTo(c[0],c[1],{duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){b.el.removeCls(d);b.isCollapsingOrExpanding=0;b.fireEvent("expand",b)}}})}else{b.hidden=true;
b.el.addCls(d);b.el.hide();b.collapsed=c;b.placeholder.show();e=c.substr(0,1);b.hidden=false;b.el.slideIn(e,{preserveScroll:true,duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){b.collapsed=false;b.el.removeCls(d);b.placeholder.hide();b.isCollapsingOrExpanding=0;b.fireEvent("expand",b)}}})}else{b.isCollapsingOrExpanding=0;b.fireEvent("expand",b)}return b},afterExpand:function(a){var b=this.ownerLayout;this.isCollapsingOrExpanding=0;this.collapseTool&&this.collapseTool.setType("collapse-"+
this.collapseDirection);if(b&&a)b.onContentChange(this);this.fireEvent("expand",this)},setBorder:function(a,b){if(!b){var c=this.header,a=a?Ext.Element.unitizeBox(a===true?1:a):0;if(c)c.isHeader?c.setBorder(a):c.border=a;this.rendered&&this.bodyBorder!==false&&this.body.setStyle("border-width",a);this.updateLayout();this.border=a}},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},
this.keys)))},initDraggable:function(){this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},ghostTools:function(){var a=[],b=this.header,b=b?b.query("tool[hidden=false]"):[],c,d,e;if(b.length){c=0;for(d=b.length;c<d;c++){e=b[c];a.push({type:e.type})}}else a=[{type:"placeholder"}];return a},ghost:function(a){var b=this.ghostPanel,c=this.getBox();if(b)b.el.show();else this.ghostPanel=b=new Ext.panel.Panel({renderTo:document.body,floating:{shadow:false},frame:this.frame&&
!this.alwaysFramed,alwaysFramed:this.alwaysFramed,overlapHeader:this.overlapHeader,headerPosition:this.headerPosition,baseCls:this.baseCls,cls:this.baseCls+"-ghost "+(a||"")});b.floatParent=this.floatParent;this.floating?b.setZIndex(Ext.Number.from(this.el.getStyle("zIndex"),0)):b.toFront();if(!(this.preventHeader||this.header===false)){if(a=b.header){a.suspendLayouts();Ext.Array.forEach(a.query("tool"),a.remove,a);a.resumeLayouts()}b.addTool(this.ghostTools());b.setTitle(this.title);b.setIconCls(this.iconCls)}b.setPagePosition(c.x,
c.y);b.setSize(c.width,c.height);this.el.hide();return b},unghost:function(a,b){if(this.ghostPanel){if(a!==false){this.el.show();if(b!==false){this.setPagePosition(this.ghostPanel.el.getXY());this.hideMode=="offsets"&&delete this.el.hideModeStyles}Ext.defer(this.focus,10,this)}this.ghostPanel.el.hide()}},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},initResizable:function(a){if(this.collapsed)a.disabled=
true;this.callParent([a])}},function(){this.prototype.animCollapse=Ext.enableFx});
Ext.define("Ext.tip.Tip",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:!0,shim:!0,constrain:!0},focusOnToFront:!1,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:!0,frameHeader:!1,initComponent:function(){this.floating=Ext.apply({},{shadow:this.shadow},this.self.prototype.floating);this.callParent(arguments);this.constrain=this.constrain||
this.constrainPosition},showAt:function(a){this.callParent(arguments);if(this.isVisible()){this.setPagePosition(a[0],a[1]);(this.constrainPosition||this.constrain)&&this.doConstrain();this.toFront(true)}},showBy:function(a,b){this.showAt(this.el.getAlignToXY(a,b||this.defaultAlign))},initDraggable:function(){this.draggable={el:this.getDragEl(),delegate:this.header.el,constrain:this,constrainTo:this.el.getScopeParent()};Ext.Component.prototype.initDraggable.call(this)},ghost:void 0,unghost:void 0});
Ext.define("Ext.tip.ToolTip",{extend:"Ext.tip.Tip",alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5E3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){this.callParent(arguments);this.lastActive=new Date;this.setTarget(this.target);this.origAnchor=this.anchor},onRender:function(a,b){this.callParent(arguments);this.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+this.getAnchorPosition();
this.anchorEl=this.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+this.anchorCls})},setTarget:function(a){var a=Ext.get(a),b;if(this.target){b=Ext.get(this.target);this.mun(b,"mouseover",this.onTargetOver,this);this.mun(b,"mouseout",this.onTargetOut,this);this.mun(b,"mousemove",this.onMouseMove,this)}(this.target=a)&&this.mon(a,{freezeEvent:true,mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this});if(this.anchor)this.anchorTarget=this.target},onMouseMove:function(a){var b=
this.delegate?a.getTarget(this.delegate):this.triggerElement=true;if(b){this.targetXY=a.getXY();if(b===this.triggerElement){if(!this.hidden&&this.trackMouse){a=this.getTargetXY();this.constrainPosition&&(a=this.el.adjustForConstraints(a,this.el.getScopeParent()));this.setPagePosition(a)}}else{this.hide();this.lastActive=new Date(0);this.onTargetOver(a)}}else!this.closable&&this.isVisible()&&this.autoHide!==false&&this.hide()},getTargetXY:function(){var a,b,c,d,e,g,h;if(this.delegate)this.anchorTarget=
this.triggerElement;if(this.anchor){this.targetCounter++;b=this.getOffsets();c=this.anchorToTarget&&!this.trackMouse?this.el.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY;a=Ext.Element.getViewWidth()-5;d=Ext.Element.getViewHeight()-5;e=document.documentElement;g=document.body;h=(e.scrollLeft||g.scrollLeft||0)+5;e=(e.scrollTop||g.scrollTop||0)+5;b=[c[0]+b[0],c[1]+b[1]];c=this.getSize();g=this.constrainPosition;this.anchorEl.removeCls(this.anchorCls);if(this.targetCounter<2&&g){if(b[0]<
h){if(this.anchorToTarget){this.defaultAlign="l-r";this.mouseOffset&&(this.mouseOffset[0]=this.mouseOffset[0]*-1)}this.anchor="left";return this.getTargetXY()}if(b[0]+c.width>a){if(this.anchorToTarget){this.defaultAlign="r-l";this.mouseOffset&&(this.mouseOffset[0]=this.mouseOffset[0]*-1)}this.anchor="right";return this.getTargetXY()}if(b[1]<e){if(this.anchorToTarget){this.defaultAlign="t-b";this.mouseOffset&&(this.mouseOffset[1]=this.mouseOffset[1]*-1)}this.anchor="top";return this.getTargetXY()}if(b[1]+
c.height>d){if(this.anchorToTarget){this.defaultAlign="b-t";this.mouseOffset&&(this.mouseOffset[1]=this.mouseOffset[1]*-1)}this.anchor="bottom";return this.getTargetXY()}}this.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+this.getAnchorPosition();this.anchorEl.addCls(this.anchorCls);this.targetCounter=0;return b}a=this.getMouseOffset();return this.targetXY?[this.targetXY[0]+a[0],this.targetXY[1]+a[1]]:a},getMouseOffset:function(){var a=this.anchor?[0,0]:[15,18];if(this.mouseOffset){a[0]=a[0]+this.mouseOffset[0];
a[1]=a[1]+this.mouseOffset[1]}return a},getAnchorPosition:function(){var a;if(this.anchor)this.tipAnchor=this.anchor.charAt(0);else{(a=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/))||Ext.Error.raise('The AnchorTip.defaultAlign value "'+this.defaultAlign+'" is invalid.');this.tipAnchor=a[1].charAt(0)}switch(this.tipAnchor){case "t":return"top";case "b":return"bottom";case "r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case "top":return"tl-bl";case "left":return"tl-tr";
case "right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var a,b;a=this.getAnchorPosition().charAt(0);if(this.anchorToTarget&&!this.trackMouse)switch(a){case "t":b=[0,9];break;case "b":b=[0,-13];break;case "r":b=[-13,0];break;default:b=[9,0]}else switch(a){case "t":b=[-15-this.anchorOffset,30];break;case "b":b=[-19-this.anchorOffset,-13-this.el.dom.offsetHeight];break;case "r":b=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];break;default:b=[25,-13-this.anchorOffset]}a=this.getMouseOffset();
b[0]=b[0]+a[0];b[1]=b[1]+a[1];return b},onTargetOver:function(a){var b;if(!this.disabled&&!a.within(this.target.dom,true))if(b=a.getTarget(this.delegate)){this.triggerElement=b;this.clearTimer("hide");this.targetXY=a.getXY();this.delayShow()}},delayShow:function(){this.hidden&&!this.showTimer?Ext.Date.getElapsed(this.lastActive)<this.quickShowInterval?this.show():this.showTimer=Ext.defer(this.show,this.showDelay,this):!this.hidden&&this.autoHide!==false&&this.show()},onShowVeto:function(){this.callParent();
this.clearTimer("show")},onTargetOut:function(a){if(!this.disabled&&!a.within(this.target.dom,true)){this.clearTimer("show");this.autoHide!==false&&this.delayHide()}},delayHide:function(){if(!this.hidden&&!this.hideTimer)this.hideTimer=Ext.defer(this.hide,this.hideDelay,this)},hide:function(){this.clearTimer("dismiss");this.lastActive=new Date;this.anchorEl&&this.anchorEl.hide();this.callParent(arguments);delete this.triggerElement},show:function(){this.callParent();if(this.hidden===false){this.setPagePosition(-1E4,
-1E4);if(this.anchor)this.anchor=this.origAnchor;this.calledFromShowAt||this.showAt(this.getTargetXY());if(this.anchor){this.syncAnchor();this.anchorEl.show()}else this.anchorEl.hide()}},showAt:function(a){this.lastActive=new Date;this.clearTimers();this.calledFromShowAt=true;this.isVisible()||this.callParent(arguments);if(this.isVisible()){this.setPagePosition(a[0],a[1]);(this.constrainPosition||this.constrain)&&this.doConstrain();this.toFront(true);this.el.sync(true);if(this.dismissDelay&&this.autoHide!==
false)this.dismissTimer=Ext.defer(this.hide,this.dismissDelay,this);if(this.anchor){this.syncAnchor();this.anchorEl.isVisible()||this.anchorEl.show()}else this.anchorEl.hide()}delete this.calledFromShowAt},syncAnchor:function(){var a,b,c;switch(this.tipAnchor.charAt(0)){case "t":a="b";b="tl";c=[20+this.anchorOffset,1];break;case "r":a="l";b="tr";c=[-1,12+this.anchorOffset];break;case "b":a="t";b="bl";c=[20+this.anchorOffset,-1];break;default:a="r";b="tl";c=[1,12+this.anchorOffset]}this.anchorEl.alignTo(this.el,
a+"-"+b,c);this.anchorEl.setStyle("z-index",parseInt(this.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(a,b){this.callParent(arguments);this.anchor&&this.syncAnchor()},clearTimer:function(a){a=a+"Timer";clearTimeout(this[a]);delete this[a]},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");this.clearTimer("hide")},onShow:function(){this.callParent();this.mon(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onHide:function(){this.callParent();
this.mun(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(a){if(!this.closable&&!a.within(this.el.dom)){this.disable();Ext.defer(this.doEnable,100,this)}},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){this.clearTimers();Ext.destroy(this.anchorEl);delete this.anchorEl;delete this.target;delete this.anchorTarget;delete this.triggerElement;this.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",
this.onDocMouseDown,this);this.callParent()}});
Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};this.callParent()},register:function(a){for(var b=Ext.isArray(a)?a:arguments,c=0,d=b.length,e,g,h;c<d;c++){a=b[c];
if(e=a.target)if(Ext.isArray(e)){g=0;for(h=e.length;g<h;g++)this.targets[Ext.id(e[g])]=a}else this.targets[Ext.id(e)]=a}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this.activeTarget,a=Ext.get(a).dom;this.isVisible()?b&&b.el==a&&this.hide():b&&b.el==a&&this.clearTimer("show")},getTipCfg:function(a){var b=a.getTarget(),c=b.title;if(this.interceptTitles&&c&&Ext.isString(c)){b.qtip=c;b.removeAttribute("title");a.preventDefault();return{text:c}}c=this.tagConfig;
if(b=a.getTarget("["+c.namespace+c.attribute+"]"))return{target:b,text:b.getAttribute(c.namespace+c.attribute)}},onTargetOver:function(a){var b=a.getTarget(this.delegate),c,d,e,g,h;if(!this.disabled){this.targetXY=a.getXY();if(b&&!(b.nodeType!==1||b==document.documentElement||b==document.body))if(this.activeTarget&&(b==this.activeTarget.el||Ext.fly(this.activeTarget.el).contains(b))){this.clearTimer("hide");this.show()}else{if(b){e=this.targets;for(g in e)if(e.hasOwnProperty(g)){h=e[g];if((h=Ext.fly(h.target))&&
(h.dom===b||h.contains(b))){d=h.dom;break}}if(d){this.activeTarget=this.targets[d.id];this.activeTarget.el=b;if(this.anchor=this.activeTarget.anchor)this.anchorTarget=b;if(b=Ext.isDefined(this.activeTarget.showDelay)){c=this.showDelay;this.showDelay=this.activeTarget.showDelay}this.delayShow();if(b)this.showDelay=c;return}}d=Ext.fly(b,"_quicktip-target");e=this.tagConfig;g=e.namespace;if(a=this.getTipCfg(a)){if(a.target){b=a.target;d=Ext.fly(b,"_quicktip-target")}h=d.getAttribute(g+e.hide);this.activeTarget=
{el:b,text:a.text,width:+d.getAttribute(g+e.width)||null,autoHide:h!="user"&&h!=="false",title:d.getAttribute(g+e.title),cls:d.getAttribute(g+e.cls),align:d.getAttribute(g+e.align)};if(this.anchor=d.getAttribute(g+e.anchor))this.anchorTarget=b;if(b=Ext.isDefined(this.activeTarget.showDelay)){c=this.showDelay;this.showDelay=this.activeTarget.showDelay}this.delayShow();if(b)this.showDelay=c}}}},onTargetOut:function(a){var b=this.activeTarget,c;if(!b||!a.within(this.activeTarget.el)||this.getTipCfg(a)){this.clearTimer("show");
delete this.activeTarget;if(this.autoHide!==false){if(a=b&&Ext.isDefined(b.hideDelay)){c=this.hideDelay;this.hideDelay=b.hideDelay}this.delayHide();if(a)this.hideDelay=c}}},showAt:function(a){var b=this.activeTarget,c;if(b){if(!this.rendered){this.render(Ext.getBody());this.activeTarget=b}this.suspendLayouts();if(b.title){this.setTitle(b.title);this.header.show()}else this.header.hide();this.update(b.text);this.autoHide=b.autoHide;this.dismissDelay=b.dismissDelay||this.dismissDelay;if(b.mouseOffset){a[0]=
a[0]+b.mouseOffset[0];a[1]=a[1]+b.mouseOffset[1]}if(c=this.lastCls){this.removeCls(c);delete this.lastCls}if(c=b.cls){this.addCls(c);this.lastCls=c}this.setWidth(b.width);if(this.anchor)this.constrainPosition=false;else if(b.align){a=this.el.getAlignToXY(b.el,b.align);this.constrainPosition=false}else this.constrainPosition=true;this.resumeLayouts(true)}this.callParent([a])},hide:function(){delete this.activeTarget;this.callParent()}});
Ext.define("Ext.tip.QuickTipManager",function(){var a,b=false;return{requires:["Ext.tip.QuickTip"],singleton:true,alternateClassName:"Ext.QuickTips",init:function(c,d){if(!a)if(Ext.isReady){var e=Ext.apply({disabled:b,id:"ext-quicktips-tip"},d),g=e.className,h=e.xtype;if(g)delete e.className;else if(h){g="widget."+h;delete e.xtype}if(c!==false){e.renderTo=document.body;e.renderTo.tagName.toUpperCase()!="BODY"&&Ext.Error.raise({sourceClass:"Ext.tip.QuickTipManager",sourceMethod:"init",msg:"Cannot init QuickTipManager: no document body"})}a=
Ext.create(g||"Ext.tip.QuickTip",e)}else Ext.onReady(function(){Ext.tip.QuickTipManager.init(c,d)})},destroy:function(){if(a){a.destroy();a=void 0}},ddDisable:function(){a&&!b&&a.disable()},ddEnable:function(){a&&!b&&a.enable()},enable:function(){a&&a.enable();b=false},disable:function(){a&&a.disable();b=true},isEnabled:function(){return a!==void 0&&!a.disabled},getQuickTip:function(){return a},register:function(){a.register.apply(a,arguments)},unregister:function(){a.unregister.apply(a,arguments)},
tips:function(){a.register.apply(a,arguments)}}}());
Ext.define("Ext.app.EventBus",{requires:["Ext.util.Event","Ext.Component"],mixins:{observable:"Ext.util.Observable"},constructor:function(){this.mixins.observable.constructor.call(this);this.bus={};var a=this;Ext.override(Ext.Component,{fireEvent:function(b){return Ext.util.Observable.prototype.fireEvent.apply(this,arguments)!==false?a.dispatch.call(a,b,this,arguments):false}})},dispatch:function(a,b,c){var a=this.bus[a],d,e,g,h,i,j,k;if(a)for(d in a)if(a.hasOwnProperty(d)&&b.is(d)){e=a[d];for(g in e)if(e.hasOwnProperty(g)){h=
e[g];j=0;for(k=h.length;j<k;j++){i=h[j];if(i.fire.apply(i,Array.prototype.slice.call(c,1))===false)return false}}}return true},control:function(a,b,c){var d=this.bus,e,g,h,i,j,k,l;if(Ext.isString(a)){g=a;a={};a[g]=b;this.control(a,null,c)}else{b=Ext.util.Observable.HasListeners.prototype;for(g in a)if(a.hasOwnProperty(g)){k=a[g]||{};for(l in k)if(k.hasOwnProperty(l)){e={};h=k[l];i=c;j=new Ext.util.Event(c,l);if(Ext.isObject(h)){e=h;h=e.fn;i=e.scope||c;delete e.fn;delete e.scope}j.addListener(h,i,
e);b[l]=1;e=d[l]||(d[l]={});e=e[g]||(e[g]={});e=e[c.id]||(e[c.id]=[]);e.push(j)}}}}});
Ext.define("Ext.app.Application",{extend:"Ext.app.Controller",requires:"Ext.ModelManager Ext.data.Model Ext.data.StoreManager Ext.tip.QuickTipManager Ext.ComponentManager Ext.app.EventBus".split(" "),scope:void 0,enableQuickTips:!0,appFolder:"app",autoCreateViewport:!1,constructor:function(a){a=a||{};Ext.apply(this,a);var b=this,c=a.requires||[],d,e,g,h,i,j,k;Ext.Loader.setPath(b.name,b.appFolder);if(b.paths){i=b.paths;for(k in i)if(i.hasOwnProperty(k)){j=i[k];Ext.Loader.setPath(k,j)}}b.callParent(arguments);
b.eventbus=new Ext.app.EventBus;e=(d=Ext.Array.from(b.controllers))&&d.length;b.controllers=new Ext.util.MixedCollection;b.autoCreateViewport&&c.push(b.getModuleClassName("Viewport","view"));for(g=0;g<e;g++)c.push(b.getModuleClassName(d[g],"controller"));Ext.require(c);Ext.onReady(function(){b.init(b);for(g=0;g<e;g++){h=b.getController(d[g]);h.init(b)}b.onBeforeLaunch.call(b)},b)},control:function(a,b,c){this.eventbus.control(a,b,c)},launch:Ext.emptyFn,onBeforeLaunch:function(){var a,b,c,d;this.enableQuickTips&&
Ext.tip.QuickTipManager.init();this.autoCreateViewport&&this.getView("Viewport").create();this.launch.call(this.scope||this);this.launched=true;this.fireEvent("launch",this);a=this.controllers.items;c=a.length;for(b=0;b<c;b++){d=a[b];d.onLaunch(this)}},getModuleClassName:function(a,b){return a.indexOf(".")!==-1&&(Ext.ClassManager.isCreated(a)||Ext.Loader.isAClassNameWithAKnownPrefix(a))?a:this.name+"."+b+"."+a},getController:function(a){var b=this.controllers.get(a);if(!b){b=Ext.create(this.getModuleClassName(a,
"controller"),{application:this,id:a});this.controllers.add(b)}return b},getStore:function(a){var b=Ext.StoreManager.get(a);b||(b=Ext.create(this.getModuleClassName(a,"store"),{storeId:a}));return b},getModel:function(a){a=this.getModuleClassName(a,"model");return Ext.ModelManager.getModel(a)},getView:function(a){a=this.getModuleClassName(a,"view");return Ext.ClassManager.get(a)}});
Ext.define("Ext.container.Viewport",{extend:"Ext.container.Container",alias:"widget.viewport",requires:["Ext.EventManager"],alternateClassName:"Ext.Viewport",isViewport:!0,ariaRole:"application",preserveElOnDestroy:!0,initComponent:function(){var a=document.body.parentNode;Ext.getScrollbarSize();this.width=this.height=void 0;this.callParent(arguments);Ext.fly(a).addCls(Ext.baseCSSPrefix+"viewport");if(this.autoScroll){delete this.autoScroll;Ext.fly(a).setStyle("overflow","auto")}this.el=a=Ext.getBody();
a.setHeight=Ext.emptyFn;a.setWidth=Ext.emptyFn;a.setSize=Ext.emptyFn;a.dom.scroll="no";this.allowDomMove=false;this.renderTo=this.el},onRender:function(){this.callParent(arguments);this.width=Ext.Element.getViewportWidth();this.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var a=this;a.callParent(arguments);setTimeout(function(){Ext.EventManager.onWindowResize(a.fireResize,a)},1)},fireResize:function(a,b){(a!=this.width||b!=this.height)&&this.setSize(a,b)}});
Ext.define("Ext.resizer.Splitter",{extend:"Ext.Component",requires:["Ext.XTemplate"],uses:["Ext.resizer.SplitterTracker"],alias:"widget.splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}">&#160;</div>',"</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,collapsible:!1,collapseOnDblClick:!0,defaultSplitMin:40,
defaultSplitMax:1E3,collapseTarget:"next",horizontal:!1,vertical:!1,getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var a=this.getCollapseTarget(),b=this.getCollapseDirection(),c=this.vertical,d=c?"width":"height",c=c?"height":"width";this.callParent();this.hasOwnProperty(c)||(this[c]="100%");this.hasOwnProperty(d)||(this[d]=5);a.collapsed&&this.addCls(this.collapsedClsInternal);d=this.baseCls+"-"+this.orientation;this.addCls(d);
this.canResize||this.addCls(d+"-noresize");Ext.applyIf(this.renderData,{collapseDir:b,collapsible:this.collapsible||a.collapsible})},onRender:function(){this.callParent(arguments);if(this.performCollapse!==false){this.renderData.collapsible&&this.mon(this.collapseEl,"click",this.toggleTargetCmp,this);this.collapseOnDblClick&&this.mon(this.el,"dblclick",this.toggleTargetCmp,this)}this.mon(this.getCollapseTarget(),{collapse:this.onTargetCollapse,expand:this.onTargetExpand,scope:this});this.el.unselectable();
if(this.canResize){this.tracker=Ext.create(this.getTrackerConfig());this.relayEvents(this.tracker,["beforedragstart","dragstart","dragend"])}},getCollapseDirection:function(){var a=this.collapseDirection,b,c;if(!a){b=this.collapseTarget;if(b.isComponent)a=b.collapseDirection;if(!a){c=this.ownerCt.layout.type;if(b.isComponent){a=this.ownerCt.items;b=Number(a.indexOf(b)==a.indexOf(this)-1)<<1|Number(c=="hbox")}else b=Number(this.collapseTarget=="prev")<<1|Number(c=="hbox");a=["bottom","right","top",
"left"][b]}this.collapseDirection=a}this.orientation=a=="top"||a=="bottom"?"horizontal":"vertical";this[this.orientation]=true;return a},getCollapseTarget:function(){return this.collapseTarget.isComponent?this.collapseTarget:this.collapseTarget=="prev"?this.previousSibling():this.nextSibling()},onTargetCollapse:function(){this.el.addCls([this.collapsedClsInternal,this.collapsedCls])},onTargetExpand:function(){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls])},toggleTargetCmp:function(){var a=
this.getCollapseTarget(),b=a.placeholder;(b&&!b.hidden||!a.hidden)&&(a.collapsed?a.expand():a.collapseDirection?a.collapse():a.collapse(this.renderData.collapseDir))},setSize:function(){this.callParent(arguments);Ext.isIE&&this.el&&this.el.repaint()},beforeDestroy:function(){Ext.destroy(this.tracker);this.callParent()}});
Ext.define("Ext.resizer.BorderSplitter",{extend:"Ext.resizer.Splitter",uses:["Ext.resizer.BorderSplitterTracker"],alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var a=this.callParent();a.xclass="Ext.resizer.BorderSplitterTracker";return a}});
Ext.define("Ext.layout.container.Border",{alias:"layout.border",extend:"Ext.layout.container.Container",requires:["Ext.resizer.BorderSplitter","Ext.Component","Ext.fx.Anim"],alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",padding:void 0,percentageRe:/(\d+)%/,axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},
vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,collapseDirections:{north:"top",south:"bottom",east:"right",west:"left"},manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(a,b,c){var d=this.axisProps[c],e=!d.horizontal,g=d.sizeProp,h=0,i=a.childItems,j=i.length,k,l,m,n,o,p,q,r;for(l=0;l<j;++l){m=i[l];o=m.target;m.layoutPos=
{};if(o.region){m.region=p=o.region;m.isCenter=o.isCenter;m.isHorz=o.isHorz;m.isVert=o.isVert;m.weight=o.weight||this.regionWeights[p]||0;b[o.id]=m;if(o.isCenter){k=m;n=o.flex;a.centerRegion=k}else if(e===m.isVert){m.reverseWeighting=p==d.borderEnd;p=o[g];r=typeof p;if(!o.collapsed)if(r=="string"&&(q=this.percentageRe.exec(p)))m.percentage=parseInt(q[1],10);else if(o.flex)h=h+(m.flex=o.flex)}}}if(k){a=k.target;if(b=a.placeholderFor){if(!n&&e===b.collapsedVertical()){n=0;k.collapseAxis=c}}else if(a.collapsed&&
e===a.collapsedVertical()){n=0;k.collapseAxis=c}}n==null&&(n=1);return Ext.apply({before:e?"top":"left",totalFlex:h+n},d)},beginLayout:function(a){var b=this.getLayoutItems(),c=this.padding,d=typeof c,e=false,g,h,i;if(c){if(d=="string"||d=="number")c=Ext.util.Format.parseBox(c)}else{c=a.getEl("getTargetEl").getPaddingInfo();e=true}a.outerPad=c;a.padOnContainer=e;d=0;for(c=b.length;d<c;++d){h=b[d];if(e=this.getSplitterTarget(h)){i=!!h.hidden;e.split?i!==e.hidden&&(g=!e.hidden):e.isCollapsingOrExpanding&&
(g=!!e.collapsed);g===true?h.show():g===false&&h.hide()}}this.callParent(arguments);b=a.childItems;c=b.length;h={};a.borderAxisHorz=this.beginAxis(a,h,"horz");a.borderAxisVert=this.beginAxis(a,h,"vert");for(d=0;d<c;++d){g=b[d];if(e=this.getSplitterTarget(g.target)){i=h[e.id];if(!i){i=a.getEl(e.el,this);i.region=e.region}g.collapseTarget=e=i;g.weight=e.weight;g.reverseWeighting=e.reverseWeighting;e.splitter=g;g.isHorz=e.isHorz;g.isVert=e.isVert}}this.sortWeightedItems(b,"reverseWeighting");this.setupSplitterNeighbors(b)},
calculate:function(a){var b=this.getContainerSize(a),c=a.childItems,d=c.length,e=a.borderAxisHorz,g=a.borderAxisVert,h=a.outerPad,i=a.padOnContainer,j,k;e.begin=h.left;g.begin=h.top;k=e.end=e.flexSpace=b.width+(i?h.left:-h.right);i=g.end=g.flexSpace=b.height+(i?h.top:-h.bottom);for(b=0;b<d;++b){h=c[b];j=h.getMarginInfo();if(h.isHorz||h.isCenter){e.addUnflexed(j.width);k=k-j.width}if(h.isVert||h.isCenter){g.addUnflexed(j.height);i=i-j.height}if(!h.flex&&!h.percentage)if(h.isHorz||h.isCenter&&h.collapseAxis===
"horz"){j=h.getProp("width");e.addUnflexed(j);h.collapseTarget&&(k=k-j)}else if(h.isVert||h.isCenter&&h.collapseAxis==="vert"){j=h.getProp("height");g.addUnflexed(j);h.collapseTarget&&(i=i-j)}}for(b=0;b<d;++b){h=c[b];h.getMarginInfo();if(h.percentage)if(h.isHorz){j=Math.ceil(k*h.percentage/100);j=h.setWidth(j);e.addUnflexed(j)}else if(h.isVert){j=Math.ceil(i*h.percentage/100);j=h.setHeight(j);g.addUnflexed(j)}}for(b=0;b<d;++b){h=c[b];if(!h.isCenter){this.calculateChildAxis(h,e);this.calculateChildAxis(h,
g)}}this.finishAxis(a,g)+this.finishAxis(a,e)<2?this.done=false:this.finishPositions(c)},calculateChildAxis:function(a,b){var c=a.collapseTarget,d="set"+b.sizePropCap,e=b.sizeProp,g=a.getMarginInfo()[e],h,i;if(c)h=c.region;else{h=a.region;i=a.flex}c=h==b.borderBegin;if(!c&&h!=b.borderEnd){a[d](b.end-b.begin-g);d=b.begin}else{if(i){e=Math.ceil(b.flexSpace*(i/b.totalFlex));e=a[d](e)}else e=a.percentage?a.peek(e):a.getProp(e);e=e+g;if(c){d=b.begin;b.begin=b.begin+e}else b.end=d=b.end-e}a.layoutPos[b.posProp]=
d},finishAxis:function(a,b){var c=b.end-b.begin,d=a.centerRegion;if(d){d["set"+b.sizePropCap](c-d.getMarginInfo()[b.sizeProp]);d.layoutPos[b.posProp]=b.begin}return Ext.isNumber(c)?1:0},finishPositions:function(a){var b=a.length,c,d;for(c=0;c<b;++c){d=a[c];d.setProp("x",d.layoutPos.x+d.marginInfo.left);d.setProp("y",d.layoutPos.y+d.marginInfo.top)}},getPlaceholder:function(a){return a.getPlaceholder&&a.getPlaceholder()},getSplitterTarget:function(a){return(a=a.collapseTarget)&&a.collapsed?a.placeholder||
a:a},isItemBoxParent:function(){return true},isItemShrinkWrap:function(){return true},insertSplitter:function(a,b,c){var d=a.region,c={xtype:"bordersplitter",collapseTarget:a,id:a.id+"-splitter",hidden:c,canResize:a.splitterResize!==false};a.isHorz?c.height=null:c.width=null;if(a.collapseMode=="mini")c.collapsedCls=a.collapsedCls;a.splitter=this.owner.add(b+(d=="south"||d=="east"?0:1),c)},onAdd:function(a,b){var c=a.placeholderFor,d=a.region;this.callParent(arguments);if(d){Ext.apply(a,this.regionFlags[d]);
if(d=="center"){this.centerRegion&&Ext.Error.raise("Cannot have multiple center regions in a BorderLayout.");this.centerRegion=a}else{a.collapseDirection=this.collapseDirections[d];c=a.split;d=!!a.hidden;if((a.isHorz||a.isVert)&&(c||a.collapseMode=="mini"))this.insertSplitter(a,b,d||!c)}if(!a.hasOwnProperty("collapseMode"))a.collapseMode=this.panelCollapseMode;if(!a.hasOwnProperty("animCollapse"))a.animCollapse=a.collapseMode!="placeholder"?false:this.panelCollapseAnimate}else if(c){Ext.apply(a,this.regionFlags[c.region]);
a.region=c.region;a.weight=c.weight}},onDestroy:function(){this.centerRegion=null;this.callParent()},onRemove:function(a){var b=a.splitter;if(a.region){if(a.isCenter)this.centerRegion=null;delete a.isCenter;delete a.isHorz;delete a.isVert;if(b){this.owner.doRemove(b,true);delete a.splitter}}this.callParent(arguments)},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0},south:{isCenter:!1,isHorz:!1,isVert:!0},west:{isCenter:!1,isHorz:!0,isVert:!1},east:{isCenter:!1,
isHorz:!0,isVert:!1}},setupSplitterNeighbors:function(a){var b={},c=a.length,d=this.touchedRegions,e,g,h,i,j,k,l,m;for(e=0;e<c;++e){k=a[e].target;l=k.region;if(k.isCenter)h=k;else if(l){m=d[l];g=0;for(i=m.length;g<i;++g)(j=b[m[g]])&&j.neighbors.push(k);if(g=k.placeholderFor?k.placeholderFor.splitter:k.splitter)g.neighbors=[];b[l]=g}}if(h){m=d.center;g=0;for(i=m.length;g<i;++g)(j=b[m[g]])&&j.neighbors.push(h)}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south",
"east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{setsWidth:1,setsHeight:0},horz:{setsWidth:0,setsHeight:1},flexAll:{setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a){var b=this.sizePolicies,c,d;if(a.isCenter)return(c=a.placeholderFor)?c.collapsedVertical()?b.vert:b.horz:a.collapsed?a.collapsedVertical()?b.vert:b.horz:b.flexAll;if(c=a.collapseTarget)return c.isVert?b.vert:b.horz;if(a.region){if(a.isVert){c=a.height;d=b.vert}else{c=a.width;d=b.horz}return a.flex||
typeof c=="string"&&this.percentageRe.test(c)?b.flexAll:d}return this.autoSizePolicy}},function(){var a={addUnflexed:function(a){this.flexSpace=Math.max(this.flexSpace-a,0)}},b=this.prototype.axisProps;Ext.apply(b.horz,a);Ext.apply(b.vert,a)});
Ext.define("MyApp.view.Header",{alias:"widget.myapp-header",extend:"Ext.container.Container",defaults:{xtype:"container"},layout:"hbox",items:[{html:{tag:"h1",html:"My Application"},flex:1},{xtype:"toolbar",items:[{text:"\u30dc\u30bf\u30f31",enableToggle:!0,action:"button1"},{text:"\u30dc\u30bf\u30f32",action:"button2"},{text:"\u30dc\u30bf\u30f33",action:"button3"}]}]});
Ext.define("Ext.grid.ColumnLayout",{extend:"Ext.layout.container.HBox",alias:"layout.gridcolumn",type:"gridcolumn",reserveOffset:!1,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){this.grid=this.owner.up("[scrollerOwner]");this.callParent()},beginLayout:function(a){var b=this.grid,c=b.view,d=0,e=this.getVisibleItems(),g=e.length,h;a.gridContext=a.context.getCmp(this.grid);b.lockable&&(c=this.owner.up("tablepanel")===
c.normalGrid?c.normalGrid.getView():null);for(this.callParent(arguments);d<g;d++){h=e[d];h.removeCls([this.firstHeaderCls,this.lastHeaderCls]);h.el.setStyle({height:"auto"});h.titleEl.setStyle({height:"auto",paddingTop:""})}if(g>0){e[0].addCls(this.firstHeaderCls);e[g-1].addCls(this.lastHeaderCls)}if(!this.owner.isHeader&&Ext.getScrollbarSize().width&&!b.collapsed&&c&&c.table.dom&&(c.autoScroll||c.overflowY))a.viewContext=a.context.getCmp(c)},roundFlex:function(a){return Math.floor(a)},calculate:function(a){var b=
a.viewContext,c;this.callParent(arguments);a.state.parallelDone&&a.setProp("columnWidthsDone",true);if(b&&!a.state.overflowAdjust.width&&!a.gridContext.heightModel.shrinkWrap){c=b.tableContext.getProp("height");b=b.getProp("height");isNaN(c+b)?this.done=false:c>=b&&a.gridContext.invalidate({after:function(){a.state.overflowAdjust={width:Ext.getScrollbarSize().width,height:0}}})}},completeLayout:function(a){var b=this.owner,c=a.state,d=false,e=this.sizeModels.calculated,g,h,i;this.callParent(arguments);
if(!c.flexesCalculated&&b.forceFit&&!b.isHeader){b=a.childItems;c=b.length;for(g=0;g<c;g++){h=b[g];i=h.target;if(i.width){i.flex=a.childItems[g].flex=i.width;delete i.width;h.widthModel=e;d=true}}if(d){this.cacheFlexes(a);a.invalidate({state:{flexesCalculated:true}})}}},finalizeLayout:function(){var a=0,b,c,d;d=this.owner;var e=d.titleEl;b=this.getVisibleItems();c=b.length;d=d.el.getViewSize().height;for(e&&(d=d-e.getHeight());a<c;a++)b[a].setPadding(d)},publishInnerCtSize:function(a){var b=a.state.boxPlan.targetSize,
c=a.peek("contentWidth");if(c!=null&&!this.owner.isHeader){b.width=c;c=this.owner.ownerCt.view;if(c.autoScroll||c.overflowY)b.width=b.width+Ext.getScrollbarSize().width}return this.callParent(arguments)}});
Ext.define("Ext.AbstractPlugin",{disabled:!1,constructor:function(a){this.initialConfig=a;Ext.apply(this,a)},clone:function(){return new this.self(this.initialConfig)},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true}});
Ext.define("Ext.dd.DragTracker",{uses:["Ext.util.Region"],mixins:{observable:"Ext.util.Observable"},active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(a){Ext.apply(this,a);this.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag");this.dragRegion=new Ext.util.Region(0,0,0,0);this.el&&this.initEl(this.el);this.mixins.observable.constructor.call(this);this.disabled&&this.disable()},initEl:function(a){this.el=Ext.get(a);this.delegate=
(this.handle=Ext.get(this.delegate))?void 0:this.delegate;if(!this.handle)this.handle=this.el;this.mon(this.handle,{mousedown:this.onMouseDown,delegate:this.delegate,scope:this});(this.trackOver||this.overCls)&&this.mon(this.handle,{mouseover:this.onMouseOver,mouseout:this.onMouseOut,delegate:this.delegate,scope:this})},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){this.clearListeners();delete this.el},onMouseOver:function(a,b){if(!this.disabled&&
(Ext.EventManager.contains(a)||this.delegate)){this.mouseIsOut=false;this.overCls&&this.el.addCls(this.overCls);this.fireEvent("mouseover",this,a,this.delegate?a.getTarget(this.delegate,b):this.handle)}},onMouseOut:function(a){if(this.mouseIsDown)this.mouseIsOut=true;else{this.overCls&&this.el.removeCls(this.overCls);this.fireEvent("mouseout",this,a)}},onMouseDown:function(a,b){var c;if(!this.disabled&&!a.dragTracked){this.dragTarget=this.delegate?b:this.handle.dom;this.startXY=this.lastXY=a.getXY();
this.startRegion=Ext.fly(this.dragTarget).getRegion();if(!(this.fireEvent("mousedown",this,a)===false||this.fireEvent("beforedragstart",this,a)===false||this.onBeforeStart(a)===false)){this.mouseIsDown=true;a.dragTracked=true;c=this.el.dom;Ext.isIE&&c.setCapture&&c.setCapture();this.preventDefault!==false&&a.preventDefault();Ext.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect});if(this.autoStart)this.timer=Ext.defer(this.triggerStart,this.autoStart===
true?1E3:this.autoStart,this,[a])}}},onMouseMove:function(a){var b=a.getXY(),c=this.startXY;a.preventDefault();this.lastXY=b;if(!this.active)if(Math.max(Math.abs(c[0]-b[0]),Math.abs(c[1]-b[1]))>this.tolerance)this.triggerStart(a);else return;if(this.fireEvent("mousemove",this,a)===false)this.onMouseUp(a);else{this.onDrag(a);this.fireEvent("drag",this,a)}},onMouseUp:function(a){this.mouseIsDown=false;if(this.mouseIsOut){this.mouseIsOut=false;this.onMouseOut(a)}a.preventDefault();Ext.isIE&&document.releaseCapture&&
document.releaseCapture();this.fireEvent("mouseup",this,a);this.endDrag(a)},endDrag:function(a){var b=Ext.getDoc(),c=this.active;b.un("mousemove",this.onMouseMove,this);b.un("mouseup",this.onMouseUp,this);b.un("selectstart",this.stopSelect,this);this.clearStart();this.active=false;if(c){this.onEnd(a);this.fireEvent("dragend",this,a)}delete this._constrainRegion;delete Ext.EventObject.dragTracked},triggerStart:function(a){this.clearStart();this.active=true;this.onStart(a);this.fireEvent("dragstart",
this,a)},clearStart:function(){var a=this.timer;if(a){clearTimeout(a);delete this.timer}},stopSelect:function(a){a.stopEvent();return false},onBeforeStart:function(){},onStart:function(){},onDrag:function(){},onEnd:function(){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){if(this.constrainTo){if(this.constrainTo instanceof Ext.util.Region)return this.constrainTo;if(!this._constrainRegion)this._constrainRegion=Ext.fly(this.constrainTo).getViewRegion()}else if(!this._constrainRegion)this._constrainRegion=
this.getDragCt().getViewRegion();return this._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(a){var a=this.getXY(a),b=this.startXY;return[a[0]-b[0],a[1]-b[1]]},constrainModes:{point:function(a,b){var c=a.dragRegion,d=a.getConstrainRegion();if(!d)return b;c.x=c.left=c[0]=c.right=b[0];c.y=c.top=c[1]=c.bottom=b[1];c.constrainTo(d);return[c.left,c.top]},dragTarget:function(a,b){var c=a.startXY,d=a.startRegion.copy(),e=a.getConstrainRegion();
if(!e)return b;d.translateBy(b[0]-c[0],b[1]-c[1]);if(d.right>e.right){b[0]=b[0]+(c=e.right-d.right);d.left=d.left+c}d.left<e.left&&(b[0]=b[0]+(e.left-d.left));if(d.bottom>e.bottom){b[1]=b[1]+(c=e.bottom-d.bottom);d.top=d.top+c}d.top<e.top&&(b[1]=b[1]+(e.top-d.top));return b}}});
Ext.define("Ext.grid.plugin.HeaderResizer",{extend:"Ext.AbstractPlugin",requires:["Ext.dd.DragTracker","Ext.util.Region"],alias:"plugin.gridheaderresizer",disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1E3,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(a){this.headerCt=a;a.on("render",this.afterHeaderRender,this,{single:true})},destroy:function(){this.tracker&&this.tracker.destroy()},afterHeaderRender:function(){var a=
this.headerCt,b=a.el;a.mon(b,"mousemove",this.onHeaderCtMouseMove,this);this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:b})},onHeaderCtMouseMove:function(a){var b,c,d;if(this.headerCt.dragging){if(this.activeHd){this.activeHd.el.dom.style.cursor="";delete this.activeHd}}else if(b=
a.getTarget("."+this.colHeaderCls,3,true)){b=Ext.getCmp(b.id);if(b.isOnLeftEdge(a)){if(a=b.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])")){d=this.headerCt.up("tablepanel");c=a.up("tablepanel");c===d||d.ownerCt.isXType("tablepanel")&&d.ownerCt.view.lockedGrid===c||(a=null)}}else a=b.isOnRightEdge(a)?b:null;if(a){if(a.isGroupHeader){a=a.getGridColumns();a=a[a.length-1]}if(a&&!a.fixed&&!(a.resizable===false||this.disabled)){this.activeHd=a;b.el.dom.style.cursor=this.eResizeCursor}}else{b.el.dom.style.cursor=
"";delete this.activeHd}}},onBeforeStart:function(a){a=a.getTarget();if((this.dragHd=this.activeHd)&&!Ext.fly(a).hasCls(Ext.baseCSSPrefix+"column-header-trigger")&&!this.headerCt.dragging){this.tracker.constrainTo=this.getConstrainRegion();return true}return this.headerCt.dragging=false},getConstrainRegion:function(){var a=this.dragHd.el,b=Ext.util.Region.getRegion(a),c;this.headerCt.forceFit&&(c=this.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"));return b.adjust(0,this.headerCt.forceFit?
c?c.getWidth()-this.minColWidth:0:this.maxColWidth-a.getWidth(),0,this.minColWidth)},onStart:function(a){var b=this.dragHd.el,c=b.getWidth(),d=this.headerCt,a=a.getTarget(),e,g,h,i,j;if(this.dragHd&&!Ext.fly(a).hasCls(Ext.baseCSSPrefix+"column-header-trigger"))d.dragging=true;this.origWidth=c;if(!this.dynamic){e=b.getXY();a=d.up("[scrollerOwner]");b=this.dragHd.up(":not([isGroupHeader])");g=b.up();b=a.getLhsMarker();a=a.getRhsMarker();h=a.parent();i=h.getLocalX();j=h.getLocalY();e=h.translatePoints(e);
d=g.body.getHeight()+d.getHeight();g=e.top-j;b.setTop(g);a.setTop(g);b.setHeight(d);a.setHeight(d);b.setLeft(e.left-i);a.setLeft(e.left+c-i)}},onDrag:function(){if(this.dynamic)this.doResize();else{var a=this.tracker.getXY("point"),b=this.headerCt.up("[scrollerOwner]").getRhsMarker(),c=b.parent(),a=c.translatePoints(a),c=c.getLocalX();b.setLeft(a.left-c)}},onEnd:function(){this.headerCt.dragging=false;if(this.dragHd){if(!this.dynamic){var a=this.headerCt.up("[scrollerOwner]"),b=a.getLhsMarker(),a=
a.getRhsMarker();b.setLeft(-9999);a.setLeft(-9999)}this.doResize()}},doResize:function(){if(this.dragHd){var a=this.dragHd,b=this.tracker.getOffset("point");a.flex&&delete a.flex;Ext.suspendLayouts();a.setWidth(this.origWidth+b[0]);if(this.headerCt.forceFit)if(a=a.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])")){delete a.flex;a.setWidth(a.getWidth()-b[0])}Ext.resumeLayouts(true)}},disable:function(){this.disabled=true;this.tracker&&this.tracker.disable()},enable:function(){this.disabled=
false;this.tracker&&this.tracker.enable()}});
Ext.define("Ext.dd.DragZone",{extend:"Ext.dd.DragSource",constructor:function(a,b){this.callParent([a,b]);this.containerScroll&&Ext.dd.ScrollManager.register(this.el)},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(a,b);return true},afterRepair:function(){Ext.enableFx&&Ext.fly(this.dragData.ddel).highlight(this.repairHighlightColor);this.dragging=false},getRepairXY:function(){return Ext.fly(this.dragData.ddel).getXY()},
destroy:function(){this.callParent();this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}});
Ext.define("Ext.grid.header.DragZone",{extend:"Ext.dd.DragZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",maxProxyWidth:120,constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el]);this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(a){var b=a.getTarget("."+this.colHeaderCls),c;if(b){c=Ext.getCmp(b.id);if(!this.headerCt.dragging&&c.draggable&&!c.isOnLeftEdge(a)&&
!c.isOnRightEdge(a)){a=document.createElement("div");a.innerHTML=Ext.getCmp(b.id).text;return{ddel:a,header:c}}}return false},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=false;this.callParent(arguments)},afterRepair:function(){this.callParent();this.headerCt.dragging=false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=
true},enable:function(){this.disabled=false}});
Ext.define("Ext.dd.DDTarget",{extend:"Ext.dd.DragDrop",constructor:function(a,b,c){a&&this.initTarget(a,b,c)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,
setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}});
Ext.define("Ext.dd.ScrollManager",{singleton:!0,requires:["Ext.dd.DragDropManager"],constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this);a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this);this.doScroll=Ext.Function.bind(this.doScroll,this);this.ddmInstance=a;this.els={};this.dragEl=null;this.proc={}},onStop:function(){var a=Ext.dd.ScrollManager;a.dragEl=null;a.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&
this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){if(this.ddmInstance.dragCurrent){var a=this.proc,b=a.el,c=a.el.ddScrollConfig,c=c?c.increment:this.increment;this.animate?b.scroll(a.dir,c,true,this.animDuration,this.triggerRefresh):b.scroll(a.dir,c)&&this.triggerRefresh()}},clearProc:function(){var a=this.proc;a.id&&clearInterval(a.id);a.id=0;a.el=null;a.dir=""},startProc:function(a,b){this.clearProc();this.proc.el=a;this.proc.dir=b;var c=a.ddScrollConfig?a.ddScrollConfig.ddGroup:
void 0,d=a.ddScrollConfig&&a.ddScrollConfig.frequency?a.ddScrollConfig.frequency:this.frequency;if(c===void 0||this.ddmInstance.dragCurrent.ddGroup==c)this.proc.id=setInterval(this.doScroll,d)},onFire:function(a,b){if(!b&&this.ddmInstance.dragCurrent){if(!this.dragEl||this.dragEl!=this.ddmInstance.dragCurrent){this.dragEl=this.ddmInstance.dragCurrent;this.refreshCache()}a.getXY();var c=a.getPoint(),d=this.proc,e=this.els,g,h,i,j;for(g in e){h=e[g];i=h._region;j=h.ddScrollConfig?h.ddScrollConfig:this;
if(i&&i.contains(c)&&h.isScrollable()){if(i.bottom-c.y<=j.vthresh){d.el!=h&&this.startProc(h,"down");return}if(i.right-c.x<=j.hthresh){d.el!=h&&this.startProc(h,"left");return}if(c.y-i.top<=j.vthresh){d.el!=h&&this.startProc(h,"up");return}if(c.x-i.left<=j.hthresh){d.el!=h&&this.startProc(h,"right");return}}}this.clearProc()}},register:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;b<c;b++)this.register(a[b]);else{a=Ext.get(a);this.els[a.id]=a}},unregister:function(a){if(Ext.isArray(a))for(var b=
0,c=a.length;b<c;b++)this.unregister(a[b]);else{a=Ext.get(a);delete this.els[a.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:0.4,ddGroup:void 0,refreshCache:function(){var a=this.els,b;for(b in a)if(typeof a[b]=="object")a[b]._region=a[b].getRegion()}});
Ext.define("Ext.dd.DropTarget",{extend:"Ext.dd.DDTarget",requires:["Ext.dd.ScrollManager"],constructor:function(a,b){this.el=Ext.get(a);Ext.apply(this,b);this.containerScroll&&Ext.dd.ScrollManager.register(this.el);this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:true}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(){this.overClass&&this.el.addCls(this.overClass);return this.dropAllowed},
notifyOver:function(){return this.dropAllowed},notifyOut:function(){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(){return false},destroy:function(){this.callParent();this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}});
Ext.define("Ext.dd.Registry",{singleton:!0,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(a,b){if(typeof a=="string")return a;var c=a.id;if(!c&&b!==false){c="extdd-"+ ++this.autoIdSeed;a.id=c}return c},register:function(a,b){b=b||{};typeof a=="string"&&(a=document.getElementById(a));b.ddel=a;this.elements[this.getId(a)]=b;b.isHandle!==false&&(this.handles[b.ddel.id]=b);if(b.handles){var c=b.handles,d,e;d=0;for(e=c.length;d<e;d++)this.handles[this.getId(c[d])]=
b}},unregister:function(a){var a=this.getId(a,false),b=this.elements[a],c;if(b){delete this.elements[a];if(b.handles){a=b.handles;b=0;for(c=a.length;b<c;b++)delete this.handles[this.getId(a[b],false)]}}},getHandle:function(a){if(typeof a!="string")a=a.id;return this.handles[a]},getHandleFromEvent:function(a){return(a=a.getTarget())?this.handles[a.id]:null},getTarget:function(a){if(typeof a!="string")a=a.id;return this.elements[a]},getTargetFromEvent:function(a){return(a=a.getTarget())?this.elements[a.id]||
this.handles[a.id]:null}});
Ext.define("Ext.dd.DropZone",{extend:"Ext.dd.DropTarget",requires:["Ext.dd.Registry"],getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(){},onNodeOver:function(){return this.dropAllowed},onNodeOut:function(){},onNodeDrop:function(){return false},onContainerOver:function(){return this.dropNotAllowed},onContainerDrop:function(){return false},notifyEnter:function(){return this.dropNotAllowed},notifyOver:function(a,b,c){var d=this.getTargetFromEvent(b);
if(!d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,b,c);this.lastOverNode=null}return this.onContainerOver(a,b,c)}if(this.lastOverNode!=d){if(this.lastOverNode)this.onNodeOut(this.lastOverNode,a,b,c);this.onNodeEnter(d,a,b,c);this.lastOverNode=d}return this.onNodeOver(d,a,b,c)},notifyOut:function(a,b,c){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,b,c);this.lastOverNode=null}},notifyDrop:function(a,b,c){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,b,c);this.lastOverNode=
null}var d=this.getTargetFromEvent(b);return d?this.onNodeDrop(d,a,b,c):this.onContainerDrop(a,b,c)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});
Ext.define("Ext.grid.header.DropZone",{extend:"Ext.dd.DropZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(a){return a.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator)this.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-top",
html:"&#160;"},true);return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator)this.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},true);return this.bottomIndicator},getLocation:function(a,b){var c=a.getXY()[0],d=Ext.fly(b).getRegion();return{pos:d.right-c<=(d.right-d.left)/2?"after":"before",header:Ext.getCmp(b.id),node:b}},positionIndicator:function(a,b,c){var d=this.getLocation(c,b),b=d.header,c=d.pos,e=a.nextSibling("gridcolumn:not([hidden])"),
g=a.previousSibling("gridcolumn:not([hidden])");if(!b.draggable&&b.getIndex()===0)return false;this.lastLocation=d;if(a!==b&&(c==="before"&&e!==b||c==="after"&&g!==b)&&!b.isDescendantOf(a)){a=Ext.dd.DragDropManager.getRelated(this);d=a.length;for(e=0;e<d;e++){g=a[e];g!==this&&g.invalidateDrop&&g.invalidateDrop()}this.valid=true;a=this.getTopIndicator();d=this.getBottomIndicator();if(c==="before"){c="tl";e="bl"}else{c="tr";e="br"}c=b.el.getAnchorXY(c);b=b.el.getAnchorXY(e);g=this.headerCt.el;e=g.getLeft();
g=g.getRight();c[0]=Ext.Number.constrain(c[0],e,g);b[0]=Ext.Number.constrain(b[0],e,g);c[0]=c[0]-4;c[1]=c[1]-9;b[0]=b[0]-4;a.setXY(c);d.setXY(b);a.show();d.show()}else this.invalidateDrop()},invalidateDrop:function(){this.valid=false;this.hideIndicators()},onNodeOver:function(a,b,c,d){var b=true,b=d.header,e;if(d.header.el.dom===a)b=false;else{e=this.getLocation(c,a).header;b=b.ownerCt===e.ownerCt||!b.ownerCt.sealed&&!e.ownerCt.sealed}b?this.positionIndicator(d.header,a,c):this.valid=false;return this.valid?
this.dropAllowed:this.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide();this.getBottomIndicator().hide()},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(a,b,c,d){if(this.valid){var e=d.header,g=this.lastLocation,h=g.header,i=e.ownerCt,j=e.up("headercontainer:not(gridcolumn)"),k=i.items.indexOf(e),l=h.ownerCt,m=h.up("headercontainer:not(gridcolumn)"),n=l.items.indexOf(h),o=this.headerCt,p=o.getHeaderIndex(e),q=e.isGroupHeader?e.query(":not([isGroupHeader])").length:
1,r=o.getHeaderIndex(h);if(g.pos==="after"){n++;r=r+(h.isGroupHeader?h.query(":not([isGroupHeader])").length:1)}if(j!==m&&j.lockableInjected&&m.lockableInjected&&m.lockedCt){i=i.up("[scrollerOwner]");i.lock(e,n);this.onNodeDrop(a,b,c,d)}else if(j!==m&&j.lockableInjected&&m.lockableInjected&&j.lockedCt){i=i.up("[scrollerOwner]");i.unlock(e,n);this.onNodeDrop(a,b,c,d)}else{this.invalidateDrop();i===l&&n>k&&(n=n-1);Ext.suspendLayouts();if(i!==l){i.remove(e,false);if(i.isGroupHeader&&!i.items.getCount()){a=
i.ownerCt;a.remove(i,false);i.el.dom.parentNode.removeChild(i.el.dom)}}i===l?l.move(k,n):l.insert(n,e);if(l.isGroupHeader){if(l!==i){e.savedFlex=e.flex;delete e.flex;e.width=e.getWidth()}}else if(e.savedFlex){e.flex=e.savedFlex;delete e.width}o.purgeCache();Ext.resumeLayouts(true);o.onHeaderMoved(e,q,p,r);i.items.getCount()||i.destroy()}}}});
Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:"Ext.AbstractPlugin",requires:["Ext.grid.header.DragZone","Ext.grid.header.DropZone"],alias:"plugin.gridheaderreorderer",init:function(a){this.headerCt=a;a.on({render:this.onHeaderCtRender,single:true,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){this.dragZone=new Ext.grid.header.DragZone(this.headerCt);this.dropZone=new Ext.grid.header.DropZone(this.headerCt);this.disabled&&this.dragZone.disable()},
enable:function(){this.disabled=false;this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=true;this.dragZone&&this.dragZone.disable()}});
Ext.define("Ext.grid.header.Container",{extend:"Ext.container.Container",requires:["Ext.grid.ColumnLayout","Ext.grid.plugin.HeaderResizer","Ext.grid.plugin.HeaderReorderer"],uses:["Ext.grid.column.Column","Ext.menu.Menu","Ext.menu.CheckItem","Ext.menu.Separator"],border:!0,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:!1,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",
columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",triStateSort:!1,ddLock:!1,dragging:!1,sortable:!0,initComponent:function(){this.headerCounter=0;this.plugins=this.plugins||[];if(!this.isHeader){if(this.enableColumnResize){this.resizer=new Ext.grid.plugin.HeaderResizer;this.plugins.push(this.resizer)}if(this.enableColumnMove){this.reorderer=new Ext.grid.plugin.HeaderReorderer;this.plugins.push(this.reorderer)}}this.layout=this.isHeader&&!this.items?this.layout||"auto":Ext.apply({type:"gridcolumn",
align:"stretchmax"},this.initialConfig.layout);this.defaults=this.defaults||{};Ext.applyIf(this.defaults,{triStateSort:this.triStateSort,sortable:this.sortable});this.menuTask=new Ext.util.DelayedTask(this.updateMenuDisabledState,this);this.callParent();this.addEvents("columnresize","headerclick","headertriggerclick","columnmove","columnhide","columnshow","sortchange","menucreate")},onDestroy:function(){this.menuTask.cancel();Ext.destroy(this.resizer,this.reorderer);this.callParent()},applyColumnsState:function(a){if(a&&
a.length){var b=this.items.items,c=b.length,d=0,e=a.length,g,h,i,j;for(g=0;g<e;g++){i=a[g];for(j=c;j--;){h=b[j];if(h.getStateId&&h.getStateId()==i.id){d!==j&&this.moveHeader(j,d);h.applyColumnState&&h.applyColumnState(i);++d;break}}}}},getColumnsState:function(){var a=[],b;this.items.each(function(c){(b=c.getColumnState&&c.getColumnState())&&a.push(b)});return a},onAdd:function(a){var b=this.isHeader?this.getOwnerHeaderCt():this;if(!a.headerId)a.headerId=a.initialConfig.id||Ext.id(null,"header-");
if(!a.stateId)a.stateId=a.initialConfig.id||"h"+ ++this.headerCounter;if(Ext.global.console&&Ext.global.console.warn){if(!this._usedIDs)this._usedIDs={};this._usedIDs[a.headerId]&&Ext.global.console.warn(this.$className,"attempted to reuse an existing id",a.headerId);this._usedIDs[a.headerId]=true}this.callParent(arguments);b&&b.purgeCache()},onRemove:function(a){var b=this.isHeader?this.getOwnerHeaderCt():this;this.callParent(arguments);if(!this._usedIDs)this._usedIDs={};delete this._usedIDs[a.headerId];
b&&this.purgeCache()},applyDefaults:function(a){var b;if(a&&!a.isComponent&&a.xtype=="rownumberer")b=a;else{b=this.callParent(arguments);if(!a.isGroupHeader&&!("width"in b)&&!b.flex)b.width=this.defaultWidth}return b},afterRender:function(){this.callParent();this.setSortState()},setSortState:function(){var a=this.up("[store]").store.getFirstSorter(),b;if(a)(b=this.down("gridcolumn[dataIndex="+a.property+"]"))&&b.setSortState(a.direction,false,true);else this.clearOtherSortStates(null)},getHeaderMenu:function(){var a=
this.getMenu();if(a)if(a=a.child("#columnItem"))return a.menu;return null},onHeaderVisibilityChange:function(a,b){var c=this.getHeaderMenu();if(c){(c=this.getMenuItemForHeader(c,a))&&c.setChecked(b,true);this.menuTask.delay(50)}},getLeafMenuItems:function(){for(var a=this.getGridColumns(),b=[],c=0,d=0,e=a.length,g=this.getMenu(),h;c<e;++c){h=a[c];if(h.hideable){if(h=this.getMenuItemForHeader(g,h)){b.push(h);h.checked&&++d}}else!h.hidden&&!h.menuDisabled&&++d}return{items:b,checkedCount:d}},updateMenuDisabledState:function(){var a=
this.getLeafMenuItems(),b=a.checkedCount,a=a.items,c=a.length,d=0,e=this.getMenu().child("#columnItem");if(b<=1)this.disableMenuItems(e,Ext.ComponentQuery.query("[checked=true]",a)[0]);else for(;d<c;++d)this.setMenuItemState(b,e,a[d])},disableMenuItems:function(a,b){for(;b&&b!=a;){b.disableCheckChange();b=b.parentMenu.ownerItem}},setMenuItemState:function(a,b,c){for(var d,e;c&&c!=b;){d=c.parentMenu;e=c.parentMenu.query("[checked=true]:not([menu])").length;c.enableCheckChange();c=d.ownerItem;if(e===
a)break}this.disableMenuItems(b,c)},getMenuItemForHeader:function(a,b){return b?a.down("menucheckitem[headerId="+b.id+"]"):null},onHeaderShow:function(a){var b=this.ownerCt;this.onHeaderVisibilityChange(a,true);if(!a.isGroupHeader&&b)b.onHeaderShow(this,a);this.fireEvent("columnshow",this,a)},onHeaderHide:function(a){var b=this.ownerCt;this.onHeaderVisibilityChange(a,false);if(!a.isGroupHeader&&b)b.onHeaderHide(this,a);this.fireEvent("columnhide",this,a)},tempLock:function(){this.ddLock=true;Ext.Function.defer(function(){this.ddLock=
false},200,this)},onHeaderResize:function(a,b){var c=this.view,d=this.ownerCt;if(c&&c.table.dom){this.tempLock();if(d)d.onHeaderResize(this,a,b)}this.fireEvent("columnresize",this,a,b)},onHeaderClick:function(a,b,c){a.fireEvent("headerclick",this,a,b,c);this.fireEvent("headerclick",this,a,b,c)},onHeaderTriggerClick:function(a,b,c){a.fireEvent("headertriggerclick",this,a,b,c)!==false&&this.fireEvent("headertriggerclick",this,a,b,c)!==false&&this.showMenuBy(c,a)},showMenuBy:function(a,b){var c=this.getMenu(),
d=c.down("#ascItem"),e=c.down("#descItem"),g;c.activeHeader=c.ownerCt=b;c.setFloatParent(b);b.titleEl.addCls(this.headerOpenCls);g=b.sortable?"enable":"disable";if(d)d[g]();if(e)e[g]();c.showBy(a)},onMenuDeactivate:function(){this.getMenu().activeHeader.titleEl.removeCls(this.headerOpenCls)},moveHeader:function(a,b){this.tempLock();this.onHeaderMoved(this.move(a,b),1,a,b)},purgeCache:function(){delete this.gridDataColumns;delete this.hideableColumns;if(this.menu){this.menu.hide();this.menu.destroy();
delete this.menu}},onHeaderMoved:function(a,b,c,d){var e=this.ownerCt;if(e&&e.onHeaderMove)e.onHeaderMove(this,a,b,c,d);this.fireEvent("columnmove",this,a,c,d)},getMenu:function(){if(!this.menu){this.menu=new Ext.menu.Menu({hideOnParentHide:false,items:this.getMenuItems(),listeners:{deactivate:this.onMenuDeactivate,scope:this}});this.updateMenuDisabledState();this.fireEvent("menucreate",this,this.menu)}return this.menu},getMenuItems:function(){var a=[],b=this.enableColumnHide?this.getColumnMenu(this):
null;this.sortable&&(a=[{itemId:"ascItem",text:this.sortAscText,cls:Ext.baseCSSPrefix+"hmenu-sort-asc",handler:this.onSortAscClick,scope:this},{itemId:"descItem",text:this.sortDescText,cls:Ext.baseCSSPrefix+"hmenu-sort-desc",handler:this.onSortDescClick,scope:this}]);b&&b.length&&a.push("-",{itemId:"columnItem",text:this.columnsText,cls:Ext.baseCSSPrefix+"cols-icon",menu:b});return a},onSortAscClick:function(){this.getMenu().activeHeader.setSortState("ASC")},onSortDescClick:function(){this.getMenu().activeHeader.setSortState("DESC")},
getColumnMenu:function(a){for(var b=[],c=0,d=a.query(">gridcolumn[hideable]"),e=d.length,g;c<e;c++){a=d[c];g=new Ext.menu.CheckItem({text:a.menuText||a.text,checked:!a.hidden,hideOnClick:false,headerId:a.id,menu:a.isGroupHeader?this.getColumnMenu(a):void 0,checkHandler:this.onColumnCheckChange,scope:this});b.push(g);a.on({destroy:Ext.Function.bind(g.destroy,g)})}return b},onColumnCheckChange:function(a,b){Ext.getCmp(a.headerId)[b?"show":"hide"]()},getColumnsForTpl:function(a){for(var b=[],a=this.getGridColumns(a),
c=a.length,d=0,e,g;d<c;d++){e=a[d];g=e.hidden||e.up("headercontainer[hidden=true]")?0:e.getDesiredWidth();b.push({dataIndex:e.dataIndex,align:e.align,width:g,id:e.id,cls:e.tdCls,columnId:e.getItemId()})}return b},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(a){for(var b=0,a=this.getVisibleGridColumns(a),c=a.length,d=0,e;d<c;d++){e=a[d];b=e.getDesiredWidth?b+(e.getDesiredWidth()||0):b+e.getWidth()}return b},clearOtherSortStates:function(a){for(var b=this.getGridColumns(),
c=b.length,d=0;d<c;d++)b[d]!==a&&b[d].setSortState(null,true)},getVisibleGridColumns:function(a){return Ext.ComponentQuery.query(":not([hidden])",this.getGridColumns(a))},getGridColumns:function(a){var b=this,c=a?null:b.gridDataColumns;if(!c){b.gridDataColumns=c=[];b.cascade(function(a){a!==b&&!a.isGroupHeader&&c.push(a)})}return c},getHideableColumns:function(a){a=a?null:this.hideableColumns;if(!a)a=this.hideableColumns=this.query("[hideable]");return a},getHeaderIndex:function(a){a.isGroupHeader&&
(a=a.down(":not([isgroupHeader])"));return Ext.Array.indexOf(this.getGridColumns(),a)},getHeaderAtIndex:function(a){var b=this.getGridColumns();return b.length?b[a]:null},getVisibleHeaderClosestToIndex:function(a){(a=this.getHeaderAtIndex(a))&&a.hidden&&(a=a.next(":not([hidden])")||a.prev(":not([hidden])"));return a},prepareData:function(a,b,c,d,e){for(var g={},h=this.gridDataColumns||this.getGridColumns(),i=h.length,j=0,k,l,m,n,o=e.store;j<i;j++){n={tdCls:"",style:""};e=h[j];k=e.id;l=e.renderer;
m=a[e.dataIndex];typeof l=="function"&&(m=l.call(e.scope||this.ownerCt,m,n,c,b,j,o,d));if(n.css){g.cssWarning=true;n.tdCls=n.css;delete n.css}this.markDirty&&(g[k+"-modified"]=c.isModified(e.dataIndex)?Ext.baseCSSPrefix+"grid-dirty-cell":"");g[k+"-tdCls"]=n.tdCls;g[k+"-tdAttr"]=n.tdAttr;g[k+"-style"]=n.style;if(typeof m==="undefined"||m===null||m==="")m=e.emptyCellText;g[k]=m}return g},expandToFit:function(a){var b=this.view;b&&b.expandToFit(a)}});
Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",requires:["Ext.util.KeyMap"],statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(a){arguments.length===2?this.legacyConstructor.apply(this,arguments):this.setConfig(a)},legacyConstructor:function(a,b){this.setConfig(Ext.apply({target:a},b))},setConfig:function(a){var b={target:a.target,ignoreInputFields:a.ignoreInputFields,eventName:this.getKeyEvent("forceKeyDown"in
a?a.forceKeyDown:this.forceKeyDown,a.eventName)},c,d,e,g;this.map&&this.map.destroy();if(a.processEvent){b.processEvent=a.processEvent;b.processEventScope=a.processEventScope||this}b=this.map=new Ext.util.KeyMap(b);c=Ext.util.KeyNav.keyOptions;d=a.scope||this;for(e in c)if(c.hasOwnProperty(e)&&(g=a[e])){typeof g==="function"&&(g={handler:g,defaultAction:a.defaultEventAction!==void 0?a.defaultEventAction:this.defaultEventAction});b.addBinding({key:c[e],handler:Ext.Function.bind(this.handleEvent,g.scope||
d,g.handler||g.fn,true),defaultEventAction:g.defaultEventAction!==void 0?g.defaultAction:this.defaultEventAction})}b.disable();a.disabled||b.enable()},handleEvent:function(a,b,c){return c.call(this,b)},disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,eventName:"keypress",destroy:function(a){this.map.destroy(a);delete this.map},enable:function(){this.map.enable();this.disabled=false},disable:function(){this.map.disable();this.disabled=true},setDisabled:function(a){this.map.setDisabled(a);
this.disabled=a},getKeyEvent:function(a,b){return a||Ext.EventManager.useKeyDown&&!b?"keydown":b||this.eventName}});
Ext.define("Ext.grid.ColumnComponentLayout",{extend:"Ext.layout.component.Auto",alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:!0,getContentHeight:function(a){return this.owner.isGroupHeader?a.getProp("contentHeight"):this.callParent(arguments)},calculateOwnerHeightFromContentHeight:function(a,b){var c=this.callParent(arguments);this.owner.isGroupHeader&&(c=c+this.owner.titleEl.dom.offsetHeight);return c},getContentWidth:function(a){return this.owner.isGroupHeader?a.getProp("contentWidth"):
this.callParent(arguments)},calculateOwnerWidthFromContentWidth:function(a,b){return b+a.getPaddingInfo().width}});
Ext.define("Ext.grid.column.Column",{extend:"Ext.grid.header.Container",alias:"widget.gridcolumn",requires:["Ext.util.KeyNav","Ext.grid.ColumnComponentLayout","Ext.grid.ColumnLayout"],alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header "+Ext.baseCSSPrefix+"unselectable",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:5,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],renderTpl:'<div id="{id}-titleEl" {tipMarkup}class="'+
Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'column-header-text">{text}</span><tpl if="!menuDisabled"><div id="{id}-triggerEl" class="'+Ext.baseCSSPrefix+'column-header-trigger"></div></tpl></div>{%this.renderContainer(out,values)%}',dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,editRenderer:!1,align:"left",draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,isHeader:!0,
componentLayout:"columncomponent",initResizable:Ext.emptyFn,initComponent:function(){var a;if(Ext.isDefined(this.header)){this.text=this.header;delete this.header}if(!this.triStateSort)this.possibleSortStates.length=2;if(Ext.isDefined(this.columns)){this.isGroupHeader=true;this.dataIndex&&Ext.Error.raise("Ext.grid.column.Column: Group header may not accept a dataIndex");(this.width&&this.width!==Ext.grid.header.Container.prototype.defaultWidth||this.flex)&&Ext.Error.raise("Ext.grid.column.Column: Group header does not support setting explicit widths or flexs. The group header width is calculated by the sum of its children.");
this.items=this.columns;delete this.columns;delete this.flex;delete this.width;this.cls=(this.cls||"")+" "+Ext.baseCSSPrefix+"group-header";this.resizable=this.sortable=false;this.align="center"}else{this.isContainer=false;if(this.flex)this.minWidth=this.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}this.addCls(Ext.baseCSSPrefix+"column-header-align-"+this.align);if(a=this.renderer){if(typeof a=="string")this.renderer=Ext.util.Format[a];this.hasCustomRenderer=true}else if(this.defaultRenderer){this.scope=
this;this.renderer=this.defaultRenderer}this.callParent(arguments);this.on({element:"el",click:this.onElClick,dblclick:this.onElDblClick,scope:this});this.on({element:"titleEl",mouseenter:this.onTitleMouseOver,mouseleave:this.onTitleMouseOut,scope:this})},onAdd:function(a){a.isSubHeader=true;a.addCls(Ext.baseCSSPrefix+"group-sub-header");this.callParent(arguments)},onRemove:function(a){a.isSubHeader=false;a.removeCls(Ext.baseCSSPrefix+"group-sub-header");this.callParent(arguments)},initRenderData:function(){var a=
"",b=this.tooltip,c=this.tooltipType=="qtip"?"data-qtip":"title";Ext.isEmpty(b)||(a=c+'="'+b+'" ');return Ext.applyIf(this.callParent(arguments),{text:this.text,menuDisabled:this.menuDisabled,tipMarkup:a})},applyColumnState:function(a){var b=Ext.isDefined;this.applyColumnsState(a.columns);if(b(a.hidden))this.hidden=a.hidden;if(b(a.locked))this.locked=a.locked;if(b(a.sortable))this.sortable=a.sortable;if(b(a.width)){delete this.flex;this.width=a.width}else if(b(a.flex)){delete this.width;this.flex=
a.flex}},getColumnState:function(){var a=this.items.items,b=a?a.length:0,c,d=[],e={id:this.getStateId()};this.savePropsToState(["hidden","sortable","locked","flex","width"],e);if(this.isGroupHeader){for(c=0;c<b;c++)d.push(a[c].getColumnState());if(d.length)e.columns=d}else this.isSubHeader&&this.ownerCt.hidden&&delete this.hidden;"width"in e&&delete e.flex;return e},getStateId:function(){return this.stateId||this.headerId},setText:function(a){this.text=a;this.rendered&&this.textEl.update(a)},getOwnerHeaderCt:function(){return this.up(":not([isHeader])")},
getIndex:function(){return this.isGroupColumn?false:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.isGroupColumn?false:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var a=this.up("tablepanel");this.callParent();if(a&&(!this.sortable||a.sortableColumns===false)&&!this.groupable&&!this.lockable&&(a.enableColumnHide===false||!this.getOwnerHeaderCt().getHideableColumns().length))this.menuDisabled=true},afterRender:function(){var a=
this.el;this.callParent(arguments);this.overCls&&a.addClsOnOver(this.overCls);(!Ext.isIE8||!Ext.isStrict)&&this.mon(this.getFocusEl(),{focus:this.onTitleMouseOver,blur:this.onTitleMouseOut,scope:this});this.keyNav=new Ext.util.KeyNav(a,{enter:this.onEnterKey,down:this.onDownKey,scope:this})},afterComponentLayout:function(a,b,c,d){var e=this.getOwnerHeaderCt();this.callParent(arguments);if(e&&(c!=null||this.flex)&&a!==c)e.onHeaderResize(this,a,true)},setPadding:function(a){var b=parseInt(this.textEl.getStyle("line-height"),
10),c=this.textEl.dom.offsetHeight,d=this.titleEl,e=a-this.el.getBorderWidth("tb");if(!this.isGroupHeader&&d.getHeight()<e){d.setHeight(e);this.ownerCt.layout.innerCt.setHeight(a)}a=d.getViewSize().height;if(c){b&&(c=Math.ceil(c/b)*b);d.setStyle({paddingTop:Math.floor(Math.max((a-c)/2,0))+"px"})}Ext.isIE&&this.triggerEl&&this.triggerEl.setHeight(a)},onDestroy:function(){Ext.destroy(this.textEl,this.keyNav,this.field);delete this.keyNav;this.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},
onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(a){if(this.triggerEl)this.onElClick(a,this.triggerEl.dom||this.el.dom)},onEnterKey:function(a){this.onElClick(a,this.el.dom)},onElDblClick:function(a){var b=this.ownerCt;b&&(Ext.Array.indexOf(b.items,this)!==0&&this.isOnLeftEdge(a))&&b.expandToFit(this.previousSibling("gridcolumn"))},onElClick:function(a,b){var c=this.getOwnerHeaderCt();if(c&&!c.ddLock)if(this.triggerEl&&(a.target===this.triggerEl.dom||b===this.triggerEl.dom||
a.within(this.triggerEl)))c.onHeaderTriggerClick(this,a,b);else if(a.getKey()||!this.isOnLeftEdge(a)&&!this.isOnRightEdge(a)){this.toggleSortState();c.onHeaderClick(this,a,b)}},processEvent:function(a,b,c,d,e,g){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var a;if(this.sortable){a=Ext.Array.indexOf(this.possibleSortStates,this.sortState);a=(a+1)%this.possibleSortStates.length;this.setSortState(this.possibleSortStates[a])}},doSort:function(a){this.up("tablepanel").store.sort({property:this.getSortParam(),
direction:a})},getSortParam:function(){return this.dataIndex},setSortState:function(a,b,c){var d=Ext.baseCSSPrefix+"column-header-sort-",e=d+"ASC",g=d+"DESC",h=d+"null",i=this.getOwnerHeaderCt();if(this.sortState!==a&&this.getSortParam()){this.addCls(d+a);a&&!c&&this.doSort(a);switch(a){case "DESC":this.removeCls([e,h]);break;case "ASC":this.removeCls([g,h]);break;case null:this.removeCls([e,g])}i&&(!this.triStateSort&&!b)&&i.clearOtherSortStates(this);this.sortState=a;(this.triStateSort||a!=null)&&
i.fireEvent("sortchange",i,this,a)}},hide:function(a){var b=this.getOwnerHeaderCt(),c=this.ownerCt,d,e;if(c.isGroupHeader&&!a){c=c.query(">:not([hidden])");if(c.length===1&&c[0]==this){this.ownerCt.hide();return}}Ext.suspendLayouts();if(this.isGroupHeader){c=this.items.items;e=0;for(d=c.length;e<d;e++){a=c[e];a.hidden||a.hide(true)}}this.callParent();b.onHeaderHide(this);Ext.resumeLayouts(true)},show:function(a,b){var c=this.ownerCt,d,e,g;Ext.suspendLayouts();this.isSubHeader&&c.hidden&&c.show(false,
true);this.callParent(arguments);if(this.isGroupHeader&&b!==true&&!this.query(":not([hidden])").length){c=this.query(">*");e=0;for(d=c.length;e<d;e++){g=c[e];g.hidden&&g.show(true)}}Ext.resumeLayouts(true);if(c=this.getOwnerHeaderCt())c.onHeaderShow(this)},getDesiredWidth:function(){return this.rendered&&this.componentLayout&&this.componentLayout.lastComponentSize?this.componentLayout.lastComponentSize.width:this.width},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},
getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(a){return a.getXY()[0]-this.el.getLeft()<=this.handleWidth},isOnRightEdge:function(a){return this.el.getRight()-a.getXY()[0]<=this.handleWidth}});
Ext.define("Ext.tree.Column",{extend:"Ext.grid.column.Column",alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",treePrefix:Ext.baseCSSPrefix+"tree-",elbowPrefix:Ext.baseCSSPrefix+"tree-elbow-",expanderCls:Ext.baseCSSPrefix+"tree-expander",imgText:'<img src="{1}" class="{0}" />',checkboxText:'<input type="button" role="checkbox" class="{0}" {1} />',initComponent:function(){this.origRenderer=this.renderer||this.defaultRenderer;this.origScope=this.scope||window;this.renderer=this.treeRenderer;
this.scope=this;this.callParent()},treeRenderer:function(a,b,c,d,e,g,h){for(var i=[],j=Ext.String.format,k=c.getDepth(),l=this.treePrefix,m=this.elbowPrefix,n=this.expanderCls,o=this.imgText,p=this.checkboxText,q=this.origRenderer.apply(this.origScope,arguments),r=Ext.BLANK_IMAGE_URL,s=c.get("href"),t=c.get("hrefTarget"),u=c.get("cls");c;){if(!c.isRoot()||c.isRoot()&&h.rootVisible)if(c.getDepth()===k){i.unshift(j(o,l+"icon "+l+"icon"+(c.get("icon")?"-inline ":c.isLeaf()?"-leaf ":"-parent ")+(c.get("iconCls")||
""),c.get("icon")||r));if(c.get("checked")!==null){i.unshift(j(p,l+"checkbox"+(c.get("checked")?" "+l+"checkbox-checked":""),c.get("checked")?'aria-checked="true"':""));if(c.get("checked"))b.tdCls=b.tdCls+(" "+l+"checked")}c.isLast()?c.isExpandable()?i.unshift(j(o,m+"end-plus "+n,r)):i.unshift(j(o,m+"end",r)):c.isExpandable()?i.unshift(j(o,m+"plus "+n,r)):i.unshift(j(o,l+"elbow",r))}else c.isLast()||c.getDepth()===0?i.unshift(j(o,m+"empty",r)):c.getDepth()!==0&&i.unshift(j(o,m+"line",r));c=c.parentNode}s?
i.push('<a href="',s,'" target="',t,'">',q,"</a>"):i.push(q);if(u)b.tdCls=b.tdCls+(" "+u);return i.join("")},defaultRenderer:function(a){return a}});
Ext.define("Ext.panel.Table",{extend:"Ext.panel.Panel",alias:"widget.tablepanel",uses:"Ext.selection.RowModel Ext.selection.CellModel Ext.selection.CheckboxModel Ext.grid.PagingScroller Ext.grid.header.Container Ext.grid.Lockable".split(" "),extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:!1,viewType:null,selType:"rowmodel",scroll:!0,deferRowRender:!0,sortableColumns:!0,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,
enableColumnHide:!0,rowLines:!0,initComponent:function(){this.viewType||Ext.Error.raise("You must specify a viewType config.");this.headers&&Ext.Error.raise("The headers config is not supported. Please specify columns instead.");var a=this.scroll,b=false,c=false,d=this.columns||this.colModel,e=this.border;this.columnLines&&this.addCls(Ext.baseCSSPrefix+"grid-with-col-lines");this.rowLines&&this.addCls(Ext.baseCSSPrefix+"grid-with-row-lines");this.store=Ext.data.StoreManager.lookup(this.store||"ext-empty-store");
d||Ext.Error.raise("A column configuration must be specified");if(d instanceof Ext.grid.header.Container){this.headerCt=d;this.headerCt.border=e;this.columns=this.headerCt.items.items}else{Ext.isArray(d)&&(d={items:d,border:e});Ext.apply(d,{forceFit:this.forceFit,sortable:this.sortableColumns,enableColumnMove:this.enableColumnMove,enableColumnResize:this.enableColumnResize,enableColumnHide:this.enableColumnHide,border:e,sealed:this.sealedColumns});this.columns=d.items;if(this.enableLocking||Ext.ComponentQuery.query("{locked !== undefined}{processed != true}",
this.columns).length){this.self.mixin("lockable",Ext.grid.Lockable);this.injectLockable()}}this.scrollTask=new Ext.util.DelayedTask(this.syncHorizontalScroll,this);this.addEvents("reconfigure","viewready");this.bodyCls=this.bodyCls||"";this.bodyCls=this.bodyCls+(" "+this.extraBodyCls);this.cls=this.cls||"";this.cls=this.cls+(" "+this.extraBaseCls);delete this.autoScroll;if(!this.hasView){if(!this.headerCt)this.headerCt=new Ext.grid.header.Container(d);this.columns=this.headerCt.items.items;if(this.store.buffered&&
!this.store.remoteSort){d=0;for(e=this.columns.length;d<e;d++)this.columns[d].sortable=false}if(this.hideHeaders){this.headerCt.height=0;this.headerCt.addCls(Ext.baseCSSPrefix+"grid-header-ct-hidden");this.addCls(Ext.baseCSSPrefix+"grid-header-hidden");if(Ext.isIEQuirks)this.headerCt.style={display:"none"}}a===true||a==="both"?b=c=true:a==="horizontal"?c=true:a==="vertical"&&(b=true);this.relayHeaderCtEvents(this.headerCt);this.features=this.features||[];if(!Ext.isArray(this.features))this.features=
[this.features];this.dockedItems=[].concat(this.dockedItems||[]);this.dockedItems.unshift(this.headerCt);this.viewConfig=this.viewConfig||{};if(this.store&&this.store.buffered)this.viewConfig.preserveScrollOnRefresh=true;else if(this.invalidateScrollerOnRefresh!==void 0)this.viewConfig.preserveScrollOnRefresh=!this.invalidateScrollerOnRefresh;a=this.getView();this.items=[a];this.hasView=true;if(b&&this.store.buffered)this.verticalScroller=new Ext.grid.PagingScroller(Ext.apply({panel:this,store:this.store,
view:this.view},this.verticalScroller));if(c&&!this.hideHeaders)a.on({scroll:{fn:this.onHorizontalScroll,element:"el",scope:this}});this.mon(a.store,{load:this.onStoreLoad,scope:this});this.mon(a,{viewready:this.onViewReady,refresh:this.onRestoreHorzScroll,scope:this})}this.relayEvents(this.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave",
"itemclick","itemdblclick","itemcontextmenu","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"]);this.callParent(arguments);this.addStateEvents(["columnresize","columnmove","columnhide",
"columnshow","sortchange"]);if(this.headerCt)this.headerCt.on("afterlayout",this.onRestoreHorzScroll,this)},relayHeaderCtEvents:function(a){this.relayEvents(a,["columnresize","columnmove","columnhide","columnshow","sortchange"])},getState:function(){var a=this.callParent(),b=this.store.sorters.first(),a=this.addPropertyToState(a,"columns",(this.headerCt||this).getColumnsState());b&&(a=this.addPropertyToState(a,"sort",{property:b.property,direction:b.direction,root:b.root}));return a},applyState:function(a){var b=
a.sort,c=this.store,d=a.columns;delete a.columns;this.callParent(arguments);d&&(this.headerCt||this).applyColumnsState(d);b&&(c.remoteSort?c.sort({property:b.property,direction:b.direction,root:b.root},null,false):c.sort(b.property,b.direction))},getStore:function(){return this.store},getView:function(){var a;if(!this.view){a=this.getSelectionModel();this.view=Ext.widget(Ext.apply({},this.viewConfig,{grid:this,deferInitialRefresh:this.deferRowRender!==false,scroll:this.scroll,xtype:this.viewType,
store:this.store,headerCt:this.headerCt,selModel:a,features:this.features,panel:this,emptyText:this.emptyText?'<div class="'+Ext.baseCSSPrefix+'grid-empty">'+this.emptyText+"</div>":""}));this.view.getComponentLayout().headerCt=this.headerCt;this.mon(this.view,{uievent:this.processEvent,scope:this});a.view=this.view;this.headerCt.view=this.view;this.relayEvents(this.view,["cellclick","celldblclick"])}return this.view},setAutoScroll:Ext.emptyFn,processEvent:function(a,b,c,d,e,g){var h;if(e!==-1){h=
this.headerCt.getGridColumns()[e];return h.processEvent.apply(h,arguments)}},determineScrollbars:function(){Ext.log.warn("Obsolete")},invalidateScroller:function(){Ext.log.warn("Obsolete")},scrollByDeltaY:function(a,b){this.getView().scrollBy(0,a,b)},scrollByDeltaX:function(a,b){this.getView().scrollBy(a,0,b)},afterCollapse:function(){this.saveScrollPos();this.saveScrollPos();this.callParent(arguments)},afterExpand:function(){this.callParent(arguments);this.restoreScrollPos();this.restoreScrollPos()},
saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(a,b,c,d,e){this.optimizedColumnMove===false?this.view.refresh():this.view.moveColumn(d,e,c);this.delayScroll()},onHeaderHide:function(){this.delayScroll()},onHeaderShow:function(){this.delayScroll()},delayScroll:function(){var a=this.getScrollTarget().el;a&&this.scrollTask.delay(10,null,null,[a.dom.scrollLeft])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var a=
this.scrollLeftPos;a&&this.syncHorizontalScroll(a,true)},getScrollerOwner:function(){var a=this;this.scrollerOwner||(a=this.up("[scrollerOwner]"));return a},getLhsMarker:function(){return this.lhsMarker||(this.lhsMarker=Ext.DomHelper.append(this.el,{cls:Ext.baseCSSPrefix+"grid-resize-marker"},true))},getRhsMarker:function(){return this.rhsMarker||(this.rhsMarker=Ext.DomHelper.append(this.el,{cls:Ext.baseCSSPrefix+"grid-resize-marker"},true))},getSelectionModel:function(){if(!this.selModel)this.selModel=
{};var a="SINGLE";this.simpleSelect?a="SIMPLE":this.multiSelect&&(a="MULTI");Ext.applyIf(this.selModel,{allowDeselect:this.allowDeselect,mode:a});if(!this.selModel.events){a=this.selModel.selType||this.selType;this.selModel=Ext.create("selection."+a,this.selModel)}if(!this.selModel.hasRelaySetup){this.relayEvents(this.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect"]);this.selModel.hasRelaySetup=true}if(this.disableSelection)this.selModel.locked=true;return this.selModel},
getScrollTarget:function(){var a=this.getScrollerOwner().query("tableview");return a[1]||a[0]},onHorizontalScroll:function(a,b){this.syncHorizontalScroll(b.scrollLeft)},syncHorizontalScroll:function(a,b){var c,b=b===true;if(this.rendered&&(b||a!==this.scrollLeftPos)){if(b){c=this.getScrollTarget();c.el.dom.scrollLeft=a}this.scrollLeftPos=this.headerCt.el.dom.scrollLeft=a}},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(a){this.store=a;this.getView().bindStore(a)},
beforeDestroy:function(){Ext.destroy(this.verticalScroller);this.callParent()},reconfigure:function(a,b){var c=this.headerCt;if(this.lockable)this.reconfigureLockable(a,b);else{Ext.suspendLayouts();if(b){delete this.scrollLeftPos;c.removeAll();c.add(b)}if(a){a=Ext.StoreManager.lookup(a);this.bindStore(a)}else this.getView().refresh();c.setSortState();Ext.resumeLayouts(true)}this.fireEvent("reconfigure",this,a,b)}});
Ext.define("Ext.util.Bindable",{bindStore:function(a,b){var c=this.store;if(!b&&this.store){this.onUnbindStore(c,b);a!==c&&c.autoDestroy?c.destroyStore():this.unbindStoreListeners(c)}if(a){a=Ext.data.StoreManager.lookup(a);this.bindStoreListeners(a);this.onBindStore(a,b)}this.store=a||null;return this},getStore:function(){return this.store},unbindStoreListeners:function(a){var b=this.storeListeners;b&&a.un(b)},bindStoreListeners:function(a){var b=Ext.apply({},this.getStoreListeners());if(!b.scope)b.scope=
this;this.storeListeners=b;a.on(b)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn});
Ext.define("Ext.LoadMask",{extend:"Ext.Component",alias:"widget.loadmask",mixins:{floating:"Ext.util.Floating",bindable:"Ext.util.Bindable"},uses:["Ext.data.StoreManager"],msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:!0,useTargetEl:!1,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl"],renderTpl:'<div id="{id}-msgEl" style="position:relative" class="{[values.$comp.msgCls]}"></div>',floating:{shadow:"frame"},focusOnToFront:!1,bringParentToFront:!1,
constructor:function(a,b){if(!a.isComponent){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.LoadMask: LoadMask for elements has been deprecated, use Ext.dom.Element.mask & Ext.dom.Element.unmask");a=Ext.get(a);this.isElement=true}this.ownerCt=a;this.isElement||this.bindComponent(a);this.callParent([b]);this.store&&this.bindStore(this.store,true)},bindComponent:function(a){var b={scope:this,resize:this.sizeMask,added:this.onComponentAdded,removed:this.onComponentRemoved},c=Ext.container.Container.hierarchyEventSource;
if(a.floating){b.move=this.sizeMask;this.activeOwner=a}else if(a.ownerCt)this.onComponentAdded(a.ownerCt);else this.preventBringToFront=true;this.mon(a,b);this.mon(c,{show:this.onContainerShow,hide:this.onContainerHide,expand:this.onContainerExpand,collapse:this.onContainerCollapse,scope:this})},onComponentAdded:function(a){delete this.activeOwner;this.floatParent=a;a.floating||(a=a.up("[floating]"));if(a){this.activeOwner=a;this.mon(a,"move",this.sizeMask,this)}a=this.floatParent.ownerCt;if(this.rendered&&
this.isVisible()&&a){this.floatOwner=a;this.mon(a,"afterlayout",this.sizeMask,this,{single:true})}},onComponentRemoved:function(){var a=this.activeOwner,b=this.floatOwner;a&&this.mun(a,"move",this.sizeMask,this);b&&this.mun(b,"afterlayout",this.sizeMask,this);delete this.activeOwner;delete this.floatOwner},afterRender:function(){this.callParent(arguments);this.container=this.floatParent.getContentTarget()},onContainerShow:function(a){if(this.isActiveContainer(a))this.onComponentShow()},onContainerHide:function(a){if(this.isActiveContainer(a))this.onComponentHide()},
onContainerExpand:function(a){if(this.isActiveContainer(a))this.onComponentShow()},onContainerCollapse:function(a){if(this.isActiveContainer(a))this.onComponentHide()},isActiveContainer:function(a){return this.isDescendantOf(a)},onComponentHide:function(){if(this.rendered&&this.isVisible()){this.hide();this.showNext=true}},onComponentShow:function(){this.showNext&&this.show();delete this.showNext},sizeMask:function(){var a;if(this.rendered&&this.isVisible()){this.center();a=this.getMaskTarget();this.getMaskEl().show().setSize(a.getSize()).alignTo(a,
"tl-tl")}},bindStore:function(a,b){this.mixins.bindable.bindStore.apply(this,arguments);if((a=this.store)&&a.isLoading())this.onBeforeLoad()},getStoreListeners:function(){return{beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad,cachemiss:this.onBeforeLoad,cachefilled:this.onLoad}},onDisable:function(){this.callParent(arguments);if(this.loading)this.onLoad()},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var a=this.getOwner();return this.useTargetEl?
a.getTargetEl():a.getEl()},onBeforeLoad:function(){var a=this,b=a.getOwner(),c;if(!a.disabled){a.loading=true;if(b.componentLayoutCounter)a.maybeShow();else{c=b.afterComponentLayout;b.afterComponentLayout=function(){b.afterComponentLayout=c;c.apply(b,arguments);a.maybeShow()}}}},maybeShow:function(){var a=this.getOwner();a.isVisible(true)?this.loading&&a.rendered&&this.show():this.showNext=true},getMaskEl:function(){return this.maskEl||(this.maskEl=this.el.insertSibling({cls:this.maskCls,style:{zIndex:this.el.getStyle("zIndex")-
2}},"before"))},onShow:function(){var a=this.msgEl;this.callParent(arguments);this.loading=true;this.useMsg?a.show().update(this.msg):a.parent().hide()},hide:function(){if(this.isElement){this.ownerCt.unmask();this.fireEvent("hide",this)}else{delete this.showNext;return this.callParent(arguments)}},onHide:function(){this.callParent();this.getMaskEl().hide()},show:function(){if(this.isElement){this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);this.fireEvent("show",this)}else return this.callParent(arguments)},
afterShow:function(){this.callParent(arguments);this.sizeMask()},setZIndex:function(a){var b=this.activeOwner;b&&(a=parseInt(b.el.getStyle("zIndex"),10)+1);this.getMaskEl().setStyle("zIndex",a-1);return this.mixins.floating.setZIndex.apply(this,arguments)},onLoad:function(){this.loading=false;this.hide()},onDestroy:function(){this.isElement&&this.ownerCt.unmask();Ext.destroy(this.maskEl);this.callParent()}});
Ext.define("Ext.selection.Model",{extend:"Ext.util.Observable",alternateClassName:"Ext.AbstractSelectionModel",requires:["Ext.data.StoreManager"],mixins:{bindable:"Ext.util.Bindable"},allowDeselect:!1,selected:null,pruneRemoved:!0,constructor:function(a){a=a||{};Ext.apply(this,a);this.addEvents("selectionchange","focuschange");this.modes={SINGLE:true,SIMPLE:true,MULTI:true};this.setSelectionMode(a.mode||this.mode);this.selected=new Ext.util.MixedCollection;this.callParent(arguments)},bindStore:function(a,
b){this.mixins.bindable.bindStore.apply(this,arguments);this.store&&!b&&this.refresh()},getStoreListeners:function(){return{add:this.onStoreAdd,clear:this.onStoreClear,remove:this.onStoreRemove,update:this.onStoreUpdate}},selectAll:function(a){var b=this.store.getRange(),c=0,d=b.length,e=this.getSelection().length;for(this.bulkChange=true;c<d;c++)this.doSelect(b[c],true,a);delete this.bulkChange;this.maybeFireSelectionChange(this.getSelection().length!==e)},deselectAll:function(a){var b=this.getSelection(),
c=0,d=b.length,e=this.getSelection().length;for(this.bulkChange=true;c<d;c++)this.doDeselect(b[c],a);delete this.bulkChange;this.maybeFireSelectionChange(this.getSelection().length!==e)},selectWithEvent:function(a,b,c){switch(this.selectionMode){case "MULTI":b.ctrlKey&&this.isSelected(a)?this.doDeselect(a,false):b.shiftKey&&this.lastFocused?this.selectRange(this.lastFocused,a,b.ctrlKey):b.ctrlKey?this.doSelect(a,true,false):this.isSelected(a)&&!b.shiftKey&&!b.ctrlKey&&this.selected.getCount()>1?this.doSelect(a,
c,false):this.doSelect(a,false);break;case "SIMPLE":this.isSelected(a)?this.doDeselect(a):this.doSelect(a,true);break;case "SINGLE":this.allowDeselect&&this.isSelected(a)?this.doDeselect(a):this.doSelect(a,false)}},selectRange:function(a,b,c,d){var e=this.store,g=0,h=[];if(!this.isLocked()){c||this.deselectAll(true);Ext.isNumber(a)||(a=e.indexOf(a));Ext.isNumber(b)||(b=e.indexOf(b));if(a>b){c=b;b=a;a=c}for(c=a;c<=b;c++)this.isSelected(e.getAt(c))&&g++;d=d?d=="up"?a:b:-1;for(c=a;c<=b;c++)g==b-a+1?
c!=d&&this.doDeselect(c,true):h.push(e.getAt(c));this.doMultiSelect(h,true)}},select:function(a,b,c){Ext.isDefined(a)&&this.doSelect(a,b,c)},deselect:function(a,b){this.doDeselect(a,b)},doSelect:function(a,b,c){if(!this.locked&&this.store){typeof a==="number"&&(a=[this.store.getAt(a)]);if(this.selectionMode=="SINGLE"&&a){a=a.length?a[0]:a;this.doSingleSelect(a,c)}else this.doMultiSelect(a,b,c)}},doMultiSelect:function(a,b,c){function d(){e.add(j);g=true}var e=this.selected,g=false,h=0,i,j;if(!this.locked){a=
!Ext.isArray(a)?[a]:a;i=a.length;if(!(!b&&e.getCount()>0&&this.doDeselect(this.getSelection(),c)===false)){for(;h<i;h++){j=a[h];if(!b||!this.isSelected(j)){this.lastSelected=j;this.onSelectChange(j,true,c,d)}}this.preventFocus||this.setLastFocused(j,c);this.maybeFireSelectionChange(g&&!c)}}},doDeselect:function(a,b){function c(){++j;d.remove(h)}var d=this.selected,e=0,g,h,i=0,j=0;if(this.locked||!this.store)return false;typeof a==="number"?a=[this.store.getAt(a)]:Ext.isArray(a)||(a=[a]);for(g=a.length;e<
g;e++){h=a[e];if(this.isSelected(h)){if(this.lastSelected==h)this.lastSelected=d.last();++i;this.onSelectChange(h,false,b,c)}}this.maybeFireSelectionChange(j>0&&!b);return j===i},doSingleSelect:function(a,b){function c(){d.bulkChange=true;if(g.getCount()>0&&d.doDeselect(d.lastSelected,b)===false){delete d.bulkChange;return false}delete d.bulkChange;g.add(a);d.lastSelected=a;e=true}var d=this,e=false,g=d.selected;if(!d.locked&&!d.isSelected(a)){d.onSelectChange(a,true,b,c);if(e){b||d.setLastFocused(a);
d.maybeFireSelectionChange(!b)}}},setLastFocused:function(a,b){var c=this.lastFocused;this.lastFocused=a;if(a!==c)this.onLastFocusChanged(c,a,b)},isFocused:function(a){return a===this.getLastFocused()},maybeFireSelectionChange:function(a){a&&!this.bulkChange&&this.fireEvent("selectionchange",this,this.getSelection())},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},
setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE";this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isSelected:function(a){a=Ext.isNumber(a)?this.store.getAt(a):a;return this.selected.indexOf(a)!==-1},hasSelection:function(){return this.selected.getCount()>0},refresh:function(){var a=this.store,b=[],c=this.getSelection(),d=c.length,e,g,h=0,i=this.getLastFocused();if(a){for(;h<d;h++){e=c[h];(!this.pruneRemoved||a.indexOf(e)!==
-1)&&b.push(e)}this.selected.getCount()!=b.length&&(g=true);this.clearSelections();a.indexOf(i)!==-1&&this.setLastFocused(i,true);b.length&&this.doSelect(b,false,true);this.maybeFireSelectionChange(g)}},clearSelections:function(){this.selected.clear();this.lastSelected=null;this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if(this.selected.getCount>0){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(a,b){var c=this.selected;if(!this.locked&&
this.pruneRemoved&&c.remove(b)){if(this.lastSelected==b)this.lastSelected=null;this.getLastFocused()==b&&this.setLastFocused(null);this.maybeFireSelectionChange(true)}},getCount:function(){return this.selected.getCount()},destroy:Ext.emptyFn,onStoreUpdate:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:Ext.emptyFn,onLastFocusChanged:function(a,b){this.fireEvent("focuschange",this,a,b)},onEditorKey:Ext.emptyFn,bindComponent:Ext.emptyFn,beforeViewRender:Ext.emptyFn});
Ext.define("Ext.selection.DataViewModel",{extend:"Ext.selection.Model",requires:["Ext.util.KeyNav"],deselectOnContainerClick:!0,enableKeyNav:!0,constructor:function(a){this.addEvents("beforedeselect","beforeselect","deselect","select");this.callParent(arguments)},bindComponent:function(a){var b={refresh:this.refresh,scope:this};this.view=a;this.bindStore(a.getStore());b[a.triggerEvent]=this.onItemClick;b[a.triggerCtEvent]=this.onContainerClick;a.on(b);this.enableKeyNav&&this.initKeyNav(a)},onItemClick:function(a,
b,c,d,e){this.selectWithEvent(b,e)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},initKeyNav:function(a){if(a.rendered){a.el.set({tabIndex:-1});this.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:true,down:Ext.pass(this.onNavKey,[1],this),right:Ext.pass(this.onNavKey,[1],this),left:Ext.pass(this.onNavKey,[-1],this),up:Ext.pass(this.onNavKey,[-1],this),scope:this})}else a.on({render:Ext.Function.bind(this.initKeyNav,this,[a]),single:true})},onNavKey:function(a){var a=
a||1,b=this.view,c=this.getSelection()[0],d=this.view.store.getCount(),a=c?b.indexOf(b.getNode(c))+a:0;a<0?a=d-1:a>=d&&(a=0);this.select(a)},onSelectChange:function(a,b,c,d){var e=this.view,g=b?"select":"deselect";if((c||this.fireEvent("before"+g,this,a))!==false&&d()!==false){if(e)if(b)e.onItemSelect(a);else e.onItemDeselect(a);c||this.fireEvent(g,this,a)}},destroy:function(){Ext.destroy(this.keyNav);this.callParent()}});
Ext.define("Ext.view.AbstractView",{extend:"Ext.Component",requires:["Ext.LoadMask","Ext.data.StoreManager","Ext.CompositeElementLite","Ext.DomQuery","Ext.selection.DataViewModel"],mixins:{bindable:"Ext.util.Bindable"},inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.boundView)}},deferInitialRefresh:!0,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+
"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,last:!1,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var a=Ext.isDefined,b=this.itemTpl,c={};if(b){if(Ext.isArray(b))b=b.join("");else if(Ext.isObject(b)){c=Ext.apply(c,b.initialConfig);b=b.html}if(!this.itemSelector)this.itemSelector="."+this.itemCls;b=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',this.itemCls,b);
this.tpl=new Ext.XTemplate(b,c)}(!a(this.tpl)||!a(this.itemSelector))&&Ext.Error.raise({sourceClass:"Ext.view.View",tpl:this.tpl,itemSelector:this.itemSelector,msg:"DataView requires both tpl and itemSelector configurations to be defined."});this.callParent();if(Ext.isString(this.tpl)||Ext.isArray(this.tpl))this.tpl=new Ext.XTemplate(this.tpl);if(a(this.overCls)||a(this.overClass)){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.view.View: Using the deprecated overCls or overClass configuration. Use overItemCls instead.");
this.overItemCls=this.overCls||this.overClass;delete this.overCls;delete this.overClass}if(this.overItemCls)this.trackOver=true;if(a(this.selectedCls)||a(this.selectedClass)){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.view.View: Using the deprecated selectedCls or selectedClass configuration. Use selectedItemCls instead.");this.selectedItemCls=this.selectedCls||this.selectedClass;delete this.selectedCls;delete this.selectedClass}this.addEvents("beforerefresh","refresh","viewready",
"itemupdate","itemadd","itemremove");this.addCmpEvents();this.store=Ext.data.StoreManager.lookup(this.store||"ext-empty-store");this.bindStore(this.store,true);this.all=new Ext.CompositeElementLite;this.scrollState={top:0,left:0};this.on({scroll:this.onViewScroll,element:"el",scope:this})},onRender:function(){var a=this.loadMask,b={msg:this.loadingText,msgCls:this.loadingCls,useMsg:this.loadingUseMsg,store:this.getMaskStore()};this.callParent(arguments);if(a){Ext.isObject(a)&&(b=Ext.apply(b,a));this.loadMask=
new Ext.LoadMask(this,b);this.loadMask.on({scope:this,beforeshow:this.onMaskBeforeShow,hide:this.onMaskHide})}},finishRender:function(){this.callParent(arguments);this.up("[collapsed],[hidden]")||this.doFirstRefresh(this.store)},onBoxReady:function(){this.callParent(arguments);this.firstRefreshDone||this.doFirstRefresh(this.store)},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var a=this.loadingHeight;this.getSelectionModel().deselectAll();this.all.clear();if(a&&a>this.getHeight()){this.hasLoadingHeight=
true;this.oldMinHeight=this.minHeight;this.minHeight=a;this.updateLayout()}},onMaskHide:function(){if(!this.destroying&&this.hasLoadingHeight){this.minHeight=this.oldMinHeight;this.updateLayout();delete this.hasLoadingHeight}},beforeRender:function(){this.callParent(arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments);this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var a="SINGLE";if(!this.selModel)this.selModel={};
this.simpleSelect?a="SIMPLE":this.multiSelect&&(a="MULTI");Ext.applyIf(this.selModel,{allowDeselect:this.allowDeselect,mode:a});if(!this.selModel.events)this.selModel=new Ext.selection.DataViewModel(this.selModel);if(!this.selModel.hasRelaySetup){this.relayEvents(this.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);this.selModel.hasRelaySetup=true}if(this.disableSelection)this.selModel.locked=true;return this.selModel},refresh:function(){var a,b,c,d,
e,g;if(this.rendered&&!this.isDestroyed&&(!this.hasListeners.beforerefresh||this.fireEvent("beforerefresh",this)!==false)){a=this.getTargetEl();g=this.store.getRange();e=a.dom;if(!this.preserveScrollOnRefresh){b=e.parentNode;c=e.style.display;e.style.display="none";d=e.nextSibling;b.removeChild(e)}if(this.refreshCounter)this.clearViewEl();else{this.fixedNodes=a.dom.childNodes.length;this.refreshCounter=1}this.tpl.append(a,this.collectData(g,0));if(g.length<1){(!this.deferEmptyText||this.hasSkippedEmptyText)&&
Ext.core.DomHelper.insertHtml("beforeEnd",a.dom,this.emptyText);this.all.clear()}else{this.all.fill(Ext.query(this.getItemSelector(),a.dom));this.updateIndexes(0)}this.selModel.refresh();this.hasSkippedEmptyText=true;if(!this.preserveScrollOnRefresh){b.insertBefore(e,d);e.style.display=c}this.refreshSize();this.fireEvent("refresh",this);if(!this.viewReady){this.viewReady=true;this.fireEvent("viewready",this)}}},refreshSize:function(){var a=this.getSizeModel();(a.height.shrinkWrap||a.width.shrinkWrap)&&
this.updateLayout()},clearViewEl:function(){var a=this.getTargetEl();if(this.fixedNodes)for(;a.dom.childNodes[this.fixedNodes];)a.dom.removeChild(a.dom.childNodes[this.fixedNodes]);else a.update("");this.refreshCounter++},onViewScroll:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;b.left=a.scrollLeft;b.top=a.scrollTop}},restoreScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;a.scrollLeft=b.left;a.scrollTop=b.top}},prepareData:function(a,
b,c){var d;if(c){b=c.getAssociatedData();for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d])}return a},collectData:function(a,b){for(var c=[],d=0,e=a.length,g;d<e;d++){g=a[d];c[d]=this.prepareData(g.data,b+d,g)}return c},bufferRender:function(a,b){var c=this.renderBuffer||(this.renderBuffer=document.createElement("div"));this.tpl.overwrite(c,this.collectData(a,b));return Ext.query(this.getItemSelector(),c)},onUpdate:function(a,b){var c,d;if(this.viewReady){c=this.store.indexOf(b);if(c>-1){d=this.bufferRender([b],
c)[0];if(this.getNode(b)){this.all.replaceElement(c,d,true);this.updateIndexes(c,c);this.selModel.refresh();this.hasListeners.itemupdate&&this.fireEvent("itemupdate",b,c,d);return d}}}},onAdd:function(a,b,c){if(this.rendered)if(this.all.getCount()===0)this.refresh();else{a=this.bufferRender(b,c);this.doAdd(a,b,c);this.selModel.refresh();this.updateIndexes(c);this.refreshSize();this.hasListeners.itemadd&&this.fireEvent("itemadd",b,c,a)}},doAdd:function(a,b,c){var b=this.all,d=b.getCount();if(d===0){this.clearViewEl();
this.getTargetEl().appendChild(a)}else c<d?c===0?b.item(c).insertSibling(a,"before",true):b.item(c-1).insertSibling(a,"after",true):b.last().insertSibling(a,"after",true);Ext.Array.insert(b.elements,c,a)},onRemove:function(a,b,c){if(this.all.getCount()){if(this.store.getCount()===0)this.refresh();else{this.doRemove(b,c);this.selModel.refreshOnRemove&&this.selModel.refresh();this.updateIndexes(c)}this.refreshSize();this.hasListeners.itemremove&&this.fireEvent("itemremove",b,c)}},doRemove:function(a,
b){this.all.removeElement(b,true)},refreshNode:function(a){this.onUpdate(this.store,this.store.getAt(a))},updateIndexes:function(a,b){var c=this.all.elements,d=this.store.getRange(),e,b=b||(b===0?0:c.length-1);for(e=a||0;e<=b;e++){c[e].viewIndex=e;c[e].viewRecordId=d[e].internalId;if(!c[e].boundView)c[e].boundView=this.id}},getStore:function(){return this.store},bindStore:function(a,b){this.mixins.bindable.bindStore.apply(this,arguments);b||this.getSelectionModel().bindStore(this.store);this.componentLayoutCounter&&
this.doFirstRefresh(a)},doFirstRefresh:function(a){this.firstRefreshDone=true;a&&!a.loading&&(this.deferInitialRefresh?this.applyFirstRefresh():this.refresh())},applyFirstRefresh:function(){var a=this;a.isDestroyed||(a.up("[isCollapsingOrExpanding]")?Ext.Function.defer(a.applyFirstRefresh,100,a):Ext.Function.defer(function(){a.isDestroyed||a.refresh()},1))},onUnbindStore:function(){this.setMaskBind(null)},onBindStore:function(a){this.setMaskBind(a)},setMaskBind:function(a){var b=this.loadMask;b&&
b.bindStore&&b.bindStore(a)},getStoreListeners:function(){return{refresh:this.onDataRefresh,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh}},onDataRefresh:function(){if(!this.firstRefreshDone&&(!this.rendered||this.up("[collapsed],[isCollapsingOrExpanding],[hidden]")))this.deferInitialRefresh=false;else if(this.blockRefresh!==true){this.firstRefreshDone=true;this.refresh.apply(this,arguments)}},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),
this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var a=[],b=this.selModel.getSelection(),c=b.length,d=0;d<c;d++)a.push(this.getNode(b[d]));return a},getRecords:function(a){for(var b=[],c=0,d=a.length,e=this.store.data;c<d;c++)b[b.length]=e.getByKey(a[c].viewRecordId);return b},getRecord:function(a){return this.store.data.getByKey(Ext.getDom(a).viewRecordId)},isSelected:function(a){return this.selModel.isSelected(this.getRecord(a))},
select:function(a,b,c){this.selModel.select(a,b,c)},deselect:function(a,b){this.selModel.deselect(a,b)},getNode:function(a){return!a&&a!==0||!this.rendered?null:Ext.isString(a)?document.getElementById(a):Ext.isNumber(a)?this.all.elements[a]:a.isModel?this.getNodeByRecord(a):a},getNodeByRecord:function(a){for(var b=this.all.elements,c=b.length,d=0;d<c;d++)if(b[d].viewRecordId===a.internalId)return b[d];return null},getNodes:function(a,b){var c=this.all.elements;b===void 0?b=c.length:b++;return this.all.elements.slice(a||
0,b)},indexOf:function(a){a=this.getNode(a);return!a&&a!==0?-1:Ext.isNumber(a.viewIndex)?a.viewIndex:this.all.indexOf(a)},onDestroy:function(){this.all.clear();this.callParent();this.bindStore(null);this.selModel.destroy()},onItemSelect:function(a){(a=this.getNode(a))&&Ext.fly(a).addCls(this.selectedItemCls)},onItemDeselect:function(a){(a=this.getNode(a))&&Ext.fly(a).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){Ext.global.console&&
Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel");return this.selModel.getSelection().length},getSelectedRecords:function(){Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel");return this.selModel.getSelection()},select:function(a,b,c){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");
var d=this.getSelectionModel();return d.select.apply(d,arguments)},clearSelections:function(){Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");return this.getSelectionModel().deselectAll()}})})});
Ext.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.DataView",alias:"widget.dataview",deferHighlight:Ext.isIE6||Ext.isIE7?100:0,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},initComponent:function(){this.callParent();if(this.deferHighlight)this.setHighlightedItem=
Ext.Function.createBuffered(this.setHighlightedItem,this.deferHighlight,this)},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout",
"beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","beforedeselect","select","deselect","focuschange","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){this.callParent();this.mon(this.getTargetEl(),{scope:this,freezeEvent:true,
click:this.handleEvent,mousedown:this.handleEvent,mouseup:this.handleEvent,dblclick:this.handleEvent,contextmenu:this.handleEvent,mouseover:this.handleEvent,mouseout:this.handleEvent,keydown:this.handleEvent})},handleEvent:function(a){var b=a.type=="keydown"&&a.getKey();this.processUIEvent(a)!==false&&this.processSpecialEvent(a);b===a.SPACE&&(this.inputTagRe.test(a.getTarget().tagName)||a.stopEvent())},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,
stillOverItem:function(a,b){var c;if(b&&typeof b.offsetParent==="object"){c=a.type=="mouseout"?a.getRelatedTarget():a.getTarget();return Ext.fly(b).contains(c)}return false},processUIEvent:function(a){var b=a.getTarget(this.getItemSelector(),this.getTargetEl()),c=this.statics().EventMap,d,e;d=a.type;var g=this.mouseOverItem;if(!b){d=="mouseover"&&this.stillOverItem(a,g)&&(b=g);if(d=="keydown")(e=this.getSelectionModel().getLastSelected())&&(b=this.getNode(e))}if(b){d=this.indexOf(b);e||(e=this.getRecord(b));
if(!e||this.processItemEvent(e,b,d,a)===false)return false;g=this.isNewItemEvent(b,a);if(g===false||this["onBeforeItem"+c[g]](e,b,d,a)===false||this.fireEvent("beforeitem"+g,this,e,b,d,a)===false||this["onItem"+c[g]](e,b,d,a)===false)return false;this.fireEvent("item"+g,this,e,b,d,a)}else{if(this.processContainerEvent(a)===false||this["onBeforeContainer"+c[d]](a)===false||this.fireEvent("beforecontainer"+d,this,a)===false||this["onContainer"+c[d]](a)===false)return false;this.fireEvent("container"+
d,this,a)}return true},isNewItemEvent:function(a,b){var c=this.mouseOverItem,d=b.type;switch(d){case "mouseover":if(a===c)return false;this.mouseOverItem=a;return"mouseenter";case "mouseout":if(this.stillOverItem(b,c))return false;this.mouseOverItem=null;return"mouseleave"}return d},onItemMouseEnter:function(a,b){this.trackOver&&this.highlightItem(b)},onItemMouseLeave:function(){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,
onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,
onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(a){var b=this.highlightedItem;if(b!=a){if(b){Ext.fly(b).removeCls(this.overItemCls);
this.fireEvent("unhighlightitem",this,b)}if(this.highlightedItem=a){Ext.fly(a).addCls(this.overItemCls);this.fireEvent("highlightitem",this,a)}}},highlightItem:function(a){this.setHighlightedItem(a)},clearHighlight:function(){this.setHighlightedItem(void 0)},onUpdate:function(a,b){var c,d,e;if(this.viewReady){c=this.getNode(b);d=this.callParent(arguments);if((e=this.highlightedItem)&&e===c){delete this.highlightedItem;d&&this.highlightItem(d)}}},refresh:function(){this.clearHighlight();this.callParent(arguments)}});
Ext.define("Ext.view.Table",{extend:"Ext.view.View",alias:"widget.tableview",uses:["Ext.view.TableLayout","Ext.view.TableChunker","Ext.util.DelayedTask","Ext.util.MixedCollection"],componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",rowSelector:"tr."+Ext.baseCSSPrefix+"grid-row",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+
Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",overItemCls:Ext.baseCSSPrefix+"grid-row-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",rowClsRe:RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+) ",""),trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,initialTpl:"<div></div>",
initComponent:function(){var a=this.scroll;this.table=new Ext.dom.Element.Fly;this.table.id=this.id+"gridTable";this.autoScroll=void 0;if(a===true||a==="both")this.autoScroll=true;else if(a==="horizontal")this.overflowX="auto";else if(a==="vertical")this.overflowY="auto";this.selModel.view=this;this.headerCt.view=this;this.headerCt.markDirty=this.markDirty;this.initFeatures(this.grid);delete this.grid;this.tpl=this.getTpl("initialTpl");this.callParent()},moveColumn:function(a,b,c){var d=c>1?document.createDocumentFragment():
void 0,e=b,g=this.getGridColumns().length,h=g-1,i=(this.firstCls||this.lastCls)&&(b===0||b==g||a===0||a==h),j,k,l,m,n,o;if(this.rendered){o=this.el.query(this.headerRowSelector);l=this.el.query(this.rowSelector);b>a&&d&&(e=e-c);j=0;for(m=o.length;j<m;++j){n=o[j];if(d){for(k=0;k<c;k++)d.appendChild(n.cells[a]);n.insertBefore(d,n.cells[e]||null)}else n.insertBefore(n.cells[a],n.cells[e]||null)}j=0;for(m=l.length;j<m;j++){n=l[j];if(i){if(a===0){Ext.fly(n.cells[0]).removeCls(this.firstCls);Ext.fly(n.cells[1]).addCls(this.firstCls)}else if(a===
h){Ext.fly(n.cells[h]).removeCls(this.lastCls);Ext.fly(n.cells[h-1]).addCls(this.lastCls)}if(b===0){Ext.fly(n.cells[0]).removeCls(this.firstCls);Ext.fly(n.cells[a]).addCls(this.firstCls)}else if(b===g){Ext.fly(n.cells[h]).removeCls(this.lastCls);Ext.fly(n.cells[a]).addCls(this.lastCls)}}if(d){for(k=0;k<c;k++)d.appendChild(n.cells[a]);n.insertBefore(d,n.cells[e]||null)}else n.insertBefore(n.cells[a],n.cells[e]||null)}this.setNewTemplate()}},scrollToTop:Ext.emptyFn,addElListener:function(a,b,c){this.mon(this,
a,b,c,{element:"el"})},getGridColumns:function(){return this.headerCt.getGridColumns()},getHeaderAtIndex:function(a){return this.headerCt.getHeaderAtIndex(a)},getCell:function(a,b){var c=this.getNode(a);return Ext.fly(c).down(b.getCellSelector())},getFeature:function(a){var b=this.featuresMC;if(b)return b.get(a)},initFeatures:function(a){var b,c,d,e;this.featuresMC=new Ext.util.MixedCollection;e=(c=this.features=this.constructFeatures())?c.length:0;for(b=0;b<e;b++){d=c[b];d.view=this;d.grid=a;this.featuresMC.add(d);
d.init()}},constructFeatures:function(){var a=this.features,b,c,d=0,e;if(a){c=[];for(e=a.length;d<e;d++){b=a[d];b.isFeature||(b=Ext.create("feature."+b.ftype,b));c[d]=b}}return c},attachEventsForFeatures:function(){for(var a=this.features,b=a.length,c=0;c<b;c++)a[c].isFeature&&a[c].attachEvents()},afterRender:function(){this.callParent();this.enableTextSelection||this.el.unselectable();this.attachEventsForFeatures()},onViewScroll:function(a,b){this.callParent(arguments);this.fireEvent("bodyscroll",
a,b)},prepareData:function(a,b,c){for(var d=this.headerCt.prepareData(a,b,c,this,this.ownerCt),e=this.features,g=e.length,h=0,i;h<g;h++){i=e[h];i.isFeature&&Ext.apply(d,i.getAdditionalData(a,b,c,d,this))}return d},collectData:function(a,b){var c=this.callParent(arguments),d=this.headerCt.getFullWidth(),e=this.features,g=e.length,h={rows:c,fullWidth:d},i=0,j;j=0;var k,l,m,n;k=c.length;if(this.getRowClass)for(;j<k;j++){l={};m=c[j];n=m.rowCls||"";m.rowCls=this.getRowClass(a[j],j,l,this.store)+" "+n;
l.alt&&Ext.Error.raise("The getRowClass alt property is no longer supported.");l.tstyle&&Ext.Error.raise("The getRowClass tstyle property is no longer supported.");l.cells&&Ext.Error.raise("The getRowClass cells property is no longer supported.");l.body&&Ext.Error.raise("The getRowClass body property is no longer supported. Use the getAdditionalData method of the rowbody feature.");l.bodyStyle&&Ext.Error.raise("The getRowClass bodyStyle property is no longer supported.");l.cols&&Ext.Error.raise("The getRowClass cols property is no longer supported.")}for(;i<
g;i++){j=e[i];if(j.isFeature&&j.collectData&&!j.disabled){h=j.collectData(a,c,b,d,h);break}}return h},refreshSize:function(){var a;this.table.attach(this.el.child("table",true));if(!this.hasLoadingHeight){a=this.up("tablepanel");Ext.suspendLayouts();this.callParent();a&&(Ext.getScrollbarSize().width&&(this.autoScroll||this.overflowY))&&a.updateLayout();Ext.resumeLayouts(true)}},setNewTemplate:function(){var a=this.headerCt.getColumnsForTpl(true);this.tpl=this.getTableChunker().getTableTpl({rowCount:this.store.getCount(),
columns:a,features:this.features,enableTextSelection:this.enableTextSelection})},getTableChunker:function(){return this.chunker||Ext.view.TableChunker},addRowCls:function(a,b){var c=this.getNode(a);c&&Ext.fly(c).addCls(b)},removeRowCls:function(a,b){var c=this.getNode(a);c&&Ext.fly(c).removeCls(b)},onRowSelect:function(a){this.addRowCls(a,this.selectedItemCls)},onRowDeselect:function(a){this.removeRowCls(a,this.selectedItemCls);this.removeRowCls(a,this.focusedItemCls)},onCellSelect:function(a){(a=
this.getCellByPosition(a,true))&&Ext.fly(a).addCls(this.selectedCellCls)},onCellDeselect:function(a){(a=this.getCellByPosition(a,true))&&Ext.fly(a).removeCls(this.selectedCellCls)},onCellFocus:function(a){this.focusCell(a)},getCellByPosition:function(a,b){if(a){var c=this.getNode(a.row),d=this.headerCt.getHeaderAtIndex(a.column);if(d&&c)return Ext.fly(c).down(d.getCellSelector(),b)}return false},onRowFocus:function(a,b,c){if(b){this.addRowCls(a,this.focusedItemCls);c||this.focusRow(a)}else this.removeRowCls(a,
this.focusedItemCls)},focusRow:function(a){var b=this.getNode(a),c=this.el,d=0,e=this.ownerCt,g;if(b&&c){a=c.getY();g=a+c.dom.clientHeight;c=Ext.fly(b).getRegion();c.top<a?d=c.top-a:c.bottom>g&&(d=c.bottom-g);c=this.getRecord(b);a=this.store.indexOf(c);d&&e.scrollByDeltaY(d);this.fireEvent("rowfocus",c,b,a)}},focusCell:function(a){var b=this.getCellByPosition(a),c=this.el,d=0,e=0,g=c.getRegion(),h=this.ownerCt,i;g.bottom=g.top+c.dom.clientHeight;g.right=g.left+c.dom.clientWidth;if(b){i=b.getRegion();
i.top<g.top?d=i.top-g.top:i.bottom>g.bottom&&(d=i.bottom-g.bottom);i.left<g.left?e=i.left-g.left:i.right>g.right&&(e=i.right-g.right);d&&h.scrollByDeltaY(d);e&&h.scrollByDeltaX(e);c.focus();this.fireEvent("cellfocus",void 0,b,a)}},scrollByDelta:function(a,b){var b=b||"scrollTop",c=this.el.dom;c[b]=c[b]=c[b]+a},onUpdate:function(a,b,c,d){var e,g,h,i,j,k,l,m,n,o=this.editingPlugin&&this.editingPlugin.editing;if(this.viewReady){a=this.store.indexOf(b);l=this.headerCt.getGridColumns();m=this.overItemCls;
if(l.length&&a>-1){c=this.bufferRender([b],a)[0];if(j=this.all.item(a)){k=j.dom;n=j.hasCls(m);if(k.mergeAttributes)k.mergeAttributes(c,true);else{e=c.attributes;g=e.length;for(h=0;h<g;h++){i=e[h].name;i!=="id"&&k.setAttribute(i,e[h].value)}}n&&j.addCls(m);e=j.query(this.cellSelector);g=Ext.fly(c).query(this.cellSelector);i=g.length;j=e[0].parentNode;for(h=0;h<i;h++)if(this.shouldUpdateCell(l[h],d))if(o)Ext.fly(e[h]).syncContent(g[h]);else{j.insertBefore(g[h],e[h]);j.removeChild(e[h])}}this.fireEvent("itemupdate",
b,a,c)}}},shouldUpdateCell:function(a,b){return a.hasCustomRenderer?true:!b||Ext.Array.contains(b,a.dataIndex)},refresh:function(){this.setNewTemplate();this.callParent(arguments);this.doStripeRows(0);this.headerCt.setSortState()},clearViewEl:function(){this.callParent();delete this.table.dom},processItemEvent:function(a,b,c,d){var e=d.getTarget(this.cellSelector,b),g=e?e.cellIndex:-1,h=this.statics().EventMap,i=this.getSelectionModel(),j=d.type;if(j=="keydown"&&!e&&i.getCurrentPosition)if(e=this.getCellByPosition(i.getCurrentPosition())){e=
e.dom;g=e.cellIndex}return this.fireEvent("uievent",j,this,e,c,g,d,a,b)===false||this.callParent(arguments)===false?false:j=="mouseover"||j=="mouseout"||!e?true:!(this["onBeforeCell"+h[j]](e,g,a,b,c,d)===false||this.fireEvent("beforecell"+j,this,e,g,a,b,c,d)===false||this["onCell"+h[j]](e,g,a,b,c,d)===false||this.fireEvent("cell"+j,this,e,g,a,b,c,d)===false)},processSpecialEvent:function(a){this.statics();var b=this.features,c=b.length,d=a.type,e,g,h,i,j,k=this.ownerCt;this.callParent(arguments);
if(!(d=="mouseover"||d=="mouseout")){for(e=0;e<c;e++){g=b[e];if(g.hasFeatureEvent)if(i=a.getTarget(g.eventSelector,this.getTargetEl())){h=g.eventPrefix;j=g.getFireEventArgs("before"+h+d,this,i,a);g=g.getFireEventArgs(h+d,this,i,a);if(this.fireEvent.apply(this,j)===false||k.fireEvent.apply(k,j)===false||this.fireEvent.apply(this,g)===false||k.fireEvent.apply(k,g)===false)return false}}return true}},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,
onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(a){if(a){var b=this.getMaxContentWidth(a);delete a.flex;a.setWidth(b)}},getMaxContentWidth:function(a){for(var b=this.el.query(a.getCellInnerSelector()),c=0,d=b.length,a=a.el.dom.scrollWidth,e;c<d;c++){e=b[c].scrollWidth;e>a&&(a=
e)}return a},getPositionByEvent:function(a){var b=a.getTarget(this.cellSelector),a=this.getRecord(a.getTarget(this.itemSelector)),b=this.getHeaderByCell(b);return this.getPosition(a,b)},getHeaderByCell:function(a){if(a)if((a=a.className.match(this.cellRe))&&a[1])return Ext.getCmp(a[1]);return false},walkCells:function(a,b,c,d,e,g){if(a){var h=a.row,a=a.column,i=this.store.getCount(),j=this.getFirstVisibleColumnIndex(),k=this.getLastVisibleColumnIndex(),l={row:h,column:a},m=this.headerCt.getHeaderAtIndex(a);
if(!m||m.hidden)return false;c=c||{};b=b.toLowerCase();switch(b){case "right":if(a===k){if(d||h===i-1)return false;if(!c.ctrlKey){l.row=h+1;l.column=j}}else l.column=c.ctrlKey?k:a+this.getRightGap(m);break;case "left":if(a===j){if(d||h===0)return false;if(!c.ctrlKey){l.row=h-1;l.column=k}}else l.column=c.ctrlKey?j:a+this.getLeftGap(m);break;case "up":if(h===0)return false;l.row=c.ctrlKey?0:h-1;break;case "down":if(h===i-1)return false;l.row=c.ctrlKey?i-1:h+1}return e&&e.call(g||window,l)!==true?false:
l}},getFirstVisibleColumnIndex:function(){var a=this.getHeaderCt().getVisibleGridColumns()[0];return a?a.getIndex():-1},getLastVisibleColumnIndex:function(){var a=this.getHeaderCt().getVisibleGridColumns();return a[a.length-1].getIndex()},getHeaderCt:function(){return this.headerCt},getPosition:function(a,b){var c=this.store,d=this.headerCt.getGridColumns();return{row:c.indexOf(a),column:Ext.Array.indexOf(d,b)}},getRightGap:function(a){for(var b=this.getHeaderCt().getGridColumns(),a=Ext.Array.indexOf(b,
a),c=a+1,d;c<=b.length;c++)if(!b[c].hidden){d=c;break}return d-a},beforeDestroy:function(){this.rendered&&this.el.removeAllListeners();this.callParent(arguments)},getLeftGap:function(a){for(var b=this.getHeaderCt().getGridColumns(),a=Ext.Array.indexOf(b,a),c=a-1,d;c>=0;c--)if(!b[c].hidden){d=c;break}return d-a},onAdd:function(a,b,c){this.callParent(arguments);this.doStripeRows(c)},onRemove:function(a,b,c){this.callParent(arguments);this.doStripeRows(c)},doStripeRows:function(a,b){var c,d,e,g;if(this.rendered&&
this.stripeRows){c=this.getNodes(a,b);e=0;for(d=c.length;e<d;e++){g=c[e];g.className=g.className.replace(this.rowClsRe," ");a++;if(a%2===0)g.className=g.className+(" "+this.altRowCls)}}}});
Ext.define("Ext.data.proxy.Proxy",{alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],uses:["Ext.data.Batch","Ext.data.Operation","Ext.data.Model"],mixins:{observable:"Ext.util.Observable"},batchOrder:"create,update,destroy",batchActions:!0,defaultReaderType:"json",defaultWriterType:"json",isProxy:!0,constructor:function(a){a=a||{};a.model===void 0&&delete a.model;this.mixins.observable.constructor.call(this,a);this.model!==void 0&&!(this.model instanceof Ext.data.Model)&&
this.setModel(this.model)},setModel:function(a,b){this.model=Ext.ModelManager.getModel(a);var c=this.writer;this.setReader(this.reader);this.setWriter(c);b&&this.store&&this.store.setModel(this.model)},getModel:function(){return this.model},setReader:function(a){var b=true;if(a===void 0||typeof a=="string"){a={type:a};b=false}if(a.isReader)a.setModel(this.model);else{b&&(a=Ext.apply({},a));Ext.applyIf(a,{proxy:this,model:this.model,type:this.defaultReaderType});a=Ext.createByAlias("reader."+a.type,
a)}if(a.onMetaChange)a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this);return this.reader=a},getReader:function(){return this.reader},onMetaChange:function(a){this.fireEvent("metachange",this,a)},setWriter:function(a){var b=true;if(a===void 0||typeof a=="string"){a={type:a};b=false}if(!a.isWriter){b&&(a=Ext.apply({},a));Ext.applyIf(a,{model:this.model,type:this.defaultWriterType});a=Ext.createByAlias("writer."+a.type,a)}return this.writer=a},getWriter:function(){return this.writer},
create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(a,b){var c=this.batchActions,d,e,g,h,i,j,k,l,m;a.operations===void 0&&(a={operations:a,listeners:b});a.batch?Ext.isDefined(a.batch.runOperation)&&(d=Ext.applyIf(a.batch,{proxy:this,listeners:{}})):a.batch={proxy:this,listeners:a.listeners||{}};d||(d=new Ext.data.Batch(a.batch));d.on("complete",Ext.bind(this.onBatchComplete,this,[a],0));g=this.batchOrder.split(",");h=g.length;for(j=0;j<h;j++){i=g[j];if(e=a.operations[i])if(c)d.add(new Ext.data.Operation({action:i,
records:e}));else{l=e.length;for(k=0;k<l;k++){m=e[k];d.add(new Ext.data.Operation({action:i,records:[m]}))}}}d.start();return d},onBatchComplete:function(a,b){var c=a.scope||this;b.hasException?Ext.isFunction(a.failure)&&Ext.callback(a.failure,c,[b,a]):Ext.isFunction(a.success)&&Ext.callback(a.success,c,[b,a]);Ext.isFunction(a.callback)&&Ext.callback(a.callback,c,[b,a])}},function(){Ext.data.DataProxy=this});
Ext.define("Ext.data.AbstractStore",{requires:["Ext.util.MixedCollection","Ext.data.proxy.Proxy","Ext.data.Operation","Ext.util.Filter"],mixins:{observable:"Ext.util.Observable",sortable:"Ext.util.Sortable"},statics:{create:function(a){if(!a.isStore){if(!a.type)a.type="store";a=Ext.createByAlias("store."+a.type,a)}return a}},remoteSort:!1,remoteFilter:!1,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",filterOnLoad:!0,sortOnLoad:!0,implicitModel:!1,defaultProxyType:"memory",isDestroyed:!1,
isStore:!0,sortRoot:"data",constructor:function(a){var b;Ext.apply(this,a);this.removed=[];this.mixins.observable.constructor.apply(this,arguments);b=this.model;this.model=Ext.ModelManager.getModel(this.model);Ext.applyIf(this,{modelDefaults:{}});if(!this.model&&this.fields){this.model=Ext.define("Ext.data.Store.ImplicitModel-"+(this.storeId||Ext.id()),{extend:"Ext.data.Model",fields:this.fields,proxy:this.proxy||this.defaultProxyType});delete this.fields;this.implicitModel=true}if(!this.model&&this.useModelWarning!==
false){var c=[Ext.getClassName(this)||"Store"," created with no model."];typeof b==="string"&&c.push(" The name '",b,"'"," does not correspond to a valid model.");Ext.log.warn(c.join(""))}this.setProxy(this.proxy||this.model.getProxy());this.proxy.on("metachange",this.onMetaChange,this);if(this.id&&!this.storeId){this.storeId=this.id;delete this.id}this.storeId&&Ext.data.StoreManager.register(this);this.mixins.sortable.initSortable.call(this);b=this.decodeFilters(this.filters);this.filters=new Ext.util.MixedCollection;
this.filters.addAll(b)},setProxy:function(a){if(a instanceof Ext.data.proxy.Proxy)a.setModel(this.model);else{Ext.isString(a)&&(a={type:a});Ext.applyIf(a,{model:this.model});a=Ext.createByAlias("proxy."+a.type,a)}return this.proxy=a},getProxy:function(){return this.proxy},onMetaChange:function(a,b){this.fireEvent("metachange",this,b)},create:function(a,b){var c=Ext.ModelManager.create(Ext.applyIf(a,this.modelDefaults),this.model.modelName),b=b||{};Ext.applyIf(b,{action:"create",records:[c]});this.proxy.create(new Ext.data.Operation(b),
this.onProxyWrite,this);return c},read:function(){return this.load.apply(this,arguments)},update:function(a){a=a||{};Ext.applyIf(a,{action:"update",records:this.getUpdatedRecords()});return this.proxy.update(new Ext.data.Operation(a),this.onProxyWrite,this)},onProxyWrite:function(a){var b=a.wasSuccessful(),c=a.getRecords();switch(a.action){case "create":this.onCreateRecords(c,a,b);break;case "update":this.onUpdateRecords(c,a,b);break;case "destroy":this.onDestroyRecords(c,a,b)}if(b){this.fireEvent("write",
this,a);this.fireEvent("datachanged",this);this.fireEvent("refresh",this)}Ext.callback(a.callback,a.scope||this,[c,a,b])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(a,b,c){if(c)this.removed=[]},destroy:function(a){a=a||{};Ext.applyIf(a,{action:"destroy",records:this.getRemovedRecords()});return this.proxy.destroy(new Ext.data.Operation(a),this.onProxyWrite,this)},onBatchOperationComplete:function(a,b){return this.onProxyWrite(b)},onBatchComplete:function(a){var a=
a.operations,b=a.length,c;this.suspendEvents();for(c=0;c<b;c++)this.onProxyWrite(a[c]);this.resumeEvents();this.fireEvent("datachanged",this);this.fireEvent("refresh",this)},onBatchException:function(){},filterNew:function(a){return a.phantom===true&&a.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return a.dirty===true&&a.phantom!==true&&a.isValid()},
getRemovedRecords:function(){return this.removed},filter:function(){},decodeFilters:function(a){Ext.isArray(a)||(a=a===void 0?[]:[a]);var b=a.length,c=Ext.util.Filter,d,e;for(e=0;e<b;e++){d=a[e];if(!(d instanceof c)){Ext.apply(d,{root:"data"});if(d.fn)d.filterFn=d.fn;typeof d=="function"&&(d={filterFn:d});a[e]=new c(d)}}return a},clearFilter:function(){},isFiltered:function(){},filterBy:function(){},sync:function(a){var b={},c=this.getNewRecords(),d=this.getUpdatedRecords(),e=this.getRemovedRecords(),
g=false;if(c.length>0){b.create=c;g=true}if(d.length>0){b.update=d;g=true}if(e.length>0){b.destroy=e;g=true}if(g&&this.fireEvent("beforesync",b)!==false){a=a||{};this.proxy.batch(Ext.apply(a,{operations:b,listeners:this.getBatchListeners()}))}return this},getBatchListeners:function(){var a={scope:this,exception:this.onBatchException};this.batchUpdateMode=="operation"?a.operationcomplete=this.onBatchOperationComplete:a.complete=this.onBatchComplete;return a},save:function(){return this.sync.apply(this,
arguments)},load:function(a){this.lastOptions=a=Ext.apply({action:"read",filters:this.filters.items,sorters:this.getSorters()},a);a=new Ext.data.Operation(a);if(this.fireEvent("beforeload",this,a)!==false){this.loading=true;this.proxy.read(a,this.onProxyLoad,this)}return this},reload:function(a){return this.load(Ext.apply(this.lastOptions,a))},afterEdit:function(a,b){var c,d;if(this.autoSync&&!this.autoSyncSuspended){for(c=b.length;c--;)if(a.fields.get(b[c]).persist){d=true;break}d&&this.sync()}this.fireEvent("update",
this,a,Ext.data.Model.EDIT,b)},afterReject:function(a){this.fireEvent("update",this,a,Ext.data.Model.REJECT,null)},afterCommit:function(a){this.fireEvent("update",this,a,Ext.data.Model.COMMIT,null)},destroyStore:function(){if(!this.isDestroyed){this.storeId&&Ext.data.StoreManager.unregister(this);this.clearData();this.data=this.tree=this.sorters=this.filters=this.groupers=null;this.reader&&this.reader.destroyReader();this.proxy=this.reader=this.writer=null;this.clearListeners();this.isDestroyed=true;
this.implicitModel?Ext.destroy(this.model):this.model=null}},doSort:function(a){if(this.remoteSort)this.load();else{this.data.sortBy(a);this.fireEvent("datachanged",this);this.fireEvent("refresh",this)}},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return!!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=true},resumeAutoSync:function(){this.autoSyncSuspended=false}});
Ext.define("Ext.data.proxy.Server",{extend:"Ext.data.proxy.Proxy",alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",uses:["Ext.data.Request"],pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3E4,constructor:function(a){a=a||{};this.callParent([a]);this.extraParams=a.extraParams||{};this.api=Ext.apply({},
a.api||this.api);this.nocache=this.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.extraParams[a]=b},buildRequest:function(a){var b=Ext.applyIf(a.params||{},this.extraParams||{}),b=Ext.applyIf(b,this.getParams(a));if(a.id!==void 0&&b.id===void 0)b.id=a.id;
b=new Ext.data.Request({params:b,action:a.action,records:a.records,operation:a,url:a.url,proxy:this});b.url=this.buildUrl(b);return a.request=b},processResponse:function(a,b,c,d,e,g){var h;if(a===true){h=this.getReader();h.applyDefaults=b.action==="read";h=h.read(this.extractResponseData(d));if(h.success!==false){Ext.apply(b,{response:d,resultSet:h});b.commitRecords(h.records);b.setCompleted();b.setSuccessful()}else{b.setException(h.message);this.fireEvent("exception",this,d,b)}}else{this.setException(b,
d);this.fireEvent("exception",this,d,b)}typeof e=="function"&&e.call(g||this,b);this.afterRequest(c,a)},setException:function(a,b){a.setException({status:b.status,statusText:b.statusText})},extractResponseData:function(a){return a},applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(a){for(var b=[],c=a.length,d=0;d<c;d++)b[d]={property:a[d].property,direction:a[d].direction};return this.applyEncoding(b)},encodeFilters:function(a){for(var b=[],c=a.length,d=0;d<c;d++)b[d]={property:a[d].property,
value:a[d].value};return this.applyEncoding(b)},getParams:function(a){var b={},c=Ext.isDefined,d=a.groupers,e=a.sorters,g=a.filters,h=a.page,i=a.start,a=a.limit,j=this.simpleSortMode,k=this.simpleGroupMode,l=this.pageParam,m=this.startParam,n=this.limitParam,o=this.groupParam,p=this.groupDirectionParam,q=this.sortParam,r=this.filterParam,s=this.directionParam;l&&c(h)&&(b[l]=h);m&&c(i)&&(b[m]=i);n&&c(a)&&(b[n]=a);if(o&&d&&d.length>0)if(k){b[o]=d[0].property;b[p]=d[0].direction||"ASC"}else b[o]=this.encodeSorters(d);
if(q&&e&&e.length>0)if(j){b[q]=e[0].property;b[s]=e[0].direction}else b[q]=this.encodeSorters(e);r&&(g&&g.length>0)&&(b[r]=this.encodeFilters(g));return b},buildUrl:function(a){(a=this.getUrl(a))||Ext.Error.raise("You are using a ServerProxy but have not supplied it with a url.");this.noCache&&(a=Ext.urlAppend(a,Ext.String.format("{0}={1}",this.cacheString,Ext.Date.now())));return a},getUrl:function(a){return a.url||this.api[a.action]||this.url},doRequest:function(){Ext.Error.raise("The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details")},
afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}});
Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.util.Observable"},statics:{requestId:0},url:null,async:!0,method:null,username:"",password:"",disableCaching:!0,withCredentials:!1,cors:!1,disableCachingParam:"_dc",timeout:3E4,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",constructor:function(a){a=a||{};Ext.apply(this,a);this.requests={};this.mixins.observable.constructor.call(this)},request:function(a){var a=
a||{},b=this,c=a.scope||window,d=a.username||b.username,e=a.password||b.password||"",g,h;if(b.fireEvent("beforerequest",b,a)!==false){g=b.setOptions(a,c);if(b.isFormUpload(a)){b.upload(a.form,g.url,g.data,a);return null}(a.autoAbort||b.autoAbort)&&b.abort();c=a.async!==false?a.async||b.async:false;e=b.openRequest(a,g,c,d,e);d=b.setupHeaders(e,a,g.data,g.params);h={id:++Ext.data.Connection.requestId,xhr:e,headers:d,options:a,async:c,timeout:setTimeout(function(){h.timedout=true;b.abort(h)},a.timeout||
b.timeout)};b.requests[h.id]=h;b.latestId=h.id;if(c)e.onreadystatechange=Ext.Function.bind(b.onStateChange,b,[h]);e.send(g.data);return!c?b.onComplete(h):h}Ext.callback(a.callback,a.scope,[a,void 0,void 0]);return null},upload:function(a,b,c,d){var a=Ext.getDom(a),d=d||{},e=Ext.id(),g=document.createElement("iframe"),h=[],i={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},j=function(b,c){k=document.createElement("input");Ext.fly(k).set({type:"hidden",value:c,
name:b});a.appendChild(k);h.push(k)},k,l,m;Ext.fly(g).set({id:e,name:e,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL});document.body.appendChild(g);if(document.frames)document.frames[e].name=e;Ext.fly(a).set({target:e,method:"POST",enctype:"multipart/form-data",encoding:"multipart/form-data",action:b||i.action});if(c){b=Ext.Object.fromQueryString(c)||{};for(l in b)if(b.hasOwnProperty(l)){c=b[l];if(Ext.isArray(c)){e=c.length;for(m=0;m<e;m++)j(l,c[m])}else j(l,c)}}Ext.fly(g).on("load",
Ext.Function.bind(this.onUploadComplete,this,[g,d]),null,{single:true});a.submit();Ext.fly(a).set(i);d=h.length;for(g=0;g<d;g++)Ext.removeNode(h[g])},onUploadComplete:function(a,b){var c={responseText:"",responseXML:null},d,e;try{if(d=a.contentWindow.document||a.contentDocument||window.frames[a.id].document){if(d.body)c.responseText=(e=d.body.firstChild)&&/pre/i.test(e.tagName)?e.innerText:(e=d.getElementsByTagName("textarea")[0])?e.value:d.body.textContent||d.body.innerText;c.responseXML=d.XMLDocument||
d}}catch(g){}this.fireEvent("requestcomplete",this,c,b);Ext.callback(b.success,b.scope,[c,b]);Ext.callback(b.callback,b.scope,[b,true,c]);setTimeout(function(){Ext.removeNode(a)},100)},isFormUpload:function(a){var b=this.getForm(a);return b?a.isUpload||/multipart\/form-data/i.test(b.getAttribute("enctype")):false},getForm:function(a){return Ext.getDom(a.form)||null},setOptions:function(a,b){var c=a.params||{},d=this.extraParams,e=a.urlParams,g=a.url||this.url,h=a.jsonData,i;Ext.isFunction(c)&&(c=
c.call(b,a));Ext.isFunction(g)&&(g=g.call(b,a));(g=this.setupUrl(a,g))||Ext.Error.raise({options:a,msg:"No URL specified"});i=a.rawData||a.xmlData||h||null;h&&!Ext.isPrimitive(h)&&(i=Ext.encode(i));Ext.isObject(c)&&(c=Ext.Object.toQueryString(c));Ext.isObject(d)&&(d=Ext.Object.toQueryString(d));c=c+(d?(c?"&":"")+d:"");e=Ext.isObject(e)?Ext.Object.toQueryString(e):e;c=this.setupParams(a,c);d=(a.method||this.method||(c||i?"POST":"GET")).toUpperCase();this.setupMethod(a,d);h=a.disableCaching!==false?
a.disableCaching||this.disableCaching:false;d==="GET"&&h&&(g=Ext.urlAppend(g,(a.disableCachingParam||this.disableCachingParam)+"="+(new Date).getTime()));if((d=="GET"||i)&&c){g=Ext.urlAppend(g,c);c=null}e&&(g=Ext.urlAppend(g,e));return{url:g,method:d,data:i||c||null}},setupUrl:function(a,b){var c=this.getForm(a);c&&(b=b||c.action);return b},setupParams:function(a,b){var c=this.getForm(a);if(c&&!this.isFormUpload(a)){c=Ext.Element.serializeForm(c);b=b?b+"&"+c:c}return b},setupMethod:function(a,b){return this.isFormUpload(a)?
"POST":b},setupHeaders:function(a,b,c,d){var e=Ext.apply({},b.headers||{},this.defaultHeaders||{}),g=this.defaultPostHeader,h=b.jsonData,i=b.xmlData,j,k;if(!e["Content-Type"]&&(c||d)){c&&(b.rawData?g="text/plain":i&&Ext.isDefined(i)?g="text/xml":h&&Ext.isDefined(h)&&(g="application/json"));e["Content-Type"]=g}if(this.useDefaultXhrHeader&&!e["X-Requested-With"])e["X-Requested-With"]=this.defaultXhrHeader;try{for(j in e)if(e.hasOwnProperty(j)){k=e[j];a.setRequestHeader(j,k)}}catch(l){this.fireEvent("exception",
j,k)}return e},newRequest:function(a){return(a.cors||this.cors)&&Ext.isIE&&Ext.ieVersion>=8?new XDomainRequest:this.getXhrInstance()},openRequest:function(a,b,c,d,e){var g=this.newRequest(a);d?g.open(b.method,b.url,c,d,e):g.open(b.method,b.url,c);if(a.withCredentials||this.withCredentials)g.withCredentials=true;return g},getXhrInstance:function(){for(var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},
function(){return new ActiveXObject("Microsoft.XMLHTTP")}],b=0,c=a.length,d;b<c;++b)try{d=a[b];d();break}catch(e){}return d}(),isLoading:function(a){a||(a=this.getLatest());if(!a||!a.xhr)return false;a=a.xhr.readyState;return!(a===0||a==4)},abort:function(a){var b;a||(a=this.getLatest());if(a&&this.isLoading(a)){b=a.xhr;try{b.onreadystatechange=null}catch(c){b=Ext.emptyFn}b.abort();this.clearTimeout(a);if(!a.timedout)a.aborted=true;this.onComplete(a);this.cleanup(a)}},abortAll:function(){var a=this.requests,
b;for(b in a)a.hasOwnProperty(b)&&this.abort(a[b])},getLatest:function(){var a=this.latestId,b;a&&(b=this.requests[a]);return b||null},onStateChange:function(a){if(a.xhr.readyState==4){this.clearTimeout(a);this.onComplete(a);this.cleanup(a)}},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(a){var b=a.options,c,d;try{c=this.parseStatus(a.xhr.status)}catch(e){c={success:false,isException:false}}if(d=c.success){c=this.createResponse(a);
this.fireEvent("requestcomplete",this,c,b);Ext.callback(b.success,b.scope,[c,b])}else{c=c.isException||a.aborted||a.timedout?this.createException(a):this.createResponse(a);this.fireEvent("requestexception",this,c,b);Ext.callback(b.failure,b.scope,[c,b])}Ext.callback(b.callback,b.scope,[b,d,c]);delete this.requests[a.id];return c},parseStatus:function(a){var a=a==1223?204:a,b=a>=200&&a<300||a==304,c=false;if(!b)switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:c=true}return{success:b,
isException:c}},createResponse:function(a){for(var b=a.xhr,c={},d=b.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),e=d.length,g,h,i;e--;){g=d[e];h=g.indexOf(":");if(h>=0){i=g.substr(0,h).toLowerCase();g.charAt(h+1)==" "&&++h;c[i]=g.substr(h+1)}}a.xhr=null;delete a.xhr;a={request:a,requestId:a.id,status:b.status,statusText:b.statusText,getResponseHeader:function(a){return c[a.toLowerCase()]},getAllResponseHeaders:function(){return c},responseText:b.responseText,responseXML:b.responseXML};
b=null;return a},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}}});Ext.define("Ext.Ajax",{extend:"Ext.data.Connection",singleton:!0,autoAbort:!1});
Ext.define("Ext.data.proxy.Ajax",{requires:["Ext.util.MixedCollection","Ext.Ajax"],extend:"Ext.data.proxy.Server",alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},doRequest:function(a,b,c){var d=this.getWriter(),e=this.buildRequest(a,b,c);a.allowWrite()&&(e=d.write(e));Ext.apply(e,{headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(e,a,b,c),method:this.getMethod(e),
disableCaching:false});Ext.Ajax.request(e);return e},getMethod:function(a){return this.actionMethods[a.action]},createRequestCallback:function(a,b,c,d){var e=this;return function(g,h,i){e.processResponse(h,b,a,i,c,d)}}},function(){Ext.data.HttpProxy=this});Ext.define("Ext.data.proxy.Client",{extend:"Ext.data.proxy.Proxy",alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){Ext.Error.raise("The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}});
Ext.define("Ext.data.proxy.Memory",{extend:"Ext.data.proxy.Client",alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",constructor:function(a){this.callParent([a]);this.setReader(this.reader)},updateOperation:function(a,b,c){var d=0,e=a.getRecords(),g=e.length;for(d;d<g;d++)e[d].commit();a.setCompleted();a.setSuccessful();Ext.callback(b,c||this,[a])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,
arguments)},read:function(a,b,c){a.resultSet=this.getReader().read(this.data);a.setCompleted();a.setSuccessful();Ext.callback(b,c||this,[a])},clear:Ext.emptyFn});Ext.define("Ext.data.ResultSet",{loaded:!0,count:0,total:0,success:!1,constructor:function(a){Ext.apply(this,a);this.totalRecords=this.total;if(a.count===void 0)this.count=this.records.length}});
Ext.define("Ext.data.reader.Reader",{requires:["Ext.data.ResultSet","Ext.XTemplate"],alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:{observable:"Ext.util.Observable"},totalProperty:"total",successProperty:"success",root:"",implicitIncludes:!0,readRecordsOnFailure:!0,isReader:!0,applyDefaults:!0,lastFieldGeneration:null,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.fieldCount=0;this.model=Ext.ModelManager.getModel(this.model);this.accessExpressionFn=
Ext.Function.bind(this.createFieldAccessExpression,this);this.model&&this.model.prototype.fields&&this.buildExtractors();this.addEvents("exception")},setModel:function(a,b){this.model=Ext.ModelManager.getModel(a);this.buildExtractors(true);b&&this.proxy&&this.proxy.setModel(this.model,true)},read:function(a){var b;a&&(b=a.responseText?this.getResponseData(a):this.readRecords(a));return b||this.nullResultSet},readRecords:function(a){var b,c,d,e,g,h,i;this.lastFieldGeneration!==this.model.prototype.fields.generation&&
this.buildExtractors(true);this.rawData=a;a=this.getData(a);b=true;c=0;d=[];if(this.successProperty){h=this.getSuccess(a);if(h===false||h==="false")b=false}this.messageProperty&&(i=this.getMessage(a));if(this.readRecordsOnFailure||b){if(e=Ext.isArray(a)?a:this.getRoot(a))g=e.length;if(this.totalProperty){h=parseInt(this.getTotal(a),10);isNaN(h)||(g=h)}if(e){d=this.extractData(e);c=d.length}}return new Ext.data.ResultSet({total:g||c,count:c,records:d,success:b,message:i})},extractData:function(a){var b=
[],c=this.model,d=a.length,e,g,h,i;if(!a.length&&Ext.isObject(a)){a=[a];d=1}for(i=0;i<d;i++){g=a[i];if(g.isModel)b.push(g);else{h=new c(void 0,this.getId(g),g,e={});h.phantom=false;this.convertRecordData(e,g,h);b.push(h);this.implicitIncludes&&this.readAssociated(h,g)}}return b},readAssociated:function(a,b){for(var c=a.associations.items,d=0,e=c.length,g,h,i;d<e;d++){g=c[d];if(h=this.getAssociatedDataRoot(b,g.associationKey||g.name)){i=g.getReader();if(!i)i=(i=g.associatedModel.proxy)?i.getReader():
new this.constructor({model:g.associatedName});g.read(a,i,h)}}},getAssociatedDataRoot:function(a,b){return a[b]},getFields:function(){return this.model.prototype.fields.items},getData:function(a){return a},getRoot:function(a){return a},getResponseData:function(){Ext.Error.raise("getResponseData must be implemented in the Ext.data.reader.Reader subclass")},onMetaChange:function(a){var b=a.fields||this.getFields();this.metaData=a;this.root=a.root||this.root;this.idProperty=a.idProperty||this.idProperty;
this.totalProperty=a.totalProperty||this.totalProperty;this.successProperty=a.successProperty||this.successProperty;this.messageProperty=a.messageProperty||this.messageProperty;a=a.clientIdProperty;if(this.model){this.model.setFields(b,this.idProperty,a);this.setModel(this.model,true)}else{b=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:b,clientIdProperty:a});if(this.idProperty)b.idProperty=this.idProperty;this.setModel(b,true)}},getIdProperty:function(){return this.idProperty||
this.model.prototype.idProperty},buildExtractors:function(a){var b=this,c=b.getIdProperty(),d=b.totalProperty,e=b.successProperty,g=b.messageProperty,h;a===true&&delete b.convertRecordData;if(!b.convertRecordData){if(d)b.getTotal=b.createAccessor(d);if(e)b.getSuccess=b.createAccessor(e);if(g)b.getMessage=b.createAccessor(g);if(c){if(a=b.model.prototype.fields.get(c)){a=a.mapping;c=a!==void 0&&a!==null?a:c}h=b.createAccessor(c);b.getId=function(a){a=h.call(b,a);return a===void 0||a===""?null:a}}else b.getId=
function(){return null};b.convertRecordData=b.buildRecordDataExtractor();b.lastFieldGeneration=b.model.prototype.fields.generation}},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n","    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.get("{name}")\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">',
'    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',
"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };","<tpl else>","    if (value !== undefined) {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>",
"};"],buildRecordDataExtractor:function(){var a=this.model.prototype,a={clientIdProp:a.clientIdProperty,fields:a.fields.items};this.recordDataExtractorTemplate.createFieldAccessExpression=this.accessExpressionFn;return Ext.functionFactory(this.recordDataExtractorTemplate.apply(a)).call(this)},destroyReader:function(){delete this.proxy;delete this.model;delete this.convertRecordData;delete this.getId;delete this.getTotal;delete this.getSuccess;delete this.getMessage}},function(){var a=this.prototype;
Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true}),recordDataExtractorTemplate:new Ext.XTemplate(a.recordDataExtractorTemplate)})});
Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.JsonReader",alias:"reader.json",root:"",useSimpleAccessors:!1,readRecords:function(a){if(a.metaData)this.onMetaChange(a.metaData);this.jsonData=a;return this.callParent([a])},getResponseData:function(a){var b;try{b=Ext.decode(a.responseText);return this.readRecords(b)}catch(c){b=new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:c.message});this.fireEvent("exception",this,a,b);Ext.Logger.warn("Unable to parse the JSON returned by the server");
return b}},buildExtractors:function(){this.callParent(arguments);this.getRoot=this.root?this.createAccessor(this.root):function(a){return a}},extractData:function(a){var b=this.record,c=[],d,e;if(b){d=a.length;if(!d&&Ext.isObject(a)){d=1;a=[a]}for(e=0;e<d;e++)c[e]=a[e][b]}else c=a;return this.callParent([c])},createAccessor:function(){var a=/[\[\.]/;return function(b){if(Ext.isEmpty(b))return Ext.emptyFn;if(Ext.isFunction(b))return b;if(this.useSimpleAccessors!==true){var c=(""+b).search(a);if(c>=
0)return Ext.functionFactory("obj","return obj"+(c>0?".":"")+b)}return function(a){return a[b]}}}(),createFieldAccessExpression:function(){var a=/[\[\.]/;return function(b,c,d){var e=b.mapping!==null,b=e?b.mapping:b.name,g;if(typeof b==="function")c=c+".mapping("+d+", this)";else if(this.useSimpleAccessors===true||(g=(""+b).search(a))<0){if(!e||isNaN(b))b='"'+b+'"';c=d+"["+b+"]"}else c=d+(g>0?".":"")+b;return c}}()});
Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:!0,nameProperty:"name",isWriter:!0,constructor:function(a){Ext.apply(this,a)},write:function(a){for(var b=a.operation,c=b.records||[],d=c.length,e=0,g=[];e<d;e++)g.push(this.getRecordData(c[e],b));return this.writeRecords(a,g)},getRecordData:function(a,b){var c=a.phantom===true,d=this.nameProperty,e=a.fields,g=e.items,h={},i=a.clientIdProperty,j,k,l,m;if(this.writeAllFields||
c){l=g.length;for(e=0;e<l;e++){k=g[e];if(k.persist){j=k[d]||k.name;m=a.get(k.name);h[j]=k.serialize?k.serialize(m,a):k.type===Ext.data.Types.DATE&&k.dateFormat?Ext.Date.format(m,k.dateFormat):m}}}else{g=a.getChanges();for(l in g)if(g.hasOwnProperty(l)){k=e.get(l);if(k.persist){j=k[d]||k.name;m=a.get(k.name);h[j]=k.serialize?k.serialize(m,a):k.type===Ext.data.Types.DATE&&k.dateFormat?Ext.Date.format(m,k.dateFormat):m}}}if(c){if(i&&b&&b.records.length>1)h[i]=a.internalId}else h[a.idProperty]=a.getId();
return h}});Ext.define("Ext.data.writer.Json",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",root:void 0,encode:!1,allowSingle:!0,writeRecords:function(a,b){var c=this.root;this.allowSingle&&b.length==1&&(b=b[0]);if(this.encode)c?a.params[c]=Ext.encode(b):Ext.Error.raise("Must specify a root when using encode");else{a.jsonData=a.jsonData||{};c?a.jsonData[c]=b:a.jsonData=b}return a}});
Ext.define("Ext.util.LruCache",{extend:"Ext.util.HashMap",constructor:function(a){Ext.apply(this,a);this.callParent([a])},add:function(a,b){var c=this.findKey(b);if(c){this.unlinkEntry(c=this.map[c]);c.prev=this.last;c.next=null}else c={prev:this.last,next:null,key:a,value:b};this.last?this.last.next=c:this.first=c;this.last=c;this.callParent([a,c]);this.prune();return b},insertBefore:function(a,b,c){var d,e;if(c=this.map[this.findKey(c)]){(d=this.findKey(b))?this.unlinkEntry(e=this.map[d]):e={prev:c.prev,
next:c,key:a,value:b};c.prev?e.prev.next=e:this.first=e;e.next=c;c.prev=e;this.prune();return b}return this.add(a,b)},get:function(a){if(a=this.map[a]){a.next&&this.moveToEnd(a);return a.value}},removeAtKey:function(a){this.unlinkEntry(this.map[a]);return this.callParent(arguments)},clear:function(a){this.first=this.last=null;return this.callParent(arguments)},unlinkEntry:function(a){if(a){a.next?a.next.prev=a.prev:this.last=a.prev;a.prev?a.prev.next=a.next:this.first=a.next;a.prev=a.next=null}},
moveToEnd:function(a){this.unlinkEntry(a);(a.prev=this.last)?this.last.next=a:this.first=a;this.last=a},getArray:function(a){for(var b=[],c=this.first;c;){b.push(a?c.key:c.value);c=c.next}return b},each:function(a,b,c){for(var d=c?this.last:this.first,e=this.length,b=b||this;d;){if(a.call(b,d.key,d.value,e)===false)break;d=c?d.prev:d.next}return this},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b].value===a)return b},prune:function(){var a=this.maxSize?this.length-this.maxSize:
0;if(a>0)for(;this.first&&a;a--)this.removeAtKey(this.first.key)}});
Ext.define("Ext.data.Store",{extend:"Ext.data.AbstractStore",alias:"store.store",requires:"Ext.data.StoreManager Ext.data.Model Ext.data.proxy.Ajax Ext.data.proxy.Memory Ext.data.reader.Json Ext.data.writer.Json Ext.util.LruCache".split(" "),uses:["Ext.ModelManager","Ext.util.Grouper"],remoteSort:!1,remoteFilter:!1,remoteGroup:!1,groupField:void 0,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:void 0,currentPage:1,clearOnPageLoad:!0,loading:!1,sortOnFilter:!0,buffered:!1,purgePageCount:5,
clearRemovedOnLoad:!0,defaultPageSize:25,addRecordsOptions:{addRecords:!0},statics:{recordIdFn:function(a){return a.internalId},recordIndexFn:function(a){return a.index}},onClassExtended:function(a,b,c){var d=b.model,e;if(typeof d=="string"){e=c.onBeforeCreated;c.onBeforeCreated=function(){var a=this,b=arguments;Ext.require(d,function(){e.apply(a,b)})}}},constructor:function(a){var a=Ext.Object.merge({},a),b=a.groupers||this.groupers,c=a.groupField||this.groupField,d;d=a.data||this.data;this.data=
new Ext.util.MixedCollection(false,Ext.data.Store.recordIdFn);if(d){this.inlineData=d;delete a.data}!b&&c&&(b=[{property:c,direction:a.groupDir||this.groupDir}]);delete a.groupers;this.groupers=new Ext.util.MixedCollection;this.groupers.addAll(this.decodeGroupers(b));this.callParent([a]);if(this.buffered){this.pageMap=new this.PageMap({pageSize:this.pageSize,maxSize:this.purgePageCount,listeners:{clear:this.cancelAllPrefetches,scope:this}});this.pageRequests={};this.filterOnLoad=this.sortOnLoad=false}if(this.remoteGroup)this.remoteSort=
true;this.groupers.items.length&&!this.remoteGroup&&this.sort(this.groupers.items,"prepend",false);a=this.proxy;d=this.inlineData;if(!this.buffered&&!this.pageSize)this.pageSize=this.defaultPageSize;if(d){if(a instanceof Ext.data.proxy.Memory){a.data=d;this.read()}else this.add.apply(this,[d]);this.sort();delete this.inlineData}else this.autoLoad&&Ext.defer(this.load,10,this,[typeof this.autoLoad==="object"?this.autoLoad:void 0])},destroyStore:function(){this.callParent(arguments);this.pageMap&&this.pageMap.clear()},
onBeforeSort:function(){var a=this.groupers;a.getCount()>0&&this.sort(a.items,"prepend",false)},decodeGroupers:function(a){Ext.isArray(a)||(a=a===void 0?[]:[a]);var b=a.length,c=Ext.util.Grouper,d,e,g=[];for(e=0;e<b;e++){d=a[e];if(d instanceof c)g.push(d);else{Ext.isString(d)&&(d={property:d});d=Ext.apply({root:"data",direction:"ASC"},d);if(d.fn)d.sorterFn=d.fn;typeof d=="function"&&(d={sorterFn:d});g.push(new c(d))}}return g},group:function(a,b){var c=false,d,e;if(Ext.isArray(a))e=a;else if(Ext.isObject(a))e=
[a];else if(Ext.isString(a))if(d=this.groupers.get(a))b===void 0?d.toggle():d.setDirection(b);else{d={property:a,direction:b};e=[d]}if(e&&e.length){c=true;e=this.decodeGroupers(e);this.groupers.clear();this.groupers.addAll(e)}if(this.remoteGroup)if(this.buffered){this.pageMap.clear();this.loadPage(1,{groupChange:true})}else this.load({scope:this,callback:this.fireGroupChange});else{this.sort(null,null,null,c);this.fireGroupChange()}},clearGrouping:function(){var a=this.groupers.items,b=a.length,c,
d;for(d=0;d<b;d++){c=a[d];this.sorters.remove(c)}this.groupers.clear();if(this.remoteGroup)if(this.buffered){this.pageMap.clear();this.loadPage(1,{groupChange:true})}else this.load({scope:this,callback:this.fireGroupChange});else{this.sort();this.fireGroupChange()}},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(a){var b=this.data.items,c=b.length,d=[],e={},g,h,i,j;for(j=0;j<c;j++){g=b[j];h=this.getGroupString(g);
i=e[h];if(i===void 0){i={name:h,children:[]};d.push(i);e[h]=i}i.children.push(g)}return a?e[a]:d},getGroupsForGrouper:function(a,b){var c=a.length,d=[],e,g,h,i,j;for(j=0;j<c;j++){h=a[j];g=b.getGroupString(h);if(g!==e){i={name:g,grouper:b,records:[]};d.push(i)}i.records.push(h);e=g}return d},getGroupsForGrouperIndex:function(a,b){var c=this.groupers,d=c.getAt(b),d=this.getGroupsForGrouper(a,d),e=d.length;if(b+1<c.length)for(c=0;c<e;c++)d[c].children=this.getGroupsForGrouperIndex(d[c].records,b+1);
for(c=0;c<e;c++)d[c].depth=b;return d},getGroupData:function(a){a!==false&&this.sort();return this.getGroupsForGrouperIndex(this.data.items,0)},getGroupString:function(a){var b=this.groupers.first();return b?a.get(b.property):""},insert:function(a,b){var c=false,d,e,g,b=[].concat(b);d=0;for(g=b.length;d<g;d++){e=this.createModel(b[d]);e.set(this.modelDefaults);b[d]=e;this.data.insert(a+d,e);e.join(this);c=c||e.phantom===true}this.snapshot&&this.snapshot.addAll(b);if(this.requireSort){this.suspendEvents();
this.sort();this.resumeEvents()}this.fireEvent("add",this,b,a);this.fireEvent("datachanged",this);this.autoSync&&(c&&!this.autoSyncSuspended)&&this.sync()},add:function(a){var a=Ext.isArray(a)?a.slice(0):Array.prototype.slice.apply(arguments),b=0,c=a.length,d,e=!this.remoteSort&&this.sorters&&this.sorters.items.length;if(e&&c===1)return[this.addSorted(this.createModel(a[0]))];for(;b<c;b++){d=this.createModel(a[b]);a[b]=d}if(e)this.requireSort=true;this.insert(this.data.length,a);delete this.requireSort;
return a},addSorted:function(a){this.insert(this.data.findInsertionIndex(a,this.generateComparator()),a);return a},createModel:function(a){a.isModel||(a=Ext.ModelManager.create(a,this.model));return a},each:function(a,b){var c=this.data.items,d=c.length,e,g;for(g=0;g<d;g++){e=c[g];if(a.call(b||e,e,g,d)===false)break}},remove:function(a,b){Ext.isArray(a)||(a=[a]);for(var b=b===true,c=false,d=0,e=a.length,g,h,i;d<e;d++){i=a[d];h=this.data.indexOf(i);this.snapshot&&this.snapshot.remove(i);if(h>-1){g=
i.phantom!==true;if(!b&&g){i.removedFrom=h;this.removed.push(i)}i.unjoin(this);this.data.remove(i);c=c||g;this.fireEvent("remove",this,i,h)}}this.fireEvent("datachanged",this);!b&&(this.autoSync&&c&&!this.autoSyncSuspended)&&this.sync()},removeAt:function(a){(a=this.getAt(a))&&this.remove(a)},load:function(a){a=a||{};typeof a=="function"&&(a={callback:a});a.groupers=a.groupers||this.groupers.items;a.page=a.page||this.currentPage;a.start=a.start!==void 0?a.start:(a.page-1)*this.pageSize;a.limit=a.limit||
this.pageSize;a.addRecords=a.addRecords||false;return this.buffered?this.loadToPrefetch(a):this.callParent([a])},reload:function(a){var b=this,c,d,e,g,h,i;a||(a={});if(b.buffered){delete b.totalCount;h=function(){if(b.rangeCached(c,d)){b.loading=false;b.pageMap.un("pageAdded",h);i=b.pageMap.getRange(c,d);b.loadRecords(i,{start:c});b.fireEvent("load",b,i,true)}};g=Math.ceil((b.leadingBufferZone+b.trailingBufferZone)/2);c=a.start||b.getAt(0).index;d=c+(a.count||b.getCount())-1;e=b.getPageFromRecordIndex(Math.max(c-
g,0));g=b.getPageFromRecordIndex(d+g);b.pageMap.clear(true);if(b.fireEvent("beforeload",b,a)!==false){for(b.loading=true;e<=g;e++)b.prefetchPage(e,a);b.pageMap.on("pageAdded",h)}}else return b.callParent(arguments)},onProxyLoad:function(a){var b=a.getResultSet(),c=a.getRecords(),d=a.wasSuccessful();if(b)this.totalCount=b.total;d&&this.loadRecords(c,a);this.loading=false;this.hasListeners.load&&this.fireEvent("load",this,c,d);this.hasListeners.read&&this.fireEvent("read",this,c,d);Ext.callback(a.callback,
a.scope||this,[c,a,d])},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(a,b){Ext.isString(a)&&(a={property:a,value:b});for(var c=this.decodeFilters(a),d=0,e=this.sorters.length&&this.sortOnFilter&&!this.remoteSort,g=c.length;d<g;d++)this.filters.replace(c[d]);if(this.remoteFilter){delete this.totalCount;if(this.buffered){this.pageMap.clear();this.loadPage(1)}else{this.currentPage=
1;this.load()}}else if(this.filters.getCount()){this.snapshot=this.snapshot||this.data.clone();this.data=this.data.filter(this.filters.items);if(e)this.sort();else{this.fireEvent("datachanged",this);this.fireEvent("refresh",this)}}},clearFilter:function(a){this.filters.clear();if(this.remoteFilter){if(!a){delete this.totalCount;if(this.buffered){this.pageMap.clear();this.loadPage(1)}else{this.currentPage=1;this.load()}}}else if(this.isFiltered()){this.data=this.snapshot.clone();delete this.snapshot;
if(a!==true){this.fireEvent("datachanged",this);this.fireEvent("refresh",this)}}},isFiltered:function(){var a=this.snapshot;return!!a&&a!==this.data},filterBy:function(a,b){this.snapshot=this.snapshot||this.data.clone();this.data=this.queryBy(a,b||this);this.fireEvent("datachanged",this);this.fireEvent("refresh",this)},queryBy:function(a,b){return(this.snapshot||this.data).filterBy(a,b||this)},query:function(a,b,c,d,e){(a=this.queryBy(this.createFilterFn(a,b,c,d,e)))||(a=new Ext.util.MixedCollection);
return a},loadData:function(a,b){var c=this.model,d=a.length,e=[],g,h;for(g=0;g<d;g++){h=a[g];h.isModel||(h=Ext.ModelManager.create(h,c));e.push(h)}this.loadRecords(e,b?this.addRecordsOptions:void 0)},loadRawData:function(a,b){var c=this.proxy.reader.read(a),d=c.records;if(c.success){this.totalCount=c.total;this.loadRecords(d,b?this.addRecordsOptions:void 0);this.fireEvent("load",this,d,true)}},loadRecords:function(a,b){var c=0,d=a.length,e,g,h=this.snapshot;if(b){e=b.start;g=b.addRecords}if(g)h&&
h.addAll(a);else{delete this.snapshot;this.clearData(true)}this.data.addAll(a);if(e!==void 0)for(;c<d;c++){a[c].index=e+c;a[c].join(this)}else for(;c<d;c++)a[c].join(this);this.suspendEvents();this.filterOnLoad&&!this.remoteFilter&&this.filter();this.sortOnLoad&&!this.remoteSort&&this.sort(void 0,void 0,void 0,true);this.resumeEvents();this.fireEvent("datachanged",this);this.fireEvent("refresh",this)},loadPage:function(a,b){this.currentPage=a;b=Ext.apply({page:a,start:(a-1)*this.pageSize,limit:this.pageSize,
addRecords:!this.clearOnPageLoad},b);if(this.buffered)return this.loadToPrefetch(b);this.read(b)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(a){for(var b=this.data.items,c=b.length;c--;)b[c].unjoin(this);this.data.clear();if(a!==true||this.clearRemovedOnLoad)this.removed.length=0},loadToPrefetch:function(a){var b=this,c,d,e=a.start,g=a.start+a.limit-1,h=a.start+(b.viewSize||a.limit)-1,i=b.getPageFromRecordIndex(Math.max(e-
b.trailingBufferZone,0)),j=b.getPageFromRecordIndex(g+b.leadingBufferZone),k=function(){if(b.rangeCached(e,h)){b.loading=false;d=b.pageMap.getRange(e,h);b.pageMap.un("pageAdded",k);b.hasListeners.guaranteedrange?b.guaranteeRange(e,h,a.callback,a.scope):b.loadRecords(d,{start:e});b.fireEvent("load",b,d,true);a.groupChange&&b.fireGroupChange()}};if(b.fireEvent("beforeload",b,a)!==false){delete b.totalCount;b.loading=true;b.pageMap.on("pageAdded",k);b.on("prefetch",function(){for(c=i+1;c<=j;++c)b.prefetchPage(c,
a)},null,{single:true});b.prefetchPage(i,a)}},prefetch:function(a){var b=this.pageSize,c;if(b){this.lastPageSize&&b!=this.lastPageSize&&Ext.error.raise("pageSize cannot be dynamically altered");if(!this.pageMap.pageSize)this.pageMap.pageSize=b}else this.pageSize=this.pageMap.pageSize=b=a.limit;this.lastPageSize=b;if(!a.page){a.page=this.getPageFromRecordIndex(a.start);a.start=(a.page-1)*b;a.limit=Math.ceil(a.limit/b)*b}if(!this.pageRequests[a.page]){a=Ext.apply({action:"read",filters:this.filters.items,
sorters:this.sorters.items,groupers:this.groupers.items,generation:this.pageMap.generation},a);c=new Ext.data.Operation(a);if(this.fireEvent("beforeprefetch",this,c)!==false){this.loading=true;b=this.proxy;this.pageRequests[a.page]=b.read(c,this.onProxyPrefetch,this);b.isSynchronous&&delete this.pageRequests[a.page]}}return this},cancelAllPrefetches:function(){var a=this.pageRequests,b,c;this.pageMap.events.pageadded&&this.pageMap.events.pageadded.clearListeners();for(c in a)if(a.hasOwnProperty(c)){b=
a[c];delete a[c];delete b.callback}},prefetchPage:function(a,b){var c=this.pageSize||this.defaultPageSize,d=(a-1)*this.pageSize,e=this.totalCount;e!==void 0&&this.getCount()===e||this.prefetch(Ext.applyIf({page:a,start:d,limit:c},b))},onProxyPrefetch:function(a){var b=a.getResultSet(),c=a.getRecords(),d=a.wasSuccessful(),e=a.page;if(a.generation===this.pageMap.generation){if(b){this.totalCount=b.total;this.fireEvent("totalcountchange",this.totalCount)}e!==void 0&&delete this.pageRequests[e];d&&this.cachePage(c,
a.page);this.loading=false;this.fireEvent("prefetch",this,c,d,a);Ext.callback(a.callback,a.scope||this,[c,a,d])}},cachePage:function(a,b){if(!Ext.isDefined(this.totalCount)){this.totalCount=a.length;this.fireEvent("totalcountchange",this.totalCount)}this.pageMap.addPage(b,a)},rangeCached:function(a,b){return this.pageMap&&this.pageMap.hasRange(a,b)},pageCached:function(a){return this.pageMap&&this.pageMap.hasPage(a)},rangeSatisfied:function(a,b){return this.rangeCached(a,b)},getPageFromRecordIndex:function(a){return Math.floor(a/
this.pageSize)+1},onGuaranteedRange:function(a){var b=this.getTotalCount(),c=a.prefetchStart,b=b-1<a.prefetchEnd?b-1:a.prefetchEnd,d,b=Math.max(0,b);c>b&&Ext.log({level:"warn",msg:"Start ("+c+") was greater than end ("+b+") for the range of records requested ("+c+"-"+a.prefetchEnd+")"+(this.storeId?' from store "'+this.storeId+'"':"")});d=this.pageMap.getRange(c,b);this.fireEvent("guaranteedrange",d,c,b);a.cb&&a.cb.call(a.scope||this,d,c,b)},prefetchRange:function(a,b){var c,d;if(!this.rangeCached(a,
b)){c=this.getPageFromRecordIndex(a);d=this.getPageFromRecordIndex(b);for(this.pageMap.maxSize=this.purgePageCount?d-c+1+this.purgePageCount:0;c<=d;c++)this.pageCached(c)||this.prefetchPage(c)}},guaranteeRange:function(a,b,c,d){var b=b>this.totalCount?this.totalCount-1:b,e=this,g=e.lastRequestStart,h={prefetchStart:a,prefetchEnd:b,cb:c,scope:d},i;e.lastRequestStart=a;if(e.rangeCached(a,b)){if(a<g){a=Math.max(a-e.leadingBufferZone,0);b=Math.min(b+e.trailingBufferZone,e.totalCount-1)}else{a=Math.max(Math.min(a-
e.trailingBufferZone,e.totalCount-e.pageSize),0);b=Math.min(b+e.leadingBufferZone,e.totalCount-1)}e.rangeCached(a,b)||e.prefetchRange(a,b);e.onGuaranteedRange(h)}else{e.fireEvent("cachemiss",e,a,b);a=Math.min(Math.max(Math.floor(a-(e.leadingBufferZone+e.trailingBufferZone)/2),0),e.totalCount-e.pageSize);b=Math.min(Math.max(Math.ceil(b+(e.leadingBufferZone+e.trailingBufferZone)/2),0),e.totalCount-1);i=function(){if(e.rangeCached(h.prefetchStart,h.prefetchEnd)){e.fireEvent("cachefilled",e,a,b);e.pageMap.un("pageAdded",
i);e.onGuaranteedRange(h)}};e.pageMap.on("pageAdded",i);e.prefetchRange(h.prefetchStart,h.prefetchEnd);e.prefetchRange(a,b)}},sort:function(){var a=this.pageMap;this.buffered&&this.remoteSort&&a.clear();this.callParent(arguments)},doSort:function(a){var b,c;if(this.remoteSort)if(this.buffered){this.pageMap.clear();this.loadPage(1)}else this.load();else{this.data.sortBy(a);if(!this.buffered){a=this.getRange();b=a.length;for(c=0;c<b;c++)a[c].index=c}this.fireEvent("datachanged",this);this.fireEvent("refresh",
this)}},find:function(a,b,c,d,e,g){return(a=this.createFilterFn(a,b,d,e,g))?this.data.findIndexBy(a,null,c):-1},findRecord:function(){var a=this.find.apply(this,arguments);return a!==-1?this.getAt(a):null},createFilterFn:function(a,b,c,d,e){if(Ext.isEmpty(b))return false;b=this.data.createValueMatcher(b,c,d,e);return function(c){return b.test(c.data[a])}},findExact:function(a,b,c){return this.data.findIndexBy(function(c){return c.isEqual(c.get(a),b)},this,c)},findBy:function(a,b,c){return this.data.findIndexBy(a,
b,c)},collect:function(a,b,c){return(c===true&&this.snapshot?this.snapshot:this.data).collect(a,"data",b)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalCount||0},getAt:function(a){return this.data.getAt(a)},getRange:function(a,b){return this.data.getRange(a,b)},getById:function(a){return(this.snapshot||this.data).findBy(function(b){return b.getId()===a})},indexOf:function(a){return this.data.indexOf(a)},indexOfTotal:function(a){var b=a.index;return b||
b===0?b:this.indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},removeAll:function(a){this.clearData();this.snapshot&&this.snapshot.clear();this.pageMap&&this.pageMap.clear();a!==true&&this.fireEvent("clear",this)},first:function(a){return a&&this.isGrouped()?this.aggregate(function(a){return a.length?a[0]:void 0},this,true):this.data.first()},last:function(a){return a&&this.isGrouped()?this.aggregate(function(a){var c=a.length;return c?a[c-1]:void 0},this,true):this.data.last()},
sum:function(a,b){return b&&this.isGrouped()?this.aggregate(this.getSum,this,true,[a]):this.getSum(this.data.items,a)},getSum:function(a,b){for(var c=0,d=0,e=a.length;d<e;++d)c=c+a[d].get(b);return c},count:function(a){return a&&this.isGrouped()?this.aggregate(function(a){return a.length},this,true):this.getCount()},min:function(a,b){return b&&this.isGrouped()?this.aggregate(this.getMin,this,true,[a]):this.getMin(this.data.items,a)},getMin:function(a,b){var c=1,d=a.length,e,g;for(d>0&&(g=a[0].get(b));c<
d;++c){e=a[c].get(b);e<g&&(g=e)}return g},max:function(a,b){return b&&this.isGrouped()?this.aggregate(this.getMax,this,true,[a]):this.getMax(this.data.items,a)},getMax:function(a,b){var c=1,d=a.length,e,g;for(d>0&&(g=a[0].get(b));c<d;++c){e=a[c].get(b);e>g&&(g=e)}return g},average:function(a,b){return b&&this.isGrouped()?this.aggregate(this.getAverage,this,true,[a]):this.getAverage(this.data.items,a)},getAverage:function(a,b){var c=0,d=a.length,e=0;if(a.length>0){for(;c<d;++c)e=e+a[c].get(b);return e/
d}return 0},aggregate:function(a,b,c,d){d=d||[];if(c&&this.isGrouped()){for(var c=this.getGroups(),e=0,g=c.length,h={},i;e<g;++e){i=c[e];h[i.name]=a.apply(b||this,[i.children].concat(d))}return h}return a.apply(b||this,[this.data.items].concat(d))},commitChanges:function(){for(var a=this.getModifiedRecords(),b=a.length,c=0;c<b;c++)a[c].commit();this.removed.length=0},filterNewOnly:function(a){return a.phantom===true},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,
this.getUpdatedRecords())},rejectChanges:function(){for(var a=this.getRejectRecords(),b=a.length,c=0,d;c<b;c++){d=a[c];d.reject();d.phantom&&this.remove(d)}a=this.removed;b=a.length;for(c=0;c<b;c++){d=a[c];this.insert(d.removedFrom||0,d);d.reject()}this.removed.length=0}},function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"});this.prototype.PageMap=new Ext.Class({extend:"Ext.util.LruCache",clear:function(a){this.generation=(this.generation||0)+1;this.callParent(arguments)},getPageFromRecordIndex:this.prototype.getPageFromRecordIndex,
addPage:function(a,b){this.add(a,b);this.fireEvent("pageAdded",a,b)},getPage:function(a){return this.get(a)},hasRange:function(a,b){for(var c=this.getPageFromRecordIndex(a),d=this.getPageFromRecordIndex(b);c<=d;c++)if(!this.hasPage(c))return false;return true},hasPage:function(a){return!!this.get(a)},getRange:function(a,b){this.hasRange(a,b)||Ext.Error.raise("PageMap asked for range which it does not have");for(var c=this.getPageFromRecordIndex(a),d=this.getPageFromRecordIndex(b),e=(c-1)*this.pageSize,
g=d*this.pageSize-1,h=c,i=[],j,k,l,m=0;h<=d;h++){if(h==c){j=a-e;l=true}else{j=0;l=false}if(h==d){k=this.pageSize-(g-b);l=true}l?Ext.Array.push(i,Ext.Array.slice(this.getPage(h),j,k)):Ext.Array.push(i,this.getPage(h))}for(c=i.length;m<c;m++)i[m].index=a++;return i}})});
Ext.define("Ext.data.NodeInterface",{requires:["Ext.data.Field"],statics:{decorate:function(a){var b;typeof a=="string"?a=Ext.ModelManager.getModel(a):a.isModel&&(a=Ext.ModelManager.getModel(a.modelName));if(!a.prototype.isNode){b=a.prototype.idProperty;idField=a.prototype.fields.get(b);b=a.prototype.fields.get(b).type.type;a.override(this.getPrototypeBody());this.applyFields(a,[{name:"parentId",type:b,defaultValue:null,useNull:idField.useNull},{name:"index",type:"int",defaultValue:null,persist:false},
{name:"depth",type:"int",defaultValue:0,persist:false},{name:"expanded",type:"bool",defaultValue:false,persist:false},{name:"expandable",type:"bool",defaultValue:true,persist:false},{name:"checked",type:"auto",defaultValue:null,persist:false},{name:"leaf",type:"bool",defaultValue:false},{name:"cls",type:"string",defaultValue:null,persist:false},{name:"iconCls",type:"string",defaultValue:null,persist:false},{name:"icon",type:"string",defaultValue:null,persist:false},{name:"root",type:"boolean",defaultValue:false,
persist:false},{name:"isLast",type:"boolean",defaultValue:false,persist:false},{name:"isFirst",type:"boolean",defaultValue:false,persist:false},{name:"allowDrop",type:"boolean",defaultValue:true,persist:false},{name:"allowDrag",type:"boolean",defaultValue:true,persist:false},{name:"loaded",type:"boolean",defaultValue:false,persist:false},{name:"loading",type:"boolean",defaultValue:false,persist:false},{name:"href",type:"string",defaultValue:null,persist:false},{name:"hrefTarget",type:"string",defaultValue:null,
persist:false},{name:"qtip",type:"string",defaultValue:null,persist:false},{name:"qtitle",type:"string",defaultValue:null,persist:false},{name:"children",type:"auto",defaultValue:null,persist:false}])}},applyFields:function(a,b){var c=a.prototype.fields,d=c.keys,e=b.length,g,h;for(h=0;h<e;h++){g=b[h];Ext.Array.contains(d,g.name)||c.add(new Ext.data.Field(g))}},getPrototypeBody:function(){return{isNode:true,constructor:function(){this.callParent(arguments);Ext.applyIf(this,{firstChild:null,lastChild:null,
parentNode:null,previousSibling:null,nextSibling:null,childNodes:[]});this.enableBubble(["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort"]);return this},createNode:function(a){Ext.isObject(a)&&!a.isModel&&(a=Ext.ModelManager.create(a,this.modelName));a.childNodes||Ext.applyIf(a,{firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,childNodes:[]});return a},isLeaf:function(){return this.get("leaf")===
true},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},updateInfo:function(a){for(var b=this.isRoot(),c=this.parentNode,d=!c||b?true:c.firstChild===this,b=!c||b?true:c.lastChild===this,e=0,g=this,h=this.childNodes,i=h.length,j=0,j=this.phantom;g.parentNode;){++e;g=g.parentNode}this.beginEdit();this.set({isFirst:d,isLast:b,depth:e,index:c?c.indexOf(this):0,parentId:c?c.getId():null});this.endEdit(true);if(a){this.commit();this.phantom=j}for(j=0;j<i;j++)h[j].updateInfo(a)},
isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){return this.get("expandable")?!(this.isLeaf()||this.isLoaded()&&!this.hasChildNodes()):false},triggerUIUpdate:function(){this.afterEdit([])},appendChild:function(a,b,c){var d,e,g;if(Ext.isArray(a)){this.callStore("suspendAutoSync");b=0;for(c=a.length-1;b<c;b++)this.appendChild(a[b]);this.callStore("resumeAutoSync");
this.appendChild(a[c])}else{a=this.createNode(a);if(b!==true&&(!this.hasListeners.beforeappend||this.fireEvent("beforeappend",this,a)===false))return false;d=this.childNodes.length;if(e=a.parentNode){if(b!==true&&(!this.hasListeners.beforeremove||a.fireEvent("beforemove",a,e,this,d)===false))return false;e.removeChild(a,false,false,true)}d=this.childNodes.length;d===0&&this.setFirstChild(a);this.childNodes.push(a);a.parentNode=this;a.nextSibling=null;this.setLastChild(a);if(g=this.childNodes[d-1]){a.previousSibling=
g;g.nextSibling=a;g.updateInfo(c)}else a.previousSibling=null;a.updateInfo(c);this.isLoaded()?this.childNodes.length===1&&this.triggerUIUpdate():this.set("loaded",true);!a.isLeaf()&&a.phantom&&a.set("loaded",true);if(b!==true){this.fireEvent("append",this,a,d);e&&a.fireEvent("move",a,e,this,d)}return a}},getBubbleTarget:function(){return this.parentNode},removeChild:function(a,b,c,d){var e=this.indexOf(a),g;if(e==-1||c!==true&&(!this.hasListeners.beforeremove||this.fireEvent("beforeremove",this,a,
!!d)===false))return false;Ext.Array.erase(this.childNodes,e,1);this.firstChild==a&&this.setFirstChild(a.nextSibling);this.lastChild==a&&this.setLastChild(a.previousSibling);if(a.previousSibling)a.previousSibling.nextSibling=a.nextSibling;if(a.nextSibling)a.nextSibling.previousSibling=a.previousSibling;e=e>0?e-1:0;for(g=this.childNodes.length;e<g;e++)this.childNodes[e].updateInfo();this.childNodes.length||this.triggerUIUpdate();c!==true&&this.hasListeners.remove&&this.fireEvent("remove",this,a,!!d);
b?a.destroy(true):a.clear();return a},copy:function(a,b){var c=this.callOverridden(arguments),d=this.childNodes?this.childNodes.length:0,e;if(b)for(e=0;e<d;e++)c.appendChild(this.childNodes[e].copy(true));return c},clear:function(a){this.parentNode=this.previousSibling=this.nextSibling=null;if(a)this.firstChild=this.lastChild=null},destroy:function(a){var b=this.destroyOptions,c=this.childNodes,d=c.length;if(a===true){this.clear(true);for(a=0;a<d;a++)c[a].destroy(true);this.childNodes=null;delete this.destroyOptions;
this.callOverridden([b])}else{this.destroyOptions=a;this.remove(true)}},insertBefore:function(a,b,c){var d=this.indexOf(b),e=a.parentNode,g=d,h;if(!b)return this.appendChild(a);if(a==b)return false;a=this.createNode(a);if(c!==true&&(!this.hasListeners.beforeinsert||this.fireEvent("beforeinsert",this,a,b)===false))return false;e==this&&this.indexOf(a)<d&&g--;if(e){if(c!==true&&(!this.hasListeners.beforeremove||a.fireEvent("beforemove",a,e,this,d,b)===false))return false;e.removeChild(a,false,false,
true)}g===0&&this.setFirstChild(a);Ext.Array.splice(this.childNodes,g,0,a);a.parentNode=this;a.nextSibling=b;b.previousSibling=a;if(d=this.childNodes[g-1]){a.previousSibling=d;d.nextSibling=a}else a.previousSibling=null;h=g>0?g-1:0;for(d=this.childNodes.length;h<d;h++)this.childNodes[h].updateInfo();this.isLoaded()?this.childNodes.length===1&&this.triggerUIUpdate():this.set("loaded",true);!a.isLeaf()&&a.phantom&&a.set("loaded",true);if(c!==true){this.hasListeners.insert&&this.fireEvent("insert",this,
a,b);e&&this.hasListeners.move&&a.fireEvent("move",a,e,this,g,b)}return a},insertChild:function(a,b){var c=this.childNodes[a];return c?this.insertBefore(b,c):this.appendChild(b)},remove:function(a,b){var c=this.parentNode;c&&c.removeChild(this,a,b);return this},removeAll:function(a,b){for(var c=this.childNodes,d;d=c[0];)this.removeChild(d,a,b);return this},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(a,b,c){var d=b?b.nextSibling:null;this.removeChild(b,false,c);this.insertBefore(a,
d,c);return b},indexOf:function(a){return Ext.Array.indexOf(this.childNodes,a)},indexOfId:function(a){for(var b=this.childNodes,c=b.length,d=0;d<c;++d)if(b[d].getId()===a)return d;return-1},getPath:function(a,b){for(var a=a||this.idProperty,b=b||"/",c=[this.get(a)],d=this.parentNode;d;){c.unshift(d.get(a));d=d.parentNode}return b+c.join(b)},getDepth:function(){return this.get("depth")},bubble:function(a,b,c){for(var d=this;d;){if(a.apply(b||d,c||[d])===false)break;d=d.parentNode}},cascade:function(){Ext.isDefined(Ext.global.console)&&
Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead.");return this.cascadeBy.apply(this,arguments)},cascadeBy:function(a,b,c){if(a.apply(b||this,c||[this])!==false){var d=this.childNodes,e=d.length,g;for(g=0;g<e;g++)d[g].cascadeBy(a,b,c)}},eachChild:function(a,b,c){var d=this.childNodes,e=d.length,g;for(g=0;g<e;g++)if(a.apply(b||this,c||[d[g]])===false)break},findChild:function(a,b,c){return this.findChildBy(function(){return this.get(a)==b},null,c)},
findChildBy:function(a,b,c){for(var d=this.childNodes,e=d.length,g=0,h;g<e;g++){h=d[g];if(a.call(b||h,h)===true)return h;if(c){h=h.findChildBy(a,b,c);if(h!==null)return h}}return null},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){for(var b=this.parentNode;b;){if(b==a)return true;b=b.parentNode}return false},sort:function(a,b,c){var d=this.childNodes,e=d.length,g,h;if(e>0){Ext.Array.sort(d,a);for(g=0;g<e;g++){h=d[g];h.previousSibling=d[g-1];h.nextSibling=d[g+1];g===0&&this.setFirstChild(h);
g==e-1&&this.setLastChild(h);h.updateInfo();b&&!h.isLeaf()&&h.sort(a,true,true)}c!==true&&this.fireEvent("sort",this,d)}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var a=this.parentNode;a;){if(!a.isExpanded())return false;a=a.parentNode}return true},expand:function(a,b,c){var d=this;if(d.isLeaf())Ext.callback(b,c||d);else if(d.isLoading())d.on("expand",
function(){d.expand(a,b,c)},d,{single:true});else d.isExpanded()?a?d.expandChildren(true,b,c):Ext.callback(b,c||d,[d.childNodes]):d.fireEvent("beforeexpand",d,function(){d.set("expanded",true);d.hasListeners.expand&&d.fireEvent("expand",d,d.childNodes,false);a?d.expandChildren(true,b,c):Ext.callback(b,c||d,[d.childNodes])},d)},expandChildren:function(a,b,c){for(var d=this,e=0,g=d.childNodes,h=g.length,i,j=0;e<h;++e){i=g[e];if(!i.isLeaf()){j++;g[e].expand(a,function(){j--;b&&!j&&Ext.callback(b,c||
d,[d.childNodes])})}}!j&&b&&Ext.callback(b,c||d,[d.childNodes])},collapse:function(a,b,c){var d=this;d.isLeaf()?Ext.callback(b,c||d,[d.childNodes]):!d.collapsing&&d.isExpanded()?d.fireEvent("beforecollapse",d,function(){d.set("expanded",false);d.hasListeners.collapse&&d.fireEvent("collapse",d,d.childNodes,false);a?d.collapseChildren(true,b,c):Ext.callback(b,c||d,[d.childNodes])},d):a?d.collapseChildren(true,b,c):Ext.callback(b,c||d,[d.childNodes])},collapseChildren:function(a,b,c){for(var d=this,
e=0,g=d.childNodes,h=g.length,i,j=0;e<h;++e){i=g[e];if(!i.isLeaf()){j++;g[e].collapse(a,function(){j--;b&&!j&&Ext.callback(b,c||d,[d.childNodes])})}}!j&&b&&Ext.callback(b,c||d,[d.childNodes])}}}}});
Ext.define("Ext.data.NodeStore",{extend:"Ext.data.Store",alias:"store.node",requires:["Ext.data.NodeInterface"],node:null,recursive:!1,rootVisible:!1,constructor:function(a){a=a||{};Ext.apply(this,a);Ext.isDefined(this.proxy)&&Ext.Error.raise("A NodeStore cannot be bound to a proxy. Instead bind it to a record decorated with the NodeInterface by setting the node config.");this.useModelWarning=false;a.proxy={type:"proxy"};this.callParent([a]);if(a=this.node){this.node=null;this.setNode(a)}},setNode:function(a){if(this.node&&
this.node!=a){this.mun(this.node,{expand:this.onNodeExpand,collapse:this.onNodeCollapse,append:this.onNodeAppend,insert:this.onNodeInsert,remove:this.onNodeRemove,sort:this.onNodeSort,scope:this});this.node=null}if(a){Ext.data.NodeInterface.decorate(a.self);this.removeAll();this.rootVisible?this.add(a):!a.isExpanded()&&this.treeStore.autoLoad!==false&&a.expand();this.mon(a,{expand:this.onNodeExpand,collapse:this.onNodeCollapse,append:this.onNodeAppend,insert:this.onNodeInsert,remove:this.onNodeRemove,
sort:this.onNodeSort,scope:this});this.node=a;if(a.isExpanded()&&a.isLoaded())this.onNodeExpand(a,a.childNodes,true)}},onNodeSort:function(a,b){if(this.indexOf(a)!==-1||a===this.node&&!this.rootVisible&&a.isExpanded()){this.onNodeCollapse(a,b,true);this.onNodeExpand(a,b,true)}},onNodeExpand:function(a,b,c){var d=this.indexOf(a)+1,e=b?b.length:0,g;if(this.recursive||a===this.node)if(a===this.node||this.isVisible(a))if(c||this.fireEvent("beforeexpand",a,b,d)!==false){if(e){this.insert(d,b);for(d=0;d<
e;d++){g=b[d];if(g.isExpanded())if(g.isLoaded())this.onNodeExpand(g,g.childNodes,true);else{g.set("expanded",false);g.expand()}}}c||this.fireEvent("expand",a,b)}},onNodeCollapse:function(a,b,c){var d=b.length,e=this.indexOf(a)+1,g,h;if(this.recursive||a===this.node)if(c||this.fireEvent("beforecollapse",a,b,e)!==false){for(g=0;g<d;g++){h=b[g];this.remove(h);if(h.isExpanded())this.onNodeCollapse(h,h.childNodes,true)}c||this.fireEvent("collapse",a,b,e)}},onNodeAppend:function(a,b,c){if(this.isVisible(b)){if(c!==
0)for(a=b.previousSibling;a.isExpanded()&&a.lastChild;)a=a.lastChild;this.insert(this.indexOf(a)+1,b);if(!b.isLeaf()&&b.isExpanded())if(b.isLoaded())this.onNodeExpand(b,b.childNodes,true);else{b.set("expanded",false);b.expand()}}},onNodeInsert:function(a,b,c){a=this.indexOf(c);if(a!=-1&&this.isVisible(b)){this.insert(a,b);if(!b.isLeaf()&&b.isExpanded())if(b.isLoaded())this.onNodeExpand(b,b.childNodes,true);else{b.set("expanded",false);b.expand()}}},onNodeRemove:function(a,b){if(this.indexOf(b)!=-1){if(!b.isLeaf()&&
b.isExpanded())this.onNodeCollapse(b,b.childNodes,true);this.remove(b)}},isVisible:function(a){for(a=a.parentNode;a;){if(a===this.node&&!this.rootVisible&&a.isExpanded())break;if(this.indexOf(a)===-1||!a.isExpanded())return false;a=a.parentNode}return true}});
Ext.define("Ext.tree.View",{extend:"Ext.view.Table",alias:"widget.treeview",requires:["Ext.data.NodeStore"],loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",blockRefresh:!0,
loadMask:!1,rootVisible:!0,deferInitialRefresh:!1,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,uiFields:"expanded loaded checked expandable leaf icon iconCls loading qtip qtitle".split(" "),initComponent:function(){var a=this.panel.getStore();if(this.initialConfig.animate===void 0)this.animate=Ext.enableFx;this.store=new Ext.data.NodeStore({treeStore:a,recursive:true,rootVisible:this.rootVisible,listeners:{beforeexpand:this.onBeforeExpand,expand:this.onExpand,beforecollapse:this.onBeforeCollapse,
collapse:this.onCollapse,write:this.onStoreWrite,datachanged:this.onStoreDataChanged,scope:this}});this.node&&this.setRootNode(this.node);this.animQueue={};this.animWraps={};this.addEvents("afteritemexpand","afteritemcollapse");this.callParent(arguments);this.on({element:"el",scope:this,delegate:this.expanderSelector,mouseover:this.onExpanderMouseOver,mouseout:this.onExpanderMouseOut});this.on({element:"el",scope:this,delegate:this.checkboxSelector,click:this.onCheckboxChange})},getMaskStore:function(){return this.panel.getStore()},
afterComponentLayout:function(){this.callParent(arguments);var a=this.stretcher;a&&a.setWidth(this.getWidth()-Ext.getScrollbarSize().width)},processUIEvent:function(a){return a.getTarget("."+this.nodeAnimWrapCls,this.el)?false:this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(a){this.store.setNode(a);this.node=a},onCheckboxChange:function(a){if(a=a.getTarget(this.getItemSelector(),this.getTargetEl()))this.onCheckChange(this.getRecord(a))},onCheckChange:function(a){var b=
a.get("checked");if(Ext.isBoolean(b)){b=!b;a.set("checked",b);this.fireEvent("checkchange",a,b)}},getChecked:function(){var a=[];this.node.cascadeBy(function(b){b.get("checked")&&a.push(b)});return a},isItemChecked:function(a){return a.get("checked")},createAnimWrap:function(a){for(var b="",c=this.panel.headerCt,d=c.getGridColumns(),e=0,g=d.length,h,i=this.getNode(a);e<g;e++){h=d[e];b=b+('<th style="width: '+(h.hidden?0:h.getDesiredWidth())+'px; height: 0px;"></th>')}b=Ext.get(i).insertSibling({tag:"tr",
html:['<td colspan="'+c.getColumnCount()+'">','<div class="'+this.nodeAnimWrapCls+'">','<table class="'+Ext.baseCSSPrefix+'grid-table" style="width: '+c.getFullWidth()+'px;"><tbody>',b,"</tbody></table></div></td>"].join("")},"after");return{record:a,node:i,el:b,expanding:false,collapsing:false,animating:false,animateEl:b.down("div"),targetEl:b.down("tbody")}},getAnimWrap:function(a,b){if(!this.animate)return null;var c=this.animWraps,d=c[a.internalId];if(b!==false)for(;!d&&a;)(a=a.parentNode)&&(d=
c[a.internalId]);return d},doAdd:function(a,b,c){var d=b[0].parentNode,e=this.all.elements,g=0,h=this.getAnimWrap(d),i,j,k;if(!h||!h.expanding)return this.callParent(arguments);d=h.record;i=h.targetEl;j=i.dom.childNodes;k=j.length-1;g=c-this.indexOf(d)-1;!k||g>=k?i.appendChild(a):Ext.fly(j[g+1]).insertSibling(a,"before",true);Ext.Array.insert(e,c,a);if(h.isAnimating)this.onExpand(d)},beginBulkUpdate:function(){this.bulkUpdate=true},endBulkUpdate:function(){this.bulkUpdate=false},onRemove:function(a,
b,c){a=this.bulkUpdate;if(this.viewReady){this.doRemove(b,c);a||this.updateIndexes(c);this.store.getCount()===0&&this.refresh();a||this.fireEvent("itemremove",b,c)}},doRemove:function(a,b){var c=this.all,d=this.getAnimWrap(a),e=c.item(b),e=e?e.dom:null;if(!e||!d||!d.collapsing)return this.callParent(arguments);d.targetEl.appendChild(e);c.removeElement(b)},onBeforeExpand:function(a){var b;if(this.rendered&&this.animate&&this.getNode(a)){if(b=this.getAnimWrap(a,false))b.collapsing&&b.targetEl.select(this.itemSelector).remove();
else{b=this.animWraps[a.internalId]=this.createAnimWrap(a);b.animateEl.setHeight(0)}b.expanding=true;b.collapsing=false}},onExpand:function(a){var b=this,c=b.animQueue,d=a.getId(),e=b.getNode(a),g=e?b.indexOf(e):-1,h,i,j;b.singleExpand&&b.ensureSingleExpand(a);if(g!==-1)if(h=b.getAnimWrap(a,false)){i=h.animateEl;j=h.targetEl;i.stopAnimation();c[d]=true;i.slideIn("t",{duration:b.expandDuration,listeners:{scope:b,lastframe:function(){h.el.insertSibling(j.query(b.itemSelector),"before");h.el.remove();
b.refreshSize();delete b.animWraps[h.record.internalId];delete c[d]}},callback:function(){b.isExpandingOrCollapsing=false;b.fireEvent("afteritemexpand",a,g,e)}});h.isAnimating=true}else{b.isExpandingOrCollapsing=false;b.fireEvent("afteritemexpand",a,g,e)}},onBeforeCollapse:function(a,b,c){if(this.rendered&&this.animate&&this.getNode(a)){(b=this.getAnimWrap(a))?b.expanding&&b.targetEl.select(this.itemSelector).remove():b=this.animWraps[a.internalId]=this.createAnimWrap(a,c);b.expanding=false;b.collapsing=
true}},onCollapse:function(a){var b=this,c=b.animQueue,d=a.getId(),e=b.getNode(a),g=e?b.indexOf(e):-1,h=b.getAnimWrap(a),i;if(g!==-1)if(h){i=h.animateEl;c[d]=true;i.stopAnimation();i.slideOut("t",{duration:b.collapseDuration,listeners:{scope:b,lastframe:function(){h.el.remove();b.refreshSize();delete b.animWraps[h.record.internalId];delete c[d]}},callback:function(){b.isExpandingOrCollapsing=false;b.fireEvent("afteritemcollapse",a,g,e)}});h.isAnimating=true}else{b.isExpandingOrCollapsing=false;b.fireEvent("afteritemcollapse",
a,g,e)}},isAnimating:function(a){return!!this.animQueue[a.getId()]},collectData:function(a){for(var b=this.callParent(arguments),c=b.rows,d=c.length,e=0,g,h;e<d;e++){g=c[e];h=a[e];if(h.get("qtip")){g.rowAttr='data-qtip="'+h.get("qtip")+'"';if(h.get("qtitle"))g.rowAttr=g.rowAttr+(' data-qtitle="'+h.get("qtitle")+'"')}if(h.isExpanded())g.rowCls=(g.rowCls||"")+" "+this.expandedCls;if(h.isLeaf())g.rowCls=(g.rowCls||"")+" "+this.leafCls;if(h.isLoading())g.rowCls=(g.rowCls||"")+" "+this.loadingCls}return b},
expand:function(a,b,c,d){return a.expand(b,c,d)},collapse:function(a,b,c,d){return a.collapse(b,c,d)},toggle:function(a,b,c,d){var e=!!this.animate;if(!e||!this.isExpandingOrCollapsing){if(!a.isLeaf())this.isExpandingOrCollapsing=e;a.isExpanded()?this.collapse(a,b,c,d):this.expand(a,b,c,d)}},onItemDblClick:function(a,b,c){var d=this.editingPlugin;this.callParent(arguments);this.toggleOnDblClick&&(a.isExpandable()&&!(d&&d.clicksToEdit===2))&&this.toggle(a)},onBeforeItemMouseDown:function(a,b,c,d){return d.getTarget(this.expanderSelector,
b)?false:this.callParent(arguments)},onItemClick:function(a,b,c,d){if(d.getTarget(this.expanderSelector,b)&&a.isExpandable()){this.toggle(a,d.ctrlKey);return false}return this.callParent(arguments)},onExpanderMouseOver:function(a){a.getTarget(this.cellSelector,10,true).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(a){a.getTarget(this.cellSelector,10,true).removeCls(this.expanderIconOverCls)},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(a){var b=a.parentNode;
b&&b.eachChild(function(b){b!==a&&b.isExpanded()&&b.collapse()})},shouldUpdateCell:function(a,b){if(b)for(var c=0,d=b.length;c<d;++c)if(Ext.Array.contains(this.uiFields,b[c]))return true;return this.callParent(arguments)},onStoreWrite:function(a,b){var c=this.panel.store;c.fireEvent("write",c,b)},onStoreDataChanged:function(){var a=this.panel.store;a.fireEvent("datachanged",a)}});
Ext.define("Ext.selection.RowModel",{extend:"Ext.selection.Model",alias:"selection.rowmodel",requires:["Ext.util.KeyNav"],deltaScroll:5,enableKeyNav:!0,ignoreRightMouseSelection:!1,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select");this.views=[];this.callParent(arguments)},bindComponent:function(a){this.views=this.views||[];this.views.push(a);this.bindStore(a.getStore(),true);a.on({itemmousedown:this.onRowMouseDown,scope:this});this.enableKeyNav&&this.initKeyNav(a)},
initKeyNav:function(a){if(a.rendered){a.el.set({tabIndex:-1});this.keyNav=new Ext.util.KeyNav({target:a,ignoreInputFields:true,eventName:"itemkeydown",processEvent:function(a,c,d,e,g){g.record=c;g.recordIndex=e;return g},up:this.onKeyUp,down:this.onKeyDown,right:this.onKeyRight,left:this.onKeyLeft,pageDown:this.onKeyPageDown,pageUp:this.onKeyPageUp,home:this.onKeyHome,end:this.onKeyEnd,space:this.onKeySpace,enter:this.onKeyEnter,scope:this})}else a.on("render",Ext.Function.bind(this.initKeyNav,this,
[a],0),this,{single:true})},getRowsVisible:function(){var a=false,b=this.views[0],c=b.getNode(0);if(c){a=Ext.fly(c).getHeight();b=b.el.getHeight();a=Math.floor(b/a)}return a},onKeyEnd:function(a){var b=this.store.getAt(this.store.getCount()-1);if(b)if(a.shiftKey){this.selectRange(b,this.lastFocused||0);this.setLastFocused(b)}else a.ctrlKey?this.setLastFocused(b):this.doSelect(b)},onKeyHome:function(a){var b=this.store.getAt(0);if(b)if(a.shiftKey){this.selectRange(b,this.lastFocused||0);this.setLastFocused(b)}else a.ctrlKey?
this.setLastFocused(b):this.doSelect(b,false)},onKeyPageUp:function(a){var b=this.getRowsVisible(),c;if(b){c=a.recordIndex;b=c-b;b<0&&(b=0);b=this.store.getAt(b);if(a.shiftKey){this.selectRange(b,a.record,a.ctrlKey,"up");this.setLastFocused(b)}else if(a.ctrlKey){a.preventDefault();this.setLastFocused(b)}else this.doSelect(b)}},onKeyPageDown:function(a){var b=this.getRowsVisible(),c;if(b){c=a.recordIndex;b=c+b;b>=this.store.getCount()&&(b=this.store.getCount()-1);b=this.store.getAt(b);if(a.shiftKey){this.selectRange(b,
a.record,a.ctrlKey,"down");this.setLastFocused(b)}else if(a.ctrlKey){a.preventDefault();this.setLastFocused(b)}else this.doSelect(b)}},onKeySpace:function(){var a=this.lastFocused;a&&(this.isSelected(a)?this.doDeselect(a,false):this.doSelect(a,true))},onKeyEnter:Ext.emptyFn,onKeyUp:function(a){var b=this.store.indexOf(this.lastFocused);if(b>0){b=this.store.getAt(b-1);if(a.shiftKey&&this.lastFocused)if(this.isSelected(this.lastFocused)&&this.isSelected(b)){this.doDeselect(this.lastFocused,true);this.setLastFocused(b)}else{this.isSelected(this.lastFocused)||
this.doSelect(this.lastFocused,true);this.doSelect(b,true)}else a.ctrlKey?this.setLastFocused(b):this.doSelect(b)}},onKeyDown:function(a){var b=this.store.indexOf(this.lastFocused);if(b+1<this.store.getCount()){b=this.store.getAt(b+1);if(this.selected.getCount()===0)a.ctrlKey?this.setLastFocused(b):this.doSelect(b);else if(a.shiftKey&&this.lastFocused)if(this.isSelected(this.lastFocused)&&this.isSelected(b)){this.doDeselect(this.lastFocused,true);this.setLastFocused(b)}else{this.isSelected(this.lastFocused)||
this.doSelect(this.lastFocused,true);this.doSelect(b,true)}else a.ctrlKey?this.setLastFocused(b):this.doSelect(b)}},scrollByDeltaX:function(a){var b=this.views[0].up().horizontalScroller;b&&b.scrollByDeltaX(a)},onKeyLeft:function(){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(a,b,c,d,e){this.allowRightMouseSelection(e)&&(e.button===0||!this.isSelected(b))&&this.selectWithEvent(b,e)},allowRightMouseSelection:function(a){(a=
this.ignoreRightMouseSelection&&a.button!==0)&&(a=this.hasSelection());return!a},onSelectChange:function(a,b,c,d){var e=this.views,g=e.length,h=this.store.indexOf(a),i=b?"select":"deselect",j=0;if((c||this.fireEvent("before"+i,this,a,h))!==false&&d()!==false){for(;j<g;j++)if(b)e[j].onRowSelect(h,c);else e[j].onRowDeselect(h,c);c||this.fireEvent(i,this,a,h)}},onLastFocusChanged:function(a,b,c){var d=this.views,e=d.length,g=this.store,h=0;if(a){a=g.indexOf(a);if(a!=-1)for(;h<e;h++)d[h].onRowFocus(a,
false)}if(b){a=g.indexOf(b);if(a!=-1)for(h=0;h<e;h++)d[h].onRowFocus(a,true,c)}this.callParent()},onEditorTab:function(a,b){var c=this.views[0],d=a.getActiveRecord(),e=a.getActiveColumn(),d=c.getPosition(d,e),e=b.shiftKey?"left":"right";do d=c.walkCells(d,e,b,this.preventWrap);while(d&&!c.headerCt.getHeaderAtIndex(d.column).getEditor());d&&a.startEditByPosition(d)},getCurrentPosition:function(){var a=this.selected.items[0];if(a)return{row:this.store.indexOf(a),column:0}},selectByPosition:function(a){this.select(this.store.getAt(a.row))},
selectNext:function(a,b){var c=this.store,d=this.getSelection(),d=c.indexOf(d[d.length-1])+1;if(d===c.getCount()||d===0)c=false;else{this.doSelect(d,a,b);c=true}return c},selectPrevious:function(a,b){var c=this.store.indexOf(this.getSelection()[0])-1;if(c<0)c=false;else{this.doSelect(c,a,b);c=true}return c}});
Ext.define("Ext.selection.TreeModel",{extend:"Ext.selection.RowModel",alias:"selection.treemodel",pruneRemoved:!1,onKeyRight:function(a,b){var c=this.getLastFocused(),d=this.view;if(c)if(c.isExpanded())this.onKeyDown(a,b);else c.isExpandable()&&d.expand(c)},onKeyLeft:function(a){var b=this.getLastFocused(),c=this.view,d=c.getSelectionModel(),e;if(b){e=b.parentNode;if(b.isExpanded())c.collapse(b);else if(e&&!e.isRoot())if(a.shiftKey){d.selectRange(e,b,a.ctrlKey,"up");d.setLastFocused(e)}else a.ctrlKey?
d.setLastFocused(e):d.select(e)}},onKeySpace:function(a){this.toggleCheck(a)},onKeyEnter:function(a){this.toggleCheck(a)},toggleCheck:function(a){a.stopEvent();if(a=this.getLastSelected())this.view.onCheckChange(a)}});
Ext.define("Ext.data.Tree",{alias:"data.tree",mixins:{observable:"Ext.util.Observable"},root:null,constructor:function(a){this.mixins.observable.constructor.call(this);a&&this.setRootNode(a)},getRootNode:function(){return this.root},setRootNode:function(a){this.root=a;if(this.fireEvent("beforeappend",null,a)!==false){a.set("root",true);a.updateInfo();a.commit();a.on({scope:this,insert:this.onNodeInsert,append:this.onNodeAppend,remove:this.onNodeRemove});this.relayEvents(a,["append","remove","move",
"insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort","rootchange"]);this.nodeHash={};this.registerNode(a);this.fireEvent("append",null,a);this.fireEvent("rootchange",a)}return a},flatten:function(){return Ext.Object.getValues(this.nodeHash)},onNodeInsert:function(a,b){this.registerNode(b,true)},onNodeAppend:function(a,b){this.registerNode(b,true)},onNodeRemove:function(a,b){this.unregisterNode(b,true)},onNodeIdChanged:function(a,
b,c){var d=this.nodeHash;d[c]=a;delete d[b||a.internalId]},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a,b){var c=this;c.nodeHash[a.getId()||a.internalId]=a;a.on("idchanged",c.onNodeIdChanged,c);b===true&&a.eachChild(function(a){c.registerNode(a,true)})},unregisterNode:function(a,b){delete this.nodeHash[a.getId()||a.internalId];b===true&&a.eachChild(function(a){this.unregisterNode(a,true)},this)},sort:function(a,b){this.getRootNode().sort(a,b)},filter:function(a,b){this.getRootNode().filter(a,
b)}});
Ext.define("Ext.data.TreeStore",{extend:"Ext.data.AbstractStore",alias:"store.tree",requires:["Ext.util.Sorter","Ext.data.Tree","Ext.data.NodeInterface"],clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootProperty:"children",rootProperty:"children",folderSort:!1,constructor:function(a){var b,a=Ext.apply({},a);if(!a.fields&&!this.fields){a.fields=[{name:"text",type:"string"}];b=a.defaultRootProperty||this.defaultRootProperty;b!==this.defaultRootProperty&&a.fields.push({name:b,type:"auto",
defaultValue:null,persist:false})}this.callParent([a]);this.tree=new Ext.data.Tree;this.relayEvents(this.tree,["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort","rootchange"]);this.tree.on({scope:this,remove:this.onNodeRemove,beforeexpand:this.onBeforeNodeExpand,beforecollapse:this.onBeforeNodeCollapse,append:this.onNodeAdded,insert:this.onNodeAdded,sort:this.onNodeSort});this.onBeforeSort();if(a=
this.root){delete this.root;this.setRootNode(a)}if(Ext.isDefined(this.nodeParameter)){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead.");this.nodeParam=this.nodeParameter;delete this.nodeParameter}},setProxy:function(a){var b;if(a instanceof Ext.data.proxy.Proxy)b=Ext.isEmpty(a.getReader().root);else if(Ext.isString(a))b=true;else{b=a.reader;b=!(b&&!Ext.isEmpty(b.root))}a=this.callParent(arguments);if(b){b=
a.getReader();b.root=this.defaultRootProperty;b.buildExtractors(true)}},onBeforeSort:function(){this.folderSort&&this.sort({property:"leaf",direction:"ASC"},"prepend",false)},onBeforeNodeExpand:function(a,b,c){if(a.isLoaded())Ext.callback(b,c||a,[a.childNodes]);else if(a.isLoading())this.on("load",function(){Ext.callback(b,c||a,[a.childNodes])},this,{single:true});else this.read({node:a,callback:function(){Ext.callback(b,c||a,[a.childNodes])}})},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),
this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onBeforeNodeCollapse:function(a,b,c){b.call(c||a,a.childNodes)},onNodeRemove:function(a,b,c){a=this.removed;!b.isReplace&&Ext.Array.indexOf(a,b)==-1&&a.push(b);this.autoSync&&(!this.autoSyncSuspended&&!c)&&this.sync()},onNodeAdded:function(a,b){var c=this.getProxy().getReader(),d=b.raw||b[b.persistenceProperty],e;Ext.Array.remove(this.removed,b);if(!b.isLeaf())if(e=c.getRoot(d)){this.fillNode(b,
c.extractData(e));delete d[c.root]}this.autoSync&&(!this.autoSyncSuspended&&(b.phantom||b.dirty))&&this.sync()},onNodeSort:function(){this.autoSync&&!this.autoSyncSuspended&&this.sync()},setRootNode:function(a,b){var c=this.model,d=c.prototype.idProperty,a=a||{};if(a.isModel)a.isModel&&!a.isNode&&Ext.data.NodeInterface.decorate(c);else{Ext.applyIf(a,{id:this.defaultRootId,text:"Root",allowDrag:false});if(a[d]===void 0)a[d]=this.defaultRootId;Ext.data.NodeInterface.decorate(c);a=Ext.ModelManager.create(a,
c)}this.getProxy().getReader().buildExtractors(true);this.tree.setRootNode(a);b!==true&&(!a.isLoaded()&&(this.autoLoad===true||a.isExpanded()))&&this.load({node:a});return a},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(a){return this.tree.getNodeById(a)},getById:function(a){return this.getNodeById(a)},load:function(a){a=a||{};a.params=a.params||{};var b=a.node||this.tree.getRootNode();b||(b=this.setRootNode({expanded:true},true));a.id=b.getId();if(this.clearOnLoad){this.clearRemovedOnLoad&&
this.clearRemoved(b);this.tree.un("remove",this.onNodeRemove,this);b.removeAll(false);this.tree.on("remove",this.onNodeRemove,this)}Ext.applyIf(a,{node:b});a.params[this.nodeParam]=b?b.getId():"root";b&&b.set("loading",true);return this.callParent([a])},clearRemoved:function(a){var b=this.removed,c=a.getId(),d=b.length,e=d,g={},h=[],i={},j,k;if(a===this.getRootNode())this.removed=[];else{for(;e--;){a=b[e];i[a.getId()]=a}for(e=d;e--;){for(j=a=b[e];j&&j.getId()!==c;){k=j.get("parentId");j=j.parentNode||
this.getNodeById(k)||i[k]}j&&(g[a.getId()]=a)}for(e=0;e<d;e++){a=b[e];g[a.getId()]||h.push(a)}this.removed=h}},fillNode:function(a,b){for(var c=b?b.length:0,d=this.sorters,e=false,g=c&&this.sortOnLoad&&!this.remoteSort&&d&&d.items&&d.items.length,h,d=1;d<c;d++){e=b[d];h=b[d-1];if(e=e[e.persistenceProperty].index!=h[h.persistenceProperty].index)break}if(g){e&&this.sorters.insert(0,this.indexSorter);d=new Ext.util.MixedCollection;d.addAll(b);d.sort(this.sorters.items);b=d.items;this.sorters.remove(this.indexSorter)}else e&&
Ext.Array.sort(b,this.sortByIndex);a.set("loaded",true);for(d=0;d<c;d++)a.appendChild(b[d],void 0,true);return b},sortByIndex:function(a,b){return a[a.persistenceProperty].index-b[b.persistenceProperty].index},onProxyLoad:function(a){var b=a.wasSuccessful(),c=a.getRecords(),d=a.node;this.loading=false;d.set("loading",false);if(b){this.clearOnLoad||(c=this.cleanRecords(d,c));c=this.fillNode(d,c)}this.fireEvent("read",this,a.node,c,b);this.fireEvent("load",this,a.node,c,b);Ext.callback(a.callback,a.scope||
this,[c,a,b])},onCreateRecords:function(a){this.callParent(arguments);for(var b=0,c=a.length,d=this.tree,e;b<c;++b){e=a[b];d.onNodeIdChanged(e,null,e.getId())}},cleanRecords:function(a,b){for(var c={},d=a.childNodes,e=0,g=d.length,h=[];e<g;++e)c[d[e].getId()]=true;e=0;for(g=b.length;e<g;++e){d=b[e];c[d.getId()]||h.push(d)}return h},removeAll:function(){var a=this.getRootNode();a&&a.destroy(true);this.fireEvent("clear",this)},doSort:function(a){if(this.remoteSort)this.load();else{this.tree.sort(a,
true);this.fireEvent("datachanged",this);this.fireEvent("refresh",this)}this.fireEvent("sort",this)}},function(){var a=this.prototype;a.indexSorter=new Ext.util.Sorter({sorterFn:a.sortByIndex})});
Ext.define("Ext.tree.Panel",{extend:"Ext.panel.Table",alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],requires:["Ext.tree.View","Ext.selection.TreeModel","Ext.tree.Column","Ext.data.TreeStore"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",deferRowRender:!1,rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,normalCfgCopy:"displayField root singleExpand useArrows lines rootVisible scroll".split(" "),
lockedCfgCopy:"displayField root singleExpand useArrows lines rootVisible".split(" "),isTree:!0,constructor:function(a){a=a||{};if(a.animate===void 0)a.animate=Ext.isDefined(this.animate)?this.animate:Ext.enableFx;this.enableAnimations=a.animate;delete a.animate;this.callParent([a])},initComponent:function(){var a=[this.treeCls];if(this.useArrows){a.push(Ext.baseCSSPrefix+"tree-arrows");this.lines=false}this.lines?a.push(Ext.baseCSSPrefix+"tree-lines"):this.useArrows||a.push(Ext.baseCSSPrefix+"tree-no-lines");
if(Ext.isString(this.store))this.store=Ext.StoreMgr.lookup(this.store);else if(!this.store||Ext.isObject(this.store)&&!this.store.isStore)this.store=new Ext.data.TreeStore(Ext.apply({},this.store||{},{root:this.root,fields:this.fields,model:this.model,folderSort:this.folderSort}));else if(this.root){this.store=Ext.data.StoreManager.lookup(this.store);this.store.setRootNode(this.root);if(this.folderSort!==void 0){this.store.folderSort=this.folderSort;this.store.sort()}}this.viewConfig=Ext.apply({},
this.viewConfig);this.viewConfig=Ext.applyIf(this.viewConfig,{rootVisible:this.rootVisible,animate:this.enableAnimations,singleExpand:this.singleExpand,node:this.store.getRootNode(),hideHeaders:this.hideHeaders});this.mon(this.store,{scope:this,rootchange:this.onRootChange,clear:this.onClear});this.relayEvents(this.store,["beforeload","load"]);this.mon(this.store,{append:this.createRelayer("itemappend"),remove:this.createRelayer("itemremove"),move:this.createRelayer("itemmove",[0,4]),insert:this.createRelayer("iteminsert"),
beforeappend:this.createRelayer("beforeitemappend"),beforeremove:this.createRelayer("beforeitemremove"),beforemove:this.createRelayer("beforeitemmove"),beforeinsert:this.createRelayer("beforeiteminsert"),expand:this.createRelayer("itemexpand",[0,1]),collapse:this.createRelayer("itemcollapse",[0,1]),beforeexpand:this.createRelayer("beforeitemexpand",[0,1]),beforecollapse:this.createRelayer("beforeitemcollapse",[0,1])});if(!this.columns){if(this.initialConfig.hideHeaders===void 0)this.hideHeaders=true;
this.addCls(Ext.baseCSSPrefix+"autowidth-table");this.columns=[{xtype:"treecolumn",text:"Name",width:Ext.isIE6?null:1E4,dataIndex:this.displayField}]}this.cls&&a.push(this.cls);this.cls=a.join(" ");this.callParent();a=this.getView();this.relayEvents(a,["checkchange","afteritemexpand","afteritemcollapse"]);!a.rootVisible&&!this.getRootNode()&&this.setRootNode({expanded:true})},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},
getRootNode:function(){return this.store.getRootNode()},onRootChange:function(a){this.view.setRootNode(a)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(a){return a.get("checked")},expandNode:function(a,b,c,d){return this.getView().expand(a,b,c,d||this)},collapseNode:function(a,b,c,d){return this.getView().collapse(a,b,c,d||this)},expandAll:function(a,b){var c=this.getRootNode(),d=this.enableAnimations,e=this.getView();if(c){d||e.beginBulkUpdate();c.expand(true,
a,b||this);d||e.endBulkUpdate()}},collapseAll:function(a,b){var c=this.getRootNode(),d=this.enableAnimations,e=this.getView();if(c){d||e.beginBulkUpdate();b=b||this;e.rootVisible?c.collapse(true,a,b):c.collapseChildren(true,a,b);d||e.endBulkUpdate()}},expandPath:function(a,b,c,d,e){var g=this,h=g.getRootNode(),i=1;g.getView();var j,k,b=b||g.getRootNode().idProperty,c=c||"/";if(Ext.isEmpty(a))Ext.callback(d,e||g,[false,null]);else{j=a.split(c);if(h.get(b)!=j[1])Ext.callback(d,e||g,[false,h]);else{k=
function(){if(++i===j.length)Ext.callback(d,e||g,[true,h]);else{var a=h.findChild(b,j[i]);if(a){h=a;h.expand(false,k)}else Ext.callback(d,e||g,[false,h])}};h.expand(false,k)}}},selectPath:function(a,b,c,d,e){var g=this,h,b=b||g.getRootNode().idProperty,c=c||"/",a=a.split(c);h=a.pop();if(a.length>1)g.expandPath(a.join(c),b,c,function(a,c){var k=c;if(a&&c)if(c=c.findChild(b,h)){g.getSelectionModel().select(c);Ext.callback(d,e||g,[true,c]);return}Ext.callback(d,e||g,[false,k])},g);else{c=g.getRootNode();
if(c.getId()===h){g.getSelectionModel().select(c);Ext.callback(d,e||g,[true,c])}else Ext.callback(d,e||g,[false,null])}}});Ext.define("MyApp.model.Navi",{extend:"Ext.data.Model",fields:[{name:"textdata",type:"string"}],proxy:{type:"ajax",url:"./navi.php",reader:{type:"json",root:"items"}}});Ext.define("MyApp.store.Navi",{extend:"Ext.data.TreeStore",requires:["MyApp.model.Navi"],model:"MyApp.model.Navi"});
Ext.define("MyApp.view.Navi",{alias:"widget.myapp-navi",extend:"Ext.tree.Panel",requires:["MyApp.store.Navi"],title:"Navi",store:"Navi",hideHeaders:!0,columns:[{xtype:"treecolumn",text:"Name",flex:1,dataIndex:"textdata"}],rootVisible:!1,animate:!1,tbar:[{xtype:"button",action:"reload",text:"\u30ea\u30ed\u30fc\u30c9"}]});Ext.define("MyApp.view.Center",{alias:"widget.myapp-center",extend:"Ext.panel.Panel",title:"Center"});
Ext.define("MyApp.view.Viewport",{layout:{type:"border",padding:5},requires:["Ext.layout.container.Border","MyApp.view.Header","MyApp.view.Navi","MyApp.view.Center"],extend:"Ext.container.Viewport",items:[{xtype:"myapp-header",padding:"0 0 5 0",region:"north"},{xtype:"myapp-navi",region:"west",collapsible:!0,split:!0,width:240},{xtype:"myapp-center",region:"center"}]});
Ext.define("MyApp.controller.Main",{extend:"Ext.app.Controller",refs:[{ref:"header",selector:"myapp-header"},{ref:"navi",selector:"myapp-navi"}],views:["Header","Navi","Center"],init:function(){this.control({"myapp-header":{toggleCollapseNavigation:function(){this.getNavi().toggleCollapse()},reloadNavigation:this.reloadNavi},"myapp-navi":{reloadNavigation:this.reloadNavi}})},reloadNavi:function(){this.getNavi().getStore().load()}});
Ext.define("MyApp.controller.Navi",{extend:"Ext.app.Controller",refs:[{ref:"navi",selector:"myapp-navi"}],models:["Navi"],stores:["Navi"],init:function(){this.control({"myapp-navi button[action=reload]":{click:function(){this.getNavi().fireEvent("reloadNavigation")}}})}});Ext.define("MyApp.controller.Center",{extend:"Ext.app.Controller",init:function(){}});
Ext.define("MyApp.controller.Header",{extend:"Ext.app.Controller",refs:[{ref:"header",selector:"myapp-header"}],init:function(){this.control({"myapp-header button[action=button1]":{toggle:function(a,b){this.getHeader().fireEvent("toggleCollapseNavigation",b)}},"myapp-header button[action=button2]":{click:function(){var a=this.getHeader();a.getEl().ghost("b",{callback:function(){a.hide();Ext.Function.defer(function(){a.show()},3E3)}})}},"myapp-header button[action=button3]":{click:function(){this.getHeader().fireEvent("reloadNavigation")}}})}});
Ext.Loader.setConfig({enabled:!0});Ext.application({requires:["MyApp.controller.Main","MyApp.controller.Navi","MyApp.controller.Center","MyApp.controller.Header"],autoCreateViewport:!0,name:"MyApp",appFolder:"src/app",controllers:["Main","Header","Navi","Center"],launch:function(){}});
Ext.define("Ext.ElementLoader",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.data.Connection","Ext.Ajax"],statics:{Renderer:{Html:function(a,b,c){a.getTarget().update(b.responseText,c.scripts===true);return true}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(a){a=a||{};Ext.apply(this,a);this.setTarget(this.target);this.addEvents("beforeload","exception","load");this.mixins.observable.constructor.call(this);
if(this.autoLoad){a=this.autoLoad;a===true&&(a={});this.load(a)}},setTarget:function(a){a=Ext.get(a);this.target&&this.target!=a&&this.abort();this.target=a},getTarget:function(){return this.target||null},abort:function(){var a=this.active;if(a!==void 0){Ext.Ajax.abort(a.request);a.mask&&this.removeMask();delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(a===true?null:a)},load:function(a){this.target||Ext.Error.raise("A valid target is required when loading content");
var a=Ext.apply({},a),b=Ext.isDefined(a.loadMask)?a.loadMask:this.loadMask,c=Ext.apply({},a.params),d=Ext.apply({},a.ajaxOptions),e=a.callback||this.callback,g=a.scope||this.scope||this;Ext.applyIf(d,this.ajaxOptions);Ext.applyIf(a,d);Ext.applyIf(c,this.params);Ext.apply(c,this.baseParams);Ext.applyIf(a,{url:this.url});a.url||Ext.Error.raise("You must specify the URL from which content should be loaded");Ext.apply(a,{scope:this,params:c,callback:this.onComplete});if(this.fireEvent("beforeload",this,
a)!==false){b&&this.addMask(b);c=Ext.Ajax.request(a);this.active={request:c,options:a,mask:b,scope:g,callback:e,success:a.success||this.success,failure:a.failure||this.failure,renderer:a.renderer||this.renderer,scripts:Ext.isDefined(a.scripts)?a.scripts:this.scripts};this.setOptions(this.active,a)}},setOptions:Ext.emptyFn,onComplete:function(a,b,c){var d=this.active,e=d.scope,g=this.getRenderer(d.renderer);b&&(b=g.call(this,this,c,d)!==false);if(b){Ext.callback(d.success,e,[this,c,a]);this.fireEvent("load",
this,c,a)}else{Ext.callback(d.failure,e,[this,c,a]);this.fireEvent("exception",this,c,a)}Ext.callback(d.callback,e,[this,b,c,a]);d.mask&&this.removeMask();delete this.active},getRenderer:function(a){return Ext.isFunction(a)?a:this.statics().Renderer.Html},startAutoRefresh:function(a,b){var c=this;c.stopAutoRefresh();c.autoRefresh=setInterval(function(){c.load(b)},a)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},
destroy:function(){this.stopAutoRefresh();delete this.target;this.abort();this.clearListeners()}});
Ext.define("Ext.ComponentLoader",{extend:"Ext.ElementLoader",statics:{Renderer:{Data:function(a,b){var c=true;try{a.getTarget().update(Ext.decode(b.responseText))}catch(d){c=false}return c},Component:function(a,b,c){var d=true,a=a.getTarget(),e=[];a.isContainer||Ext.Error.raise({target:a,msg:"Components can only be loaded into a container"});try{e=Ext.decode(b.responseText)}catch(g){d=false}if(d){a.suspendLayouts();c.removeAll&&a.removeAll();a.add(e);a.resumeLayouts(true)}return d}}},target:null,
loadMask:!1,renderer:"html",setTarget:function(a){Ext.isString(a)&&(a=Ext.getCmp(a));this.target&&this.target!=a&&this.abort();this.target=a},removeMask:function(){this.target.setLoading(false)},addMask:function(a){this.target.setLoading(a)},setOptions:function(a,b){a.removeAll=Ext.isDefined(b.removeAll)?b.removeAll:this.removeAll},getRenderer:function(a){if(Ext.isFunction(a))return a;var b=this.statics().Renderer;switch(a){case "component":return b.Component;case "data":return b.Data;default:return Ext.ElementLoader.Renderer.Html}}});
Ext.define("Ext.FocusManager",{singleton:!0,alternateClassName:["Ext.FocusMgr"],mixins:{observable:"Ext.util.Observable"},requires:"Ext.AbstractComponent Ext.Component Ext.ComponentManager Ext.ComponentQuery Ext.util.HashMap Ext.util.KeyNav".split(" "),enabled:!1,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(a){var b=this,c=Ext.ComponentQuery;b.mixins.observable.constructor.call(b,a);b.addEvents("beforecomponentfocus",
"componentfocus","disable","enable");b.focusTask=new Ext.util.DelayedTask(b.handleComponentFocus,b);Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments);if(b.enabled&&this.hasFocus){Array.prototype.unshift.call(arguments,this);b.onComponentFocus.apply(b,arguments)}},onBlur:function(){this.callParent(arguments);if(b.enabled&&!this.hasFocus){Array.prototype.unshift.call(arguments,this);b.onComponentBlur.apply(b,arguments)}},onDestroy:function(){this.callParent(arguments);
if(b.enabled){Array.prototype.unshift.call(arguments,this);b.onComponentDestroy.apply(b,arguments)}}});Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments);if(b.enabled){Array.prototype.unshift.call(arguments,this);b.onComponentHide.apply(b,arguments)}}});b.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:true,scope:b,backspace:b.focusLast,enter:b.navigateIn,esc:b.navigateOut,tab:b.navigateSiblings,space:b.navigateIn,del:b.focusLast,left:b.navigateSiblings,right:b.navigateSiblings,
down:b.navigateSiblings,up:b.navigateSiblings});b.focusData={};b.subscribers=new Ext.util.HashMap;b.focusChain={};Ext.apply(c.pseudos,{focusable:function(a){for(var b=a.length,c=[],h=0,i;h<b;h++){i=a[h];i.isFocusable()&&c.push(i)}return c},nextFocus:function(a,b,c){for(var c=c||1,b=parseInt(b,10),h=a.length,i=b,j;;){(i=i+c)>=h?i=0:i<0&&(i=h-1);if(i===b)break;if((j=a[i]).isFocusable())return[j]}return[]},prevFocus:function(a,b){return this.nextFocus(a,b,-1)},root:function(a){for(var b=a.length,c=[],
h=0,i;h<b;h++){i=a[h];i.ownerCt||c.push(i)}return c}})},addXTypeToWhitelist:function(a){Ext.isArray(a)?Ext.Array.forEach(a,this.addXTypeToWhitelist,this):Ext.Array.contains(this.whitelist,a)||this.whitelist.push(a)},clearComponent:function(a){clearTimeout(this.cmpFocusDelay);a.isDestroyed||a.blur()},disable:function(){if(this.enabled){delete this.options;this.enabled=false;this.removeDOM();this.keyNav.disable();this.fireEvent("disable",this)}},enable:function(a){a===true&&(a={focusFrame:true});this.options=
a=a||{};if(!this.enabled){this.enabled=true;this.initDOM(a);this.keyNav.enable();this.focusEl.focus();delete this.focusedCmp;this.fireEvent("enable",this)}},focusLast:function(){if(this.isWhitelisted(this.focusedCmp))return true;this.previousFocusedCmp&&this.previousFocusedCmp.focus()},getRootComponents:function(){var a=Ext.ComponentQuery,b=a.query(":focusable:root:not([floating])"),a=a.query(":focusable:root[floating]");a.sort(function(a,b){return a.el.getZIndex()>b.el.getZIndex()});return a.concat(b)},
initDOM:function(a){var b=this.focusFrameCls,c=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),d=0,e=c.length;if(!Ext.isReady)return Ext.onReady(this.initDOM,this);for(;d<e;d++)c[d].addFocusListener();if(!this.focusEl){this.focusEl=Ext.getBody();this.focusEl.dom.tabIndex=-1}if(!this.focusFrame&&a.focusFrame){this.focusFrame=Ext.getBody().createChild({cls:b,children:[{cls:b+"-top"},{cls:b+"-bottom"},{cls:b+"-left"},{cls:b+"-right"}],style:"top: -100px; left: -100px;"});this.focusFrame.setVisibilityMode(Ext.Element.DISPLAY);
this.focusFrame.hide().setLeftTop(0,0)}},isWhitelisted:function(a){return a&&Ext.Array.some(this.whitelist,function(b){return a.isXType(b)})},navigateIn:function(a){var b=this.focusedCmp,c;if(this.isWhitelisted(b))return true;if(b)if(c=b.hasFocus?Ext.ComponentQuery.query(">:focusable",b)[0]:b)c.focus();else{if(Ext.isFunction(b.onClick)){a.button=0;b.onClick(a);b.isVisible(true)?b.focus():this.navigateOut()}}else if(a=this.getRootComponents()[0]){a.getFocusEl()===this.focusEl&&this.focusEl.blur();
a.focus()}},navigateOut:function(){var a;!this.focusedCmp||!(a=this.focusedCmp.up(":focusable"))?this.focusEl.focus():a.focus();return true},navigateSiblings:function(a,b,c){var d=b||this,e=a.getKey(),g=Ext.EventObject,b=e==g.LEFT||e==g.RIGHT||e==g.UP||e==g.DOWN,a=a.shiftKey||e==g.LEFT||e==g.UP?"prev":"next",h,d=d.focusedCmp&&d.focusedCmp.comp||d.focusedCmp;if(!d&&!c||b&&this.isWhitelisted(d))return true;if(!d||d.is(":root"))h=this.getRootComponents();else(c=c||d.up())&&(h=c.getRefItems());if(h){c=
d?Ext.Array.indexOf(h,d):-1;if((h=Ext.ComponentQuery.query(":"+a+"Focus("+c+")",h)[0])&&d!==h){h.focus();return h}}},onComponentBlur:function(a){if(this.focusedCmp===a){this.previousFocusedCmp=a;delete this.focusedCmp}this.focusFrame&&this.focusFrame.hide()},onComponentFocus:function(a){var b=this.focusChain,c;if(a.isFocusable()){this.focusChain={};this.focusTask.delay(10,null,null,[a,a.getFocusEl()])}else{this.clearComponent(a);if(!b[a.id])if(c=a.up()){b[a.id]=true;c.focus()}}},handleComponentFocus:function(a,
b){var c,d,e,g,h,i,j,k,l;if(this.fireEvent("beforecomponentfocus",this,a,this.previousFocusedCmp)===false)this.clearComponent(a);else{this.focusedCmp=a;if(this.shouldShowFocusFrame(a)){c="."+this.focusFrameCls+"-";d=this.focusFrame;e=b.getPageBox();g=e.top;h=e.left;i=e.width;e=e.height;j=d.child(c+"top");k=d.child(c+"bottom");l=d.child(c+"left");c=d.child(c+"right");j.setWidth(i).setLeftTop(h,g);k.setWidth(i).setLeftTop(h,g+e-2);l.setHeight(e-2).setLeftTop(h,g+2);c.setHeight(e-2).setLeftTop(h+i-2,
g+2);d.show()}this.fireEvent("componentfocus",this,a,this.previousFocusedCmp)}},onComponentHide:function(a){var b=false,c;this.focusedCmp&&(b=a.hasFocus||a.isContainer&&a.isAncestor(this.focusedCmp));this.clearComponent(a);b&&(c=a.up(":focusable"))?c.focus():this.focusEl.focus()},onComponentDestroy:function(){},removeDOM:function(){if(!this.enabled&&!this.subscribers.length){Ext.destroy(this.focusFrame);delete this.focusEl;delete this.focusFrame}},removeXTypeFromWhitelist:function(a){Ext.isArray(a)?
Ext.Array.forEach(a,this.removeXTypeFromWhitelist,this):Ext.Array.remove(this.whitelist,a)},setupSubscriberKeys:function(a,b){var c=this,d=a.getFocusEl(),e=b.scope,g={backspace:c.focusLast,enter:c.navigateIn,esc:c.navigateOut,scope:c};Ext.iterate(b,function(b,d){g[b]=function(b){var g;g=c.focusedCmp===a?c.navigateSiblings(b,c,a):c.navigateSiblings(b);return Ext.isFunction(d)&&d.call(e||a,b,g)===true?true:g}},c);return new Ext.util.KeyNav(d,g)},shouldShowFocusFrame:function(a){var b=this.options||
{},c=a.getFocusEl();Ext.getDom(c);return!this.focusFrame||!a?false:b.focusFrame||this.focusData[a.id].focusFrame?true:false}});
Ext.define("Ext.Img",{extend:"Ext.Component",alias:["widget.image","widget.imagecomponent"],autoEl:"img",src:"",alt:"",imgCls:"",getElConfig:function(){var a=this.callParent(),b;this.autoEl=="img"?b=a:a.cn=[b={tag:"img",id:this.id+"-img"}];if(this.imgCls)b.cls=(b.cls?b.cls+" ":"")+this.imgCls;b.src=this.src||Ext.BLANK_IMAGE_URL;if(this.alt)b.alt=this.alt;return a},onRender:function(){var a;this.callParent(arguments);a=this.el;this.imgEl=this.autoEl=="img"?a:a.getById(this.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl);
this.imgEl=null;this.callParent()},setSrc:function(a){var b=this.imgEl;this.src=a;if(b)b.dom.src=a||Ext.BLANK_IMAGE_URL}});
Ext.define("Ext.Layer",{extend:"Ext.Element",uses:["Ext.Shadow"],statics:{shims:[]},isLayer:!0,constructor:function(a,b){var a=a||{},c=Ext.DomHelper,d=a.parentEl,d=d?Ext.getDom(d):document.body,e=a.hideMode;if(b)this.dom=Ext.getDom(b);if(this.dom){this.addCls(Ext.baseCSSPrefix+"layer");this.dom.parentNode||d.appendChild(this.dom)}else this.dom=c.append(d,a.dh||{tag:"div",cls:Ext.baseCSSPrefix+"layer"});this.id=a.id?this.dom.id=a.id:Ext.id(this.dom);Ext.Element.addToCache(this);a.cls&&this.addCls(a.cls);
this.constrain=a.constrain!==false;if(e){this.setVisibilityMode(Ext.Element[e.toUpperCase()]);if(this.visibilityMode==Ext.Element.ASCLASS)this.visibilityCls=a.visibilityCls}else a.useDisplay?this.setVisibilityMode(Ext.Element.DISPLAY):this.setVisibilityMode(Ext.Element.VISIBILITY);if(a.shadow){this.shadowOffset=a.shadowOffset||4;this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:a.shadow});this.disableShadow()}else this.shadowOffset=0;this.useShim=a.shim!==false&&Ext.useShims;a.hidden===true?
this.hide():this.show()},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var a,b;if(!this.useShim)return null;if(!this.shim){a=this.self.shims.shift();if(!a){a=this.createShim();a.enableDisplayMode("block");a.hide()}b=this.dom.parentNode;a.dom.parentNode!=b&&b.insertBefore(a.dom,this.dom);this.shim=a}return this.shim},hideShim:function(){if(this.shim){this.shim.setDisplayed(false);this.self.shims.push(this.shim);delete this.shim}},disableShadow:function(){if(this.shadow&&
!this.shadowDisabled){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0}},enableShadow:function(a){if(this.shadow&&this.shadowDisabled){this.shadowDisabled=false;this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset;a&&this.sync(true)}},sync:function(a){var b=this.shadow,c,d,e,g,h;if(!this.updating&&this.isVisible()&&(b||this.useShim)){d=this.getShim();c=this.getLocalX();e=this.getLocalY();g=this.dom.offsetWidth;h=this.dom.offsetHeight;
if(b&&!this.shadowDisabled){a&&!b.isVisible()?b.show(this):b.realign(c,e,g,h);if(d){a=d.getStyle("z-index");a>this.zindex&&this.shim.setStyle("z-index",this.zindex-2);d.show();if(b.isVisible()){c=b.el.getXY();d=d.dom.style;b=b.el.getSize();if(Ext.supports.CSS3BoxShadow){b.height=b.height+6;b.width=b.width+4;c[0]=c[0]-2;c[1]=c[1]-4}d.left=c[0]+"px";d.top=c[1]+"px";d.width=b.width+"px";d.height=b.height+"px"}else{d.setSize(g,h);d.setLeftTop(c,e)}}}else if(d){a=d.getStyle("z-index");a>this.zindex&&this.shim.setStyle("z-index",
this.zindex-2);d.show();d.setSize(g,h);d.setLeftTop(c,e)}}return this},remove:function(){this.hideUnders();this.callParent()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(){this.shadow&&this.shadow.hide();this.hideShim()},constrainXY:function(){if(this.constrain){var a=Ext.Element.getViewWidth(),b=Ext.Element.getViewHeight(),c=Ext.getDoc().getScroll(),d=this.getXY(),e=d[0],d=d[1],g=this.shadowOffset,h=this.dom.offsetWidth+
g,i=this.dom.offsetHeight+g,j=false;if(e+h>a+c.left){e=a-h-g;j=true}if(d+i>b+c.top){d=b-i-g;j=true}if(e<c.left){e=c.left;j=true}if(d<c.top){d=c.top;j=true}if(j){Ext.Layer.superclass.setXY.call(this,[e,d]);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(a,b,c,d,e){var g=this,h;h=function(){a&&g.sync(true);d&&d()};a||g.hideUnders(true);g.callParent([a,b,c,d,e]);b||h();return g},beforeFx:function(){this.beforeAction();return this.callParent(arguments)},
afterFx:function(){this.callParent(arguments);this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(a){this.callParent(arguments);return this.sync()},setTop:function(a){this.callParent(arguments);return this.sync()},setLeftTop:function(a,b){this.callParent(arguments);return this.sync()},setXY:function(a,b,c,d,e){d=this.createCB(d);this.fixDisplay();this.beforeAction();this.callParent([a,b,c,d,e]);b||d();return this},createCB:function(a){var b=
this,c=b.shadow&&b.shadow.isVisible();return function(){b.constrainXY();b.sync(c);a&&a()}},setX:function(a,b,c,d,e){this.setXY([a,this.getY()],b,c,d,e);return this},setY:function(a,b,c,d,e){this.setXY([this.getX(),a],b,c,d,e);return this},setSize:function(a,b,c,d,e,g){e=this.createCB(e);this.beforeAction();this.callParent([a,b,c,d,e,g]);c||e();return this},setWidth:function(a,b,c,d,e){d=this.createCB(d);this.beforeAction();this.callParent([a,b,c,d,e]);b||d();return this},setHeight:function(a,b,c,
d,e){d=this.createCB(d);this.beforeAction();this.callParent([a,b,c,d,e]);b||d();return this},setBounds:function(a,b,c,d,e,g,h,i){h=this.createCB(h);this.beforeAction();if(e)this.callParent([a,b,c,d,e,g,h,i]);else{Ext.Layer.superclass.setXY.call(this,[a,b]);Ext.Layer.superclass.setSize.call(this,c,d);h()}return this},setZIndex:function(a){this.zindex=a;this.getShim()&&this.shim.setStyle("z-index",a++);this.shadow&&this.shadow.setZIndex(a++);return this.setStyle("z-index",a)},onOpacitySet:function(a){var b=
this.shadow;b&&b.setOpacity(a)}});Ext.define("Ext.PluginManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.PluginMgr",singleton:!0,typeName:"ptype",create:function(a,b){return a.init?a:Ext.createByAlias("plugin."+(a.ptype||b),a)},findByType:function(a,b){var c=[],d=this.types,e,g;for(e in d)if(d.hasOwnProperty(e)){g=d[e];g.type==a&&(!b||b===true&&g.isDefault)&&c.push(g)}return c}},function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}});
Ext.define("Ext.ShadowPool",{singleton:!0,requires:["Ext.DomHelper"],markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}(),shadows:[],pull:function(){var a=this.shadows.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup));a.autoBoxAdjust=false}return a},push:function(a){this.shadows.push(a)},reset:function(){var a=[].concat(this.shadows),
b,c=a.length;for(b=0;b<c;b++)a[b].remove();this.shadows=[]}});
Ext.define("Ext.Shadow",{requires:["Ext.ShadowPool"],constructor:function(a){var b,c;Ext.apply(this,a);if(!Ext.isString(this.mode))this.mode=this.defaultMode;a=this.offset;c=Math.floor(a/2);this.opacity=50;switch(this.mode.toLowerCase()){case "drop":b=Ext.supports.CSS3BoxShadow?{t:a,l:a,h:-a,w:-a}:{t:-c,l:-c,h:-c,w:-c};break;case "sides":b=Ext.supports.CSS3BoxShadow?{t:a,l:0,h:-a,w:0}:{t:-(1+c),l:1+c-2*a,h:-1,w:c-1};break;case "frame":b=Ext.supports.CSS3BoxShadow?{t:0,l:0,h:0,w:0}:{t:1+c-2*a,l:1+
c-2*a,h:a-c-1,w:a-c-1}}this.adjusts=b},getShadowSize:function(){var a=this.el?this.offset:0,a=[a,a,a,a],b=this.mode.toLowerCase();if(this.el&&b!=="frame"){a[0]=0;b=="drop"&&(a[3]=0)}return a},offset:4,defaultMode:"drop",boxShadowProperty:function(){var a="boxShadow",b=document.documentElement.style;"boxShadow"in b||("WebkitBoxShadow"in b?a="WebkitBoxShadow":"MozBoxShadow"in b&&(a="MozBoxShadow"));return a}(),show:function(a){var b,a=Ext.get(a);if(!this.el){this.el=Ext.ShadowPool.pull();this.el.dom.nextSibling!=
a.dom&&this.el.insertBefore(a)}b=parseInt(a.getStyle("z-index"),10)-1||0;this.el.setStyle("z-index",this.zIndex||b);if(Ext.isIE&&!Ext.supports.CSS3BoxShadow)this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+this.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+this.offset+")";this.realign(a.getLocalX(),a.getLocalY(),a.dom.offsetWidth,a.dom.offsetHeight);this.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(a,b,
c,d){if(this.el){var e=this.adjusts,g=this.el.dom.style;g.left=a+e.l+"px";g.top=b+e.t+"px";a=Math.max(c+e.w,0);d=Math.max(d+e.h,0);e=a+"px";d=d+"px";if(g.width!=e||g.height!=d){g.width=e;g.height=d;Ext.supports.CSS3BoxShadow&&(g[this.boxShadowProperty]="0 0 "+this.offset+"px #888")}}},hide:function(){if(this.el){this.el.dom.style.display="none";Ext.ShadowPool.push(this.el);delete this.el}},setZIndex:function(a){this.zIndex=a;this.el&&this.el.setStyle("z-index",a)},setOpacity:function(a){if(this.el){Ext.isIE&&
!Ext.supports.CSS3BoxShadow&&(a=Math.floor(a*100/2)/100);this.opacity=a;this.el.setOpacity(a)}}});
Ext.define("Ext.draw.CompositeSprite",{extend:"Ext.util.MixedCollection",mixins:{animate:"Ext.util.Animate"},autoDestroy:!1,isCompositeSprite:!0,constructor:function(a){a=a||{};Ext.apply(this,a);this.addEvents("mousedown","mouseup","mouseover","mouseout","click");this.id=Ext.id(null,"ext-sprite-group-");this.callParent()},onClick:function(a){this.fireEvent("click",a)},onMouseUp:function(a){this.fireEvent("mouseup",a)},onMouseDown:function(a){this.fireEvent("mousedown",a)},onMouseOver:function(a){this.fireEvent("mouseover",
a)},onMouseOut:function(a){this.fireEvent("mouseout",a)},attachEvents:function(a){a.on({scope:this,mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseover:this.onMouseOver,mouseout:this.onMouseOut,click:this.onClick})},add:function(a,b){var c=this.callParent(arguments);this.attachEvents(c);return c},insert:function(a,b,c){return this.callParent(arguments)},remove:function(a){a.un({scope:this,mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseover:this.onMouseOver,mouseout:this.onMouseOut,
click:this.onClick});return this.callParent(arguments)},getBBox:function(){for(var a=0,b,c=this.items,d=this.length,e=Infinity,g=-Infinity,h=Infinity,i=-Infinity;a<d;a++){b=c[a];if(b.el&&!b.bboxExcluded){b=b.getBBox();e=Math.min(e,b.x);h=Math.min(h,b.y);g=Math.max(g,b.height+b.y);i=Math.max(i,b.width+b.x)}}return{x:e,y:h,height:g-h,width:i-e}},setAttributes:function(a,b){for(var c=0,d=this.items,e=this.length;c<e;c++)d[c].setAttributes(a,b);return this},hide:function(a){for(var b=0,c=this.items,d=
this.length;b<d;b++)c[b].hide(a);return this},show:function(a){for(var b=0,c=this.items,d=this.length;b<d;b++)c[b].show(a);return this},redraw:function(){var a=0,b=this.items,c=this.getSurface(),d=this.length;if(c)for(;a<d;a++)c.renderItem(b[a]);return this},setStyle:function(a){for(var b=0,c=this.items,d=this.length,e;b<d;b++){e=c[b];(e=e.el)&&e.setStyle(a)}},addCls:function(a){var b=0,c=this.items,d=this.getSurface(),e=this.length;if(d)for(;b<e;b++)d.addCls(c[b],a)},removeCls:function(a){var b=
0,c=this.items,d=this.getSurface(),e=this.length;if(d)for(;b<e;b++)d.removeCls(c[b],a)},getSurface:function(){var a=this.first();return a?a.surface:null},destroy:function(){var a=this.getSurface(),b=this.autoDestroy,c;if(a)for(;this.getCount()>0;){c=this.first();this.remove(c);a.remove(c,b)}this.clearListeners()}});
Ext.define("Ext.draw.Surface",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.draw.CompositeSprite"],uses:["Ext.draw.engine.Svg","Ext.draw.engine.Vml","Ext.draw.engine.SvgExporter","Ext.draw.engine.ImageExporter"],separatorRe:/[, ]+/,statics:{create:function(a,b){for(var b=b||["Svg","Vml"],c=0,d=b.length;c<d;c++)if(Ext.supports[b[c]]!==false)return Ext.create("Ext.draw.engine."+b[c],a);return false},save:function(a,b){b=b||{};return Ext.draw.engine[({"image/png":"Image","image/jpeg":"Image",
"image/svg+xml":"Svg"}[b.type]||"Svg")+"Exporter"].generate(a,b)}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:!1,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"none","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt",
"stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:void 0,height:352,width:512,x:0,y:0,orderSpritesByZIndex:!0,constructor:function(a){a=a||{};Ext.apply(this,a);this.domRef=Ext.getDoc().dom;this.customAttributes={};this.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click","dblclick");this.mixins.observable.constructor.call(this);this.getId();this.initGradients();
this.initItems();if(this.renderTo){this.render(this.renderTo);delete this.renderTo}this.initBackground(a.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(a,b,c,d){if(isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)){this.viewBox={x:a,y:b,width:c,height:d};this.applyViewBox()}},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){if(this.hasOwnProperty("gradients")){var a=this.gradients,b=a.length,c=this.addGradient,
d;if(a)for(d=0;d<b;d++)if(c.call(this,a[d],d,b)===false)break}},initItems:function(){var a=this.items;this.items=new Ext.draw.CompositeSprite;this.items.autoDestroy=true;this.groups=new Ext.draw.CompositeSprite;a&&this.add(a)},initBackground:function(a){var b=this.width,c=this.height,d;Ext.isString(a)&&(a={fill:a});if(a){if(a.gradient){d=a.gradient;a=d.id;this.addGradient(d);this.background=this.add({type:"rect",x:0,y:0,width:b,height:c,fill:"url(#"+a+")",zIndex:-1})}else if(a.fill)this.background=
this.add({type:"rect",x:0,y:0,width:b,height:c,fill:a.fill,zIndex:-1});else if(a.image)this.background=this.add({type:"image",x:0,y:0,width:b,height:c,src:a.image,zIndex:-1});this.background.bboxExcluded=true}},setSize:function(){this.applyViewBox()},scrubAttrs:function(a){var b,c={},d={},a=a.attr;for(b in a)if(this.translateAttrs.hasOwnProperty(b)){c[this.translateAttrs[b]]=a[b];d[this.translateAttrs[b]]=true}else this.availableAttrs.hasOwnProperty(b)&&!d[b]&&(c[b]=a[b]);return c},onClick:function(a){this.processEvent("click",
a)},onDblClick:function(a){this.processEvent("dblclick",a)},onMouseUp:function(a){this.processEvent("mouseup",a)},onMouseDown:function(a){this.processEvent("mousedown",a)},onMouseOver:function(a){this.processEvent("mouseover",a)},onMouseOut:function(a){this.processEvent("mouseout",a)},onMouseMove:function(a){this.fireEvent("mousemove",a)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var a=Array.prototype.slice.call(arguments),b=a.length>1,c,d,e;if(b||Ext.isArray(a[0])){a=
b?a:a[0];b=[];c=0;for(d=a.length;c<d;c++){e=a[c];e=this.add(e);b.push(e)}return b}a=this.prepareItems(a[0],true)[0];this.insertByZIndex(a);this.onAdd(a);return a},insertByZIndex:function(a){var b=this.items.items,c=b.length,d=Math.ceil,e=a.attr.zIndex,g=c,h=g-1,i=0,j;if(this.orderSpritesByZIndex&&c&&e<b[h].attr.zIndex){for(;i<=h;){g=d((i+h)/2);j=b[g].attr.zIndex;if(j>e)h=g-1;else if(j<e)i=g+1;else break}for(;g<c&&b[g].attr.zIndex<=e;)g++}this.items.insert(g,a);return g},onAdd:function(a){var b=a.group,
c=a.draggable,d,e,g;if(b){d=[].concat(b);e=d.length;for(g=0;g<e;g++){b=d[g];this.getGroup(b).add(a)}delete a.group}c&&a.initDraggable()},remove:function(a,b){if(a){this.items.remove(a);var c=[].concat(this.groups.items),d=c.length,e;for(e=0;e<d;e++)c[e].remove(a);a.onRemove();b===true&&a.destroy()}},removeAll:function(a){var b=this.items.items,c;for(c=b.length-1;c>-1;c--)this.remove(b[c],a)},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var a=this.viewBox,b=this.width||1,c=this.height||
1,d,e,g,h;if(a&&(b||c)){d=a.x;e=a.y;g=a.width;a=a.height;h=Math.min(b/g,c/a);g*h<b&&(d=d-(b-g*h)/2/h);a*h<c&&(e=e-(c-a*h)/2/h);this.viewBoxShift={dx:-d,dy:-e,scale:h};this.background&&this.background.setAttributes(Ext.apply({},{x:d,y:e,width:b/h,height:c/h},{hidden:false}),true)}else this.background&&(b&&c)&&this.background.setAttributes(Ext.apply({x:0,y:0,width:b,height:c},{hidden:false}),true)},getBBox:function(a,b){var c=this["getPath"+a.type](a);if(b){a.bbox.plain=a.bbox.plain||Ext.draw.Draw.pathDimensions(c);
return a.bbox.plain}a.dirtyTransform&&this.applyTransformations(a,true);a.bbox.transform=a.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(c,a.matrix));return a.bbox.transform},transformToViewBox:function(a,b){if(this.viewBoxShift){var c=this.viewBoxShift;return[a/c.scale-c.dx,b/c.scale-c.dy]}return[a,b]},applyTransformations:function(a,b){if(a.type=="text"){a.bbox.transform=0;this.transform(a,false)}a.dirtyTransform=false;var c=a.attr;(c.translation.x!=null||c.translation.y!=null)&&
this.translate(a);(c.scaling.x!=null||c.scaling.y!=null)&&this.scale(a);c.rotation.degrees!=null&&this.rotate(a);a.bbox.transform=0;this.transform(a,b);a.transformations=[]},rotate:function(a){var b,c=a.attr.rotation.degrees,d=a.attr.rotation.x,e=a.attr.rotation.y;if(!Ext.isNumber(d)||!Ext.isNumber(e)){b=this.getBBox(a,true);d=!Ext.isNumber(d)?b.x+b.width/2:d;e=!Ext.isNumber(e)?b.y+b.height/2:e}a.transformations.push({type:"rotate",degrees:c,x:d,y:e})},translate:function(a){a.transformations.push({type:"translate",
x:a.attr.translation.x||0,y:a.attr.translation.y||0})},scale:function(a){var b,c=a.attr.scaling.x||1,d=a.attr.scaling.y||1,e=a.attr.scaling.centerX,g=a.attr.scaling.centerY;if(!Ext.isNumber(e)||!Ext.isNumber(g)){b=this.getBBox(a,true);e=!Ext.isNumber(e)?b.x+b.width/2:e;g=!Ext.isNumber(g)?b.y+b.height/2:g}a.transformations.push({type:"scale",x:c,y:d,centerX:e,centerY:g})},rectPath:function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-e*2,0],["a",e,e,0,0,1,e,e],["l",0,d-e*2],["a",e,e,0,0,1,-e,e],["l",e*
2-c,0],["a",e,e,0,0,1,-e,-e],["l",0,e*2-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},ellipsePath:function(a,b,c,d){d==null&&(d=c);return[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},getPathpath:function(a){return a.attr.path},getPathcircle:function(a){a=a.attr;return this.ellipsePath(a.x,a.y,a.radius,a.radius)},getPathellipse:function(a){a=a.attr;return this.ellipsePath(a.x,a.y,a.radiusX||a.width/2||0,a.radiusY||a.height/2||0)},getPathrect:function(a){a=
a.attr;return this.rectPath(a.x||0,a.y||0,a.width||0,a.height||0,a.r||0)},getPathimage:function(a){a=a.attr;return this.rectPath(a.x||0,a.y||0,a.width,a.height)},getPathtext:function(a){a=this.getBBoxText(a);return this.rectPath(a.x,a.y,a.width,a.height)},createGroup:function(a){var b=this.groups.get(a);if(!b){b=new Ext.draw.CompositeSprite({surface:this});b.id=a||Ext.id(null,"ext-surface-group-");this.groups.add(b)}return b},getGroup:function(a){var b;if(typeof a=="string")(b=this.groups.get(a))||
(b=this.createGroup(a));else b=a;return b},prepareItems:function(a){var a=[].concat(a),b,c,d;c=0;for(d=a.length;c<d;c++){b=a[c];if(b instanceof Ext.draw.Sprite)b.surface=this;else{b.surface=this;a[c]=this.createItem(b)}}return a},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){delete this.domRef;this.background&&this.background.destroy();this.removeAll(true);Ext.destroy(this.groups.items)}});
Ext.define("Ext.layout.component.Draw",{alias:"layout.draw",extend:"Ext.layout.component.Auto",type:"draw",measureContentWidth:function(a){var b=a.target,c=a.getPaddingInfo(),d=this.getBBox(a);return b.viewBox?a.heightModel.shrinkWrap?c.width:d.width/d.height*(a.getProp("contentHeight")-c.height)+c.width:b.autoSize?d.width+c.width:d.x+d.width+c.width},measureContentHeight:function(a){var b=a.target,c=a.getPaddingInfo(),d=this.getBBox(a);return a.target.viewBox?a.widthModel.shrinkWrap?c.height:d.height/
d.width*(a.getProp("contentWidth")-c.width)+c.height:b.autoSize?d.height+c.height:d.y+d.height+c.height},getBBox:function(a){var b=a.surfaceBBox;if(!b){b=a.target.surface.items.getBBox();if(b.width===-Infinity&&b.height===-Infinity)b.width=b.height=b.x=b.y=0;a.surfaceBBox=b}return b},publishInnerWidth:function(a,b){a.setContentWidth(b-a.getFrameInfo().width,true)},publishInnerHeight:function(a,b){a.setContentHeight(b-a.getFrameInfo().height,true)},finishedLayout:function(a){var b=a.props,c=a.getPaddingInfo();
this.owner.setSurfaceSize(b.contentWidth-c.width,b.contentHeight-c.height);this.callParent(arguments)}});
Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:"Ext.Component",requires:["Ext.draw.Surface","Ext.layout.component.Draw"],enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:!0,shrinkWrap:3,autoSize:!1,initComponent:function(){this.callParent(arguments);this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click","dblclick")},onRender:function(){var a=this.viewBox,b=this.autoSize,c,d;this.callParent(arguments);if(this.createSurface()!==
false){d=this.surface.items;if(a||b){c=d.getBBox();a=c.width;b=c.height;d=c.x;c=c.y;this.viewBox?this.surface.setViewBox(d,c,a,b):this.autoSizeSurface()}}},autoSizeSurface:function(){var a=this.surface.items.getBBox();this.setSurfaceSize(a.width,a.height)},setSurfaceSize:function(a,b){this.surface.setSize(a,b);if(this.autoSize){var c=this.surface.items.getBBox();this.surface.setViewBox(c.x,c.y-+Ext.isOpera,a,b)}},createSurface:function(){function a(a){return function(c){b.fireEvent(a,c)}}var b=this,
c=Ext.applyIf({renderTo:b.el,height:b.height,width:b.width,items:b.items},b.initialConfig);delete c.listeners;c=Ext.draw.Surface.create(c);if(!c)return false;b.surface=c;c.on({scope:b,mouseup:a("mouseup"),mousedown:a("mousedown"),mousemove:a("mousemove"),mouseenter:a("mouseenter"),mouseleave:a("mouseleave"),click:a("click"),dblclick:a("dblclick")})},onDestroy:function(){Ext.destroy(this.surface);this.callParent(arguments)}});
Ext.define("Ext.data.reader.Array",{extend:"Ext.data.reader.Json",alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",totalProperty:void 0,successProperty:void 0,createFieldAccessExpression:function(a,b,c){a=a.mapping==null?a.originalIndex:a.mapping;if(typeof a==="function")b=b+".mapping("+c+", this)";else{isNaN(a)&&(a='"'+a+'"');b=c+"["+a+"]"}return b}});
Ext.define("Ext.data.ArrayStore",{extend:"Ext.data.Store",alias:"store.array",requires:["Ext.data.proxy.Memory","Ext.data.reader.Array"],constructor:function(a){a=Ext.apply({proxy:{type:"memory",reader:"array"}},a);this.callParent([a])},loadData:function(a,b){if(this.expandData===true){for(var c=[],d=0,e=a.length;d<e;d++)c[c.length]=[a[d]];a=c}this.callParent([a,b])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore});
Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.util.Observable"},autoStart:!1,pauseOnException:!1,current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.operations=[];this.exceptions=[]},add:function(a){this.total++;a.setBatch(this);this.operations.push(a);return this},start:function(a){if(this.isRunning)return this;this.exceptions.length=0;this.hasException=false;this.isRunning=true;return this.runOperation(Ext.isDefined(a)?
a:this.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){this.isRunning=false;return this},runOperation:function(a){var b=this,c=b.operations,d=c[a];if(d===void 0){b.isRunning=false;b.isComplete=true;b.fireEvent("complete",b,c[c.length-1])}else{b.current=a;a=function(a){var c=a.hasException();if(c){b.hasException=true;b.exceptions.push(a);b.fireEvent("exception",b,a)}if(c&&b.pauseOnException)b.pause();
else{a.setCompleted();b.fireEvent("operationcomplete",b,a);b.runNextOperation()}};d.setStarted();b.proxy[d.action](d,a,b)}return b}});Ext.define("Ext.data.Request",{action:void 0,params:void 0,method:"GET",url:void 0,constructor:function(a){Ext.apply(this,a)}});
Ext.define("Ext.data.association.BelongsTo",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",constructor:function(a){this.callParent(arguments);var b=this.ownerModel.prototype,c=this.associatedName,d=this.getterName||"get"+c,e=this.setterName||"set"+c;Ext.applyIf(this,{name:c,foreignKey:c.toLowerCase()+"_id",instanceName:c+"BelongsToInstance",associationKey:c.toLowerCase()});b[d]=this.createGetter();b[e]=this.createSetter()},
createSetter:function(){var a=this.foreignKey;return function(b,c,d){b&&b.isModel&&(b=b.getId());this.set(a,b);Ext.isFunction(c)&&(c={callback:c,scope:d||this});if(Ext.isObject(c))return this.save(c)}},createGetter:function(){var a=this.associatedName,b=this.associatedModel,c=this.foreignKey,d=this.primaryKey,e=this.instanceName;return function(g,h){var g=g||{},i=this,j=i.get(c),k,l;if(g.reload===true||i[e]===void 0){l=Ext.ModelManager.create({},a);l.set(d,j);typeof g=="function"&&(g={callback:g,
scope:h||i});k=g.success;g.success=function(a){i[e]=a;k&&k.apply(this,arguments)};b.load(j,g);i[e]=l}else{l=i[e];j=[l];h=h||g.scope||i;Ext.callback(g,h,j);Ext.callback(g.success,h,j);Ext.callback(g.failure,h,j);Ext.callback(g.callback,h,j)}return l}},read:function(a,b,c){a[this.instanceName]=b.read([c]).records[0]}});
Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],
[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],
[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:"sheep fish series species money rice information equipment grass mud offspring deer means".split(" "),singular:function(a,b){this.singulars.unshift([a,b])},plural:function(a,b){this.plurals.unshift([a,b])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,
a)!=-1},pluralize:function(a){if(this.isTransnumeral(a))return a;var b=this.plurals,c=b.length,d,e,g;for(g=0;g<c;g++){d=b[g];e=d[0];if(e==a||e.test&&e.test(a))return a.replace(e,d[1])}return a},singularize:function(a){if(this.isTransnumeral(a))return a;var b=this.singulars,c=b.length,d,e,g;for(g=0;g<c;g++){d=b[g];e=d[0];if(e==a||e.test&&e.test(a))return a.replace(e,d[1])}return a},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(a){var b=parseInt(a,10),c=
b%100;if(11<=c&&c<=13)return a+"th";switch(b%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd";default:return a+"th"}}},function(){var a={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",
memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},b;for(b in a){this.plural(b,a[b]);this.singular(a[b],b)}});
Ext.define("Ext.data.association.HasMany",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasManyAssociation",requires:["Ext.util.Inflector"],alias:"association.hasmany",constructor:function(a){var b,c;this.callParent(arguments);this.name=this.name||Ext.util.Inflector.pluralize(this.associatedName.toLowerCase());b=this.ownerModel.prototype;c=this.name;Ext.applyIf(this,{storeName:c+"Store",foreignKey:this.ownerName.toLowerCase()+"_id"});b[c]=this.createStore()},createStore:function(){var a=
this.associatedModel,b=this.storeName,c=this.foreignKey,d=this.primaryKey,e=this.filterProperty,g=this.autoLoad,h=this.storeConfig||{};return function(){var i,j={};if(this[b]===void 0){i=e?{property:e,value:this.get(e),exactMatch:true}:{property:c,value:this.get(d),exactMatch:true};j[c]=this.get(d);i=Ext.apply({},h,{model:a,filters:[i],remoteFilter:false,modelDefaults:j});this[b]=Ext.data.AbstractStore.create(i);g&&this[b].load()}return this[b]}},read:function(a,b,c){var d=a[this.name](),e;d.add(b.read(c).records);
if(b=this.associatedModel.prototype.associations.findBy(function(b){return b.type==="belongsTo"&&b.associatedName===a.$className})){d=d.data.items;c=d.length;for(e=0;e<c;e++)d[e][b.instanceName]=a}}});
Ext.define("Ext.data.association.HasOne",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",constructor:function(a){this.callParent(arguments);var b=this.ownerModel.prototype,c=this.associatedName,d=this.getterName||"get"+c,e=this.setterName||"set"+c;Ext.applyIf(this,{name:c,foreignKey:c.toLowerCase()+"_id",instanceName:c+"HasOneInstance",associationKey:c.toLowerCase()});b[d]=this.createGetter();b[e]=this.createSetter()},createSetter:function(){var a=
this.foreignKey;return function(b,c,d){b&&b.isModel&&(b=b.getId());this.set(a,b);Ext.isFunction(c)&&(c={callback:c,scope:d||this});if(Ext.isObject(c))return this.save(c)}},createGetter:function(){var a=this.associatedName,b=this.associatedModel,c=this.foreignKey,d=this.primaryKey,e=this.instanceName;return function(g,h){var g=g||{},i=this,j=i.get(c),k,l;if(g.reload===true||i[e]===void 0){l=Ext.ModelManager.create({},a);l.set(d,j);typeof g=="function"&&(g={callback:g,scope:h||i});k=g.success;g.success=
function(a){i[e]=a;k&&k.apply(this,arguments)};b.load(j,g);i[e]=l}else{l=i[e];j=[l];h=h||g.scope||i;Ext.callback(g,h,j);Ext.callback(g.success,h,j);Ext.callback(g.failure,h,j);Ext.callback(g.callback,h,j)}return l}},read:function(a,b,c){var d=this.associatedModel.prototype.associations.findBy(function(b){return b.type==="belongsTo"&&b.associatedName===a.$className}),b=b.read([c]).records[0];a[this.instanceName]=b;d&&(b[d.instanceName]=a)}});
Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(a){var b=this.getKey(a);if(!this.map[b]){++this.length;this.items.push(a);this.map[b]=a}return a},clear:function(){var a=this.items;this.items=[];this.map={};this.length=0;return a},contains:function(a){return this.map.hasOwnProperty(this.getKey(a))},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(a){var b=this.getKey(a),c=this.items,d;if(this.map[b]){d=Ext.Array.indexOf(c,a);Ext.Array.erase(c,
d,1);delete this.map[b];--this.length}return a}});
Ext.define("Ext.layout.ClassList",function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{dirty:false,constructor:function(c){this.owner=c;this.map=b(this.classes=a(c.el.className))},add:function(a){if(!this.map[a]){this.map[a]=true;this.classes.push(a);if(!this.dirty){this.dirty=true;this.owner.markDirty()}}},addMany:function(b){Ext.each(a(b),this.add,this)},contains:function(a){return this.map[a]},flush:function(){this.owner.el.className=this.classes.join(" ");this.dirty=false},remove:function(a){if(this.map[a]){delete this.map[a];
this.classes=Ext.Array.filter(this.classes,function(b){return b!=a});if(!this.dirty){this.dirty=true;this.owner.markDirty()}}},removeMany:function(c){var d=this,e=b(a(c));d.classes=Ext.Array.filter(d.classes,function(a){if(!e[a])return true;delete d.map[a];if(!d.dirty){d.dirty=true;d.owner.markDirty()}return false})}}}());
Ext.define("Ext.layout.ContextItem",{requires:["Ext.layout.ClassList"],heightModel:null,widthModel:null,sizeModel:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildLayouts:0,remainingComponentChildLayouts:0,remainingContainerChildLayouts:0,props:null,state:null,
wrapsComponent:!1,constructor:function(a){var b,c;Ext.apply(this,a);a=this.el;this.id=a.id;this.lastBox=a.lastBox;this.flushedProps={};this.props={};this.styles={};c=this.target;if(c.isComponent){this.wrapsComponent=true;if((a=c.ownerCt)&&(b=this.context.items[a.el.id]))this.ownerCtContext=b;this.sizeModel=b=c.getSizeModel(b&&b.widthModel.pairsByHeightOrdinal[b.heightModel.ordinal]);this.widthModel=b.width;this.heightModel=b.height}},init:function(a,b){var c=this.props,d=this.dirty,e=this.ownerCtContext,
g=this.target.ownerLayout,h=!this.state,i=a||h,j,k,l,m,n=this.heightModel,o=this.widthModel;this.dirty=this.invalid=false;this.props={};if(this.boxChildren)this.boxChildren.length=0;if(!h){this.clearAllBlocks("blocks");this.clearAllBlocks("domBlocks")}if(!this.wrapsComponent)return i;m=this.target;this.state={};if(h){m.beforeLayout&&m.beforeLayout();if(!e&&(j=m.ownerCt))e=this.context.items[j.el.id];if(e){this.ownerCtContext=e;this.isBoxParent=m.ownerLayout.isItemBoxParent(this)}else this.isTopLevel=
true;this.frameBodyContext=this.getEl("frameBody")}else{e=this.ownerCtContext;this.isTopLevel=!e;j=this.children;k=0;for(l=j.length;k<l;++k)j[k].init(true)}this.hasRawContent=!(m.isContainer&&m.items.items.length>0);if(a){this.widthModel=this.heightModel=null;e=m.getSizeModel(e&&e.widthModel.pairsByHeightOrdinal[e.heightModel.ordinal]);if(h)this.sizeModel=e;this.widthModel=e.width;this.heightModel=e.height}else if(c){this.recoverProp("x",c,d);this.recoverProp("y",c,d);this.widthModel.calculated&&
this.recoverProp("width",c,d);this.heightModel.calculated&&this.recoverProp("height",c,d)}if(c&&g&&g.manageMargins){this.recoverProp("margin-top",c,d);this.recoverProp("margin-right",c,d);this.recoverProp("margin-bottom",c,d);this.recoverProp("margin-left",c,d)}if(b){c=b.heightModel;(d=b.widthModel)&&c&&o&&n&&o.shrinkWrap&&n.shrinkWrap&&d.constrainedMax&&c.constrainedMin&&(c=null);if(d)this.widthModel=d;if(c)this.heightModel=c;b.state&&Ext.apply(this.state,b.state)}return i},initContinue:function(a){var b=
this.ownerCtContext,c=this.widthModel;if(a)if(b&&c.shrinkWrap)(b=b.isBoxParent?b:b.boxParent)&&b.addBoxChild(this);else if(c.natural)this.boxParent=b;return a},initDone:function(a,b,c,d){var a=this.props,e=this.state;if(b)a.componentChildrenDone=true;if(c)a.containerChildrenDone=true;if(d)a.containerLayoutDone=true;if(this.boxChildren&&this.boxChildren.length&&this.widthModel.shrinkWrap){this.el.setWidth(1E4);e.blocks=(e.blocks||0)+1}},initAnimation:function(){var a=this.target,b=this.ownerCtContext;
if(b&&b.isTopLevel)this.animatePolicy=a.ownerLayout.getAnimatePolicy(this);else if(!b&&a.isCollapsingOrExpanding&&a.animCollapse)this.animatePolicy=a.componentLayout.getAnimatePolicy(this);this.animatePolicy&&this.context.queueAnimation(this)},noFraming:{left:0,top:0,right:0,bottom:0,width:0,height:0},addCls:function(a){this.getClassList().addMany(a)},removeCls:function(a){this.getClassList().removeMany(a)},addBlock:function(a,b,c){a=this[a]||(this[a]={});c=a[c]||(a[c]={});if(!c[b.id]){c[b.id]=b;
++b.blockCount;++this.context.blockCount}},addBoxChild:function(a){var b;b=a.widthModel;a.boxParent=this;a.measuresBox=b.shrinkWrap?a.hasRawContent:b.natural;if(a.measuresBox)(b=this.boxChildren)?b.push(a):this.boxChildren=[a]},addTrigger:function(a,b){var c=b?"domTriggers":"triggers",d=this[c]||(this[c]={}),c=this.context,e=c.currentLayout,d=d[a]||(d[a]={});if(!d[e.id]){d[e.id]=e;++e.triggerCount;d=c.triggers[b?"dom":"data"];(d[e.id]||(d[e.id]=[])).push({item:this,prop:a});this.props[a]!==void 0&&
(!b||!(this.dirty&&a in this.dirty))&&++e.firedTriggers}},boxChildMeasured:function(){var a=this.state;if((a.boxesMeasured=(a.boxesMeasured||0)+1)==this.boxChildren.length){a.clearBoxWidth=1;++this.context.progressCount;this.markDirty()}},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top",
"right","bottom","left"],cacheMissHandlers:{borderInfo:function(a){a=a.getStyles(a.borderNames,a.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},marginInfo:function(a){a=a.getStyles(a.marginNames,a.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},paddingInfo:function(a){a=(a.frameBodyContext||a).getStyles(a.paddingNames,a.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(a){var b=
this[a],c;if(b)for(c in b)this.clearBlocks(a,c)},clearBlocks:function(a,b){var c=this[a],d=c&&c[b],e,g;if(d){delete c[b];c=this.context;for(g in d){e=d[g];--c.blockCount;!--e.blockCount&&(!e.pending&&!e.done)&&c.queueLayout(e)}}},block:function(a,b){this.addBlock("blocks",a,b)},domBlock:function(a,b){this.addBlock("domBlocks",a,b)},fireTriggers:function(a,b){var c=this[a],c=c&&c[b],d=this.context,e,g;if(c)for(g in c){e=c[g];++e.firedTriggers;!e.done&&(!e.blockCount&&!e.pending)&&d.queueLayout(e)}},
flush:function(){var a=this.dirty,b=this.state,c=this.el;this.dirtyCount=0;this.classList&&this.classList.dirty&&this.classList.flush();if("attributes"in this){c.set(this.attributes);delete this.attributes}if("innerHTML"in this){c.innerHTML=this.innerHTML;delete this.innerHTML}if(b&&b.clearBoxWidth){b.clearBoxWidth=0;this.el.setStyle("width",null);--b.blocks||this.context.queueItemLayouts(this)}if(a){delete this.dirty;this.writeProps(a,true)}},flushAnimations:function(){var a=this,b=a.lastBox,c,d,
e,g,h,i,j,k,l;if(b){c=a.target;(d=c.layout&&c.layout.animate)&&(e=Ext.isNumber(d)?d:d.duration);g=Ext.Object.getKeys(a.animatePolicy);d=Ext.apply({},{from:{},to:{},duration:e||Ext.fx.Anim.prototype.duration},d);h=e=0;for(i=g.length;h<i;h++){j=g[h];k=b[j];l=a.peek(j);if(k!=l){j=a.translateProps[j]||j;d.from[j]=k;d.to[j]=l;++e}}if(e){a.isCollapsingOrExpanding===1?c.componentLayout.undoLayout(a):a.writeProps(d.from);a.el.animate(d);Ext.fx.Manager.getFxQueue(a.el.id)[0].on({afteranimate:function(){if(a.isCollapsingOrExpanding===
1){c.componentLayout.redoLayout(a);c.afterCollapse(true)}else a.isCollapsingOrExpanding===2&&c.afterExpand(true)}})}}},getBorderInfo:function(){var a=this.borderInfo;if(!a)this.borderInfo=a=this.checkCache("borderInfo");return a},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(a,b){var c,d,e;if(a){if(a.dom)d=a;else{c=this.target;b&&(c=b);d=c[a];if(typeof d=="function"){d=d.call(c);if(d===this.el)return this}}d&&(e=this.context.getEl(this,
d))}return e||null},getFraming:function(){if(!this.framingInfo)this.framingInfo=this.target.frameSize||this.noFraming;return this.framingInfo},getFrameInfo:function(){var a=this.frameInfo,b;if(!a){a=this.getFraming();b=this.getBorderInfo();this.frameInfo=a={top:a.top+b.top,right:a.right+b.right,bottom:a.bottom+b.bottom,left:a.left+b.left,width:a.width+b.width,height:a.height+b.height}}return a},getMarginInfo:function(){var a=this.marginInfo,b,c,d,e;if(!a){if(this.wrapsComponent){b=this.target;e=(d=
b.ownerLayout)?d.id:null;c=d&&d.manageMargins;(a=b.margin$)&&a.ownerId!==e&&(a=null);if(!a){a=this.parseMargins(b.margin)||this.checkCache("marginInfo");if(c){(c=this.parseMargins(b.margins,d.defaultMargins))&&(a={top:a.top+c.top,right:a.right+c.right,bottom:a.bottom+c.bottom,left:a.left+c.left});this.setProp("margin-top",0);this.setProp("margin-right",0);this.setProp("margin-bottom",0);this.setProp("margin-left",0)}a.ownerId=e;b.margin$=a}a.width=a.left+a.right;a.height=a.top+a.bottom}else a=this.checkCache("marginInfo");
this.marginInfo=a}return a},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var a=this.paddingInfo;if(!a)this.paddingInfo=a=this.checkCache("paddingInfo");return a},getProp:function(a){var b=this.props[a];this.addTrigger(a);return b},getDomProp:function(a){var b=this.dirty&&a in this.dirty?void 0:this.props[a];this.addTrigger(a,true);return b},getStyle:function(a){var b=this.styles,c,d;if(a in b)d=b[a];else{c=this.styleInfo[a];d=this.el.getStyle(a);
c&&c.parseInt&&(d=parseInt(d,10)||0);b[a]=d}return d},getStyles:function(a,b){var c=this.styles,d={},e=0,g=a.length,h,i,j,k,l,m,b=b||a;for(h=0;h<g;++h){k=a[h];if(k in c){d[b[h]]=c[k];++e;if(h&&e==1){i=a.slice(0,h);j=b.slice(0,h)}}else if(e){(i||(i=[])).push(k);(j||(j=[])).push(b[h])}}if(e<g){i=i||a;j=j||b;g=this.styleInfo;l=this.el.getStyle(i);for(h=i.length;h--;){k=i[h];e=g[k];m=l[k];e&&e.parseInt&&(m=parseInt(m,10)||0);d[j[h]]=m;c[k]=m}}return d},hasProp:function(a){return typeof this.getProp(a)!=
"undefined"},hasDomProp:function(a){return typeof this.getDomProp(a)!="undefined"},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){++this.dirtyCount==1&&this.context.queueFlush(this)},onBoxMeasured:function(){var a=this.boxParent,b=this.state;if(a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox){b.boxMeasured=1;a.boxChildMeasured()}},parseMargins:function(a,b){a===true&&(a=5);var c=typeof a,d;if(c=="string"||c=="number")d=Ext.util.Format.parseBox(a);else if(a||
b){d={top:0,right:0,bottom:0,left:0};b&&Ext.apply(d,this.parseMargins(b));Ext.apply(d,a)}return d},peek:function(a){return this.props[a]},recoverProp:function(a,b,c){var d=this.props;if(a in b){d[a]=b[a];if(c&&a in c){b=this.dirty||(this.dirty={});b[a]=c[a]}}},redo:function(a){var b,c,d;this.revertProps(this.props);if(a&&this.wrapsComponent){if(this.childItems){d=0;b=this.childItems;for(c=b.length;d<c;d++)b[d].redo(a)}d=0;b=this.children;for(c=b.length;d<c;d++)b[d].redo()}},revertProps:function(a){var b,
c=this.flushedProps,d={};for(b in a)c.hasOwnProperty(b)&&(d[b]=a[b]);this.writeProps(d)},setAttribute:function(a,b){if(!this.attributes)this.attributes={};this.attributes[a]=b;this.markDirty()},setBox:function(a){"left"in a&&this.setProp("x",a.left);"top"in a&&this.setProp("y",a.top);this.setSize(a.width,a.height)},setContentHeight:function(a,b){return!b&&this.hasRawContent?1:this.setProp("contentHeight",a)},setContentWidth:function(a,b){return!b&&this.hasRawContent?1:this.setProp("contentWidth",
a)},setContentSize:function(a,b,c){return this.setContentWidth(a,c)+this.setContentHeight(b,c)==2},setProp:function(a,b,c){var d=typeof b;if(d=="undefined"||d==="number"&&isNaN(b))return 0;if(this.props[a]===b)return 1;this.props[a]=b;++this.context.progressCount;if(c===false){this.fireTriggers("domTriggers",a);this.clearBlocks("domBlocks",a)}else if(c=this.styleInfo[a]){if(!this.dirty)this.dirty={};if(a=="width"||a=="height"){c=this.isBorderBoxValue;if(c==null)this.isBorderBoxValue=c=!!this.el.isBorderBox();
if(!c){this.borderInfo||this.getBorderInfo();this.paddingInfo||this.getPaddingInfo()}}this.dirty[a]=b;this.markDirty()}this.fireTriggers("triggers",a);this.clearBlocks("blocks",a);return 1},setHeight:function(a,b){var c=this.target,d;a<0&&(a=0);if(this.wrapsComponent){a=Ext.Number.constrain(a,c.minHeight||0,c.maxHeight);if(!this.setProp("height",a,b))return NaN;if(c=this.frameBodyContext){d=this.getFrameInfo();c.setHeight(a-d.height,b)}}else if(!this.setProp("height",a,b))return NaN;return a},setWidth:function(a,
b){var c=this.target,d;a<0&&(a=0);if(this.wrapsComponent){a=Ext.Number.constrain(a,c.minWidth||0,c.maxWidth);if(!this.setProp("width",a,b))return NaN;if(c=this.frameBodyContext){d=this.getFrameInfo();c.setWidth(a-d.width,b)}}else if(!this.setProp("width",a,b))return NaN;return a},setSize:function(a,b,c){this.setWidth(a,c);this.setHeight(b,c)},translateProps:{x:"left",y:"top"},undo:function(a){var b,c,d;this.revertProps(this.lastBox);if(a&&this.wrapsComponent){if(this.childItems){d=0;b=this.childItems;
for(c=b.length;d<c;d++)b[d].undo(a)}d=0;b=this.children;for(c=b.length;d<c;d++)b[d].undo()}},unsetProp:function(a){var b=this.dirty;delete this.props[a];b&&delete b[a]},writeProps:function(a,b){if(a&&typeof a=="object"){var c=this.el,d={},e=0,g=this.styleInfo,h,i,j,k="x"in a,l="y"in a,m=a.x,n=a.y,o=a.width,p=a.height,q=this.isBorderBoxValue,r=this.target,s=Math.max,t=0,u=0,v,w;"displayed"in a&&c.setDisplayed(a.displayed);for(i in a){if(b){this.fireTriggers("domTriggers",i);this.clearBlocks("domBlocks",
i);this.flushedProps[i]=1}if((h=g[i])&&h.dom){d[i]=h.suffix&&(j=parseInt(a[i],10))?j+h.suffix:a[i];++e}}if(k||l)if(r.isComponent)r.setPosition(m||this.props.x,n||this.props.y);else{if(k){d.left=m+"px";++e}if(l){d.top=n+"px";++e}}if(!q&&(o>0||p>0)){if(!this.borderInfo||!this.paddingInfo)throw Error("Needed to have gotten the borderInfo and paddingInfo when the width or height was setProp'd");if(!this.frameBodyContext){t=this.paddingInfo.width;u=this.paddingInfo.height}if(o){o=s(parseInt(o,10)-(this.borderInfo.width+
t),0);d.width=o+"px";++e}if(p){p=s(parseInt(p,10)-(this.borderInfo.height+u),0);d.height=p+"px";++e}}if(this.wrapsComponent&&(Ext.isIE9&&Ext.isStrict)&&((v=o!==void 0&&this.hasOverflowY)||(w=p!==void 0&&this.hasOverflowX))){g=this.isAbsolute;if(g===void 0){g=false;i=this.target.getTargetEl();h=i.getStyle("position");if(h=="absolute"){h=i.getStyle("box-sizing");g=h=="border-box"}this.isAbsolute=g}if(g){g=Ext.getScrollbarSize();if(v){o=parseInt(o,10)+g.width;d.width=o+"px";++e}if(w){p=parseInt(p,10)+
g.height;d.height=p+"px";++e}}}e&&c.setStyle(d)}else Ext.Logger.warn("writeProps expected dirtyProps to be an object")}},function(){var a={dom:true,parseInt:true,suffix:"px"},b={dom:true},c={dom:false};this.prototype.styleInfo={childrenDone:c,componentChildrenDone:c,containerChildrenDone:c,containerLayoutDone:c,displayed:c,done:c,x:c,y:c,columnWidthsDone:c,left:a,top:a,right:a,bottom:a,width:a,height:a,"border-top-width":a,"border-right-width":a,"border-bottom-width":a,"border-left-width":a,"margin-top":a,
"margin-right":a,"margin-bottom":a,"margin-left":a,"padding-top":a,"padding-right":a,"padding-bottom":a,"padding-left":a,"line-height":b,display:b}});
Ext.define("Ext.layout.Context",{requires:["Ext.util.Queue","Ext.layout.ContextItem","Ext.layout.Layout","Ext.fx.Anim","Ext.fx.Manager"],remainingLayouts:0,state:0,constructor:function(a){Ext.apply(this,a);this.items={};this.layouts={};this.calcCount=this.flushCount=this.cycleCount=this.blockCount=0;this.animateQueue=this.newQueue();this.completionQueue=this.newQueue();this.finalizeQueue=this.newQueue();this.finishQueue=this.newQueue();this.flushQueue=this.newQueue();this.invalidateData={};this.layoutQueue=
this.newQueue();this.invalidQueue=[];this.triggers={data:{},dom:{}}},callLayout:function(a,b){this.currentLayout=a;a[b](this.getCmp(a.owner))},cancelComponent:function(a,b,c){var d=a,e=!a.isComponent,g=e?d.length:1,h,i,j,k,l,m,n;for(h=0;h<g;++h){e&&(a=d[h]);if(c&&a.ownerCt)(i=this.items[a.ownerCt.el.id])&&Ext.Array.remove(i.childItems,this.getCmp(a));if(!b){l=this.invalidQueue;if(j=l.length){this.invalidQueue=k=[];for(i=0;i<j;++i){m=l[i];n=m.item.target;n!=a&&!n.isDescendant(a)&&k.push(m)}}}i=a.componentLayout;
this.cancelLayout(i);if(i.getLayoutItems){i=i.getLayoutItems();i.length&&this.cancelComponent(i,true)}if(a.isContainer&&!a.collapsed){i=a.layout;this.cancelLayout(i);i=i.getVisibleItems();i.length&&this.cancelComponent(i,true)}}},cancelLayout:function(a){this.completionQueue.remove(a);this.finalizeQueue.remove(a);this.finishQueue.remove(a);this.layoutQueue.remove(a);a.running&&this.layoutDone(a);a.ownerContext=null},clearTriggers:function(a,b){var c=a.id,d=this.triggers[b?"dom":"data"],e=d&&d[c],
g=e&&e.length||0,h,i;for(h=0;h<g;++h){i=e[h];d=i.item;d=b?d.domTriggers:d.triggers;delete d[i.prop][c]}},flush:function(){var a=this.flushQueue.clear(),b=a.length,c;if(b){++this.flushCount;for(c=0;c<b;++c)a[c].flush()}},flushAnimations:function(){var a=this.animateQueue.clear(),b=a.length,c;if(b){for(c=0;c<b;c++)a[c].target.animate!==false&&a[c].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var a=this.invalidQueue,b=a&&a.length,c,d,e,g;this.invalidQueue=[];if(b){d=[];for(g=
0;g<b;++g){c=(e=a[g]).item.target;if(!c.container.isDetachedBody){d.push(c);if(e.options)this.invalidateData[c.id]=e.options}}this.invalidate(d,null)}},flushLayouts:function(a,b,c){var a=c?this[a].items:this[a].clear(),c=a.length,d,e;if(c){for(d=0;d<c;++d){e=a[d];e.running||this.callLayout(e,b)}this.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(a,b){var c=this.getItem(b,b);if(!c.parent){c.parent=a;a.children.length?a.children.push(c):a.children=[c]}return c},
getItem:function(a,b){var c=b.id,d=this.items;return d[c]||(d[c]=new Ext.layout.ContextItem({context:this,target:a,el:b}))},handleFailure:function(){var a=this.layouts,b,c;Ext.failedLayouts=(Ext.failedLayouts||0)+1;Ext.log("Layout run failed");for(c in a){b=a[c];if(a.hasOwnProperty(c)){b.running=false;b.ownerContext=null}}},invalidate:function(a,b){var c=!a.isComponent,d,e,g,h,i,j,k,l,m,n,o,p;i=0;for(l=c?a.length:1;i<l;++i){d=c?a[i]:a;if(d.rendered&&!d.hidden){j=this.getCmp(d);m=d.componentLayout;
h=!m.ownerContext;n=d.isContainer&&!d.collapsed?d.layout:null;o=this.invalidateData[j.id];delete this.invalidateData[j.id];p=j.init(b,o);o&&this.processInvalidate(o,j,"before");m.beforeLayoutCycle&&m.beforeLayoutCycle(j);p=j.initContinue(p);d=e=g=true;if(m.getLayoutItems){m.renderChildren();k=m.getLayoutItems();if(k.length){this.invalidate(k,true);d=false}}if(n){g=false;n.renderChildren();k=n.getVisibleItems();if(k.length){this.invalidate(k,true);e=false}}j.initDone(p,d,e,g);this.resetLayout(m,j,
h);n&&this.resetLayout(n,j,h);j.initAnimation();o&&this.processInvalidate(o,j,"after")}}this.currentLayout=null},layoutDone:function(a){var b=a.ownerContext;a.running=false;if(a.isComponentLayout){if(b.measuresBox)b.onBoxMeasured();b.setProp("done",true);if(a=b.ownerCtContext){b.target.ownerLayout.isComponentLayout?--a.remainingComponentChildLayouts||a.setProp("componentChildrenDone",true):--a.remainingContainerChildLayouts||a.setProp("containerChildrenDone",true);--a.remainingChildLayouts||a.setProp("childrenDone",
true)}}else b.setProp("containerLayoutDone",true);--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(a,b,c){if(a[c]){var d=this.currentLayout;this.currentLayout=a.layout||null;a[c](b,a);this.currentLayout=d}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(a,
b,c){var d=this,e=a.layout,g=b.layout,h=a[c],i=b[c];return function(c){var k=d.currentLayout;if(h){d.currentLayout=e;h.call(a.scope||a,c,a)}d.currentLayout=g;i.call(b.scope||b,c,b);d.currentLayout=k}},queueInvalidate:function(a,b){var c=[],d=this.invalidQueue,e=d.length,g,h,i,j;a.isComponent?a=this.getCmp(g=a):g=a.target;for(a.invalid=true;e--;){h=d[e];i=h.item.target;if(g.isDescendant(i))return;if(i==g){if(c=h.options){if(b){if(b.widthModel)c.widthModel=b.widthModel;if(b.heightModel)c.heightModel=
b.heightModel;(j=c.state)?b.state&&Ext.apply(j,b.state):c.state=b.state;if(b.before)c.before=this.chainFns(c,b,"before");if(b.after)c.after=this.chainFns(c,b,"after")}}else h.options=b;return}i.isDescendant(g)||c.push(h)}c.push({item:a,options:b});this.invalidQueue=c},queueItemLayouts:function(a){var a=a.isComponent?a:a.target,b=a.componentLayout;!b.pending&&(!b.invalid&&!b.done)&&this.queueLayout(b);(b=a.layout)&&(!b.pending&&!b.invalid&&!b.done)&&this.queueLayout(b)},queueLayout:function(a){this.layoutQueue.add(a);
a.pending=true},resetLayout:function(a,b,c){var d;this.currentLayout=a;a.done=false;a.pending=true;a.firedTriggers=0;this.layoutQueue.add(a);if(c){this.layouts[a.id]=a;a.running=true;a.finishedLayout&&this.finishQueue.add(a);++this.remainingLayouts;++a.layoutCount;a.ownerContext=b;a.beginCount=0;a.blockCount=0;a.calcCount=0;a.triggerCount=0;if(a.isComponentLayout&&(d=b.ownerCtContext)){b.target.ownerLayout.isComponentLayout?++d.remainingComponentChildLayouts:++d.remainingContainerChildLayouts;++d.remainingChildLayouts}a.initialized||
a.initLayout();a.beginLayout(b)}else{++a.beginCount;if(!a.running){++this.remainingLayouts;a.running=true;if(a.isComponentLayout){b.unsetProp("done");if(d=b.ownerCtContext){b.target.ownerLayout.isComponentLayout?++d.remainingComponentChildLayouts==1&&d.unsetProp("componentChildrenDone"):++d.remainingContainerChildLayouts==1&&d.unsetProp("containerChildrenDone");++d.remainingChildLayouts==1&&d.unsetProp("childrenDone")}}this.completionQueue.remove(a);this.finalizeQueue.remove(a)}}a.beginLayoutCycle(b,
c)},run:function(){var a=false,b=100;this.flushInvalidates();this.state=1;this.totalCount=this.layoutQueue.getCount();for(this.flush();(this.remainingLayouts||this.invalidQueue.length)&&b--;){this.invalidQueue.length&&this.flushInvalidates();if(this.runCycle())a=false;else if(a){this.state=2;break}else{this.flush();a=true;this.flushLayouts("completionQueue","completeLayout")}if(!this.remainingLayouts&&!this.invalidQueue.length){this.flush();this.flushLayouts("completionQueue","completeLayout");this.flushLayouts("finalizeQueue",
"finalizeLayout")}}return this.runComplete()},runComplete:function(){this.state=2;if(this.remainingLayouts){this.handleFailure();return false}this.flush();this.flushLayouts("finishQueue","finishedLayout",true);this.flushLayouts("finishQueue","notifyOwner");this.flush();this.flushAnimations();return true},runCycle:function(){var a=this.layoutQueue.clear(),b=a.length,c;++this.cycleCount;for(c=this.progressCount=0;c<b;++c)this.runLayout(this.currentLayout=a[c]);this.currentLayout=null;return this.progressCount>
0},runLayout:function(a){var b=this.getCmp(a.owner);a.pending=false;if(!b.state.blocks){a.done=true;++a.calcCount;++this.calcCount;a.calculate(b);if(a.done){this.layoutDone(a);a.completeLayout&&this.queueCompletion(a);a.finalizeLayout&&this.queueFinalize(a)}else!a.pending&&(!a.invalid&&!(a.blockCount+a.triggerCount-a.firedTriggers))&&this.queueLayout(a)}},setItemSize:function(a,b,c){var d=a,e=1,g;if(a.isComposite){d=a.elements;e=d.length;a=d[0]}else if(!a.dom&&!a.el){e=d.length;a=d[0]}for(g=0;g<e;){a=
this.get(a);a.setSize(b,c);a=d[++g]}}});
Ext.define("Ext.draw.Matrix",{requires:["Ext.draw.Draw"],constructor:function(a,b,c,d,e,g){this.matrix=a!=null?[[a,c,e],[b,d,g],[0,0,1]]:[[1,0,0],[0,1,0],[0,0,1]]},add:function(a,b,c,d,e,g){for(var h=[[],[],[]],a=[[a,c,e],[b,d,g],[0,0,1]],b=0;b<3;b++)for(c=0;c<3;c++){for(d=e=0;d<3;d++)e=e+this.matrix[b][d]*a[d][c];h[b][c]=e}this.matrix=h},prepend:function(a,b,c,d,e,g){for(var h=[[],[],[]],a=[[a,c,e],[b,d,g],[0,0,1]],b=0;b<3;b++)for(c=0;c<3;c++){for(d=e=0;d<3;d++)e=e+a[b][d]*this.matrix[d][c];h[b][c]=
e}this.matrix=h},invert:function(){var a=this.matrix,b=a[0][0],c=a[1][0],d=a[0][1],e=a[1][1],g=a[0][2],a=a[1][2],h=b*e-c*d;return new Ext.draw.Matrix(e/h,-c/h,-d/h,b/h,(d*a-e*g)/h,(c*g-b*a)/h)},clone:function(){var a=this.matrix;return new Ext.draw.Matrix(a[0][0],a[1][0],a[0][1],a[1][1],a[0][2],a[1][2])},translate:function(a,b){this.prepend(1,0,0,1,a,b)},scale:function(a,b,c,d){b==null&&(b=a);this.add(a,0,0,b,c*(1-a),d*(1-b))},rotate:function(a,b,c){var a=Ext.draw.Draw.rad(a),d=+Math.cos(a).toFixed(9),
a=+Math.sin(a).toFixed(9);this.add(d,a,-a,d,b-d*b+a*c,-(a*b)+c-d*c)},x:function(a,b){var c=this.matrix;return a*c[0][0]+b*c[0][1]+c[0][2]},y:function(a,b){var c=this.matrix;return a*c[1][0]+b*c[1][1]+c[1][2]},get:function(a,b){return+this.matrix[a][b].toFixed(4)},toString:function(){return[this.get(0,0),this.get(0,1),this.get(1,0),this.get(1,1),0,0].join()},toSvg:function(){return"matrix("+[this.get(0,0),this.get(1,0),this.get(0,1),this.get(1,1),this.get(0,2),this.get(1,2)].join()+")"},toFilter:function(a,
b){a=a||0;b=b||0;return"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', filterType='bilinear', M11="+this.get(0,0)+", M12="+this.get(0,1)+", M21="+this.get(1,0)+", M22="+this.get(1,1)+", Dx="+(this.get(0,2)+a)+", Dy="+(this.get(1,2)+b)+")"},offset:function(){var a=this.matrix;return[(a[0][2]||0).toFixed(4),(a[1][2]||0).toFixed(4)]},split:function(){function a(a){return a[0]*a[0]+a[1]*a[1]}function b(b){var c=Math.sqrt(a(b));b[0]=b[0]/c;b[1]=b[1]/c}var c=this.matrix,d={translateX:c[0][2],
translateY:c[1][2]},c=[[c[0][0],c[0][1]],[c[1][1],c[1][1]]];d.scaleX=Math.sqrt(a(c[0]));b(c[0]);d.shear=c[0][0]*c[1][0]+c[0][1]*c[1][1];c[1]=[c[1][0]-c[0][0]*d.shear,c[1][1]-c[0][1]*d.shear];d.scaleY=Math.sqrt(a(c[1]));b(c[1]);d.shear=d.shear/d.scaleY;d.rotate=Math.asin(-c[0][1]);d.isSimple=!+d.shear.toFixed(9)&&(d.scaleX.toFixed(9)==d.scaleY.toFixed(9)||!d.rotate);return d}});
Ext.define("Ext.draw.SpriteDD",{extend:"Ext.dd.DragSource",constructor:function(a,b){var c=a.el;this.sprite=a;this.el=c;this.dragData={el:c,sprite:a};this.callParent([c,b]);this.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(){return this.el},getRegion:function(){var a=this.el,b,c,d;d=this.sprite.getBBox();try{b=Ext.Element.getXY(a)}catch(e){}if(!b)return null;a=b[0];c=a+d.width;b=b[1];return new Ext.util.Region(b,c,b+d.height,a)},startDrag:function(a,
b){this.prev=this.sprite.surface.transformToViewBox(a,b)},onDrag:function(a){var a=a.getXY(),b=this.sprite,c=b.attr,a=this.sprite.surface.transformToViewBox(a[0],a[1]);b.setAttributes({translate:{x:c.translation.x+(a[0]-this.prev[0]),y:c.translation.y+(a[1]-this.prev[1])}},true);this.prev=a},setDragElPos:function(){return false}});
Ext.define("Ext.draw.Sprite",{mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate"},requires:["Ext.draw.SpriteDD"],dirty:!1,dirtyHidden:!1,dirtyTransform:!1,dirtyPath:!0,dirtyFont:!0,zIndexDirty:!0,isSprite:!0,zIndex:0,fontProperties:"font font-size font-weight font-style font-family text-anchor text".split(" "),pathProperties:"x y d path height width radius r rx ry cx cy".split(" "),constructor:function(a){a=Ext.merge({},a||{});this.id=Ext.id(null,"ext-sprite-");this.transformations=
[];Ext.copyTo(this,a,"surface,group,type,draggable");this.bbox={};this.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}};delete a.surface;delete a.group;delete a.type;delete a.draggable;this.setAttributes(a);this.addEvents("beforedestroy","destroy","render","mousedown","mouseup","mouseover","mouseout","mousemove","click");this.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){this.draggable=true;this.el||
this.surface.createSpriteElement(this);this.dd=new Ext.draw.SpriteDD(this,Ext.isBoolean(this.draggable)?null:this.draggable);this.on("beforedestroy",this.dd.destroy,this.dd)},setAttributes:function(a,b){var c=this.fontProperties,d=c.length,e=this.pathProperties,g=e.length,h=!!this.surface,i=h&&this.surface.customAttributes||{},j=this.attr,k=false,l,a=Ext.apply({},a);for(l in i)a.hasOwnProperty(l)&&typeof i[l]=="function"&&Ext.apply(a,i[l].apply(this,[].concat(a[l])));if(!!a.hidden!==!!j.hidden)this.dirtyHidden=
true;for(i=0;i<g;i++){l=e[i];if(l in a&&a[l]!==j[l]){k=this.dirtyPath=true;break}}if("zIndex"in a)this.zIndexDirty=true;if("text"in a)k=this.dirtyFont=true;for(i=0;i<d;i++){l=c[i];if(l in a&&a[l]!==j[l]){k=this.dirtyFont=true;break}}c=a.translation||a.translate;delete a.translate;delete a.translation;d=j.translation;if(c&&("x"in c&&c.x!==d.x||"y"in c&&c.y!==d.y)){this.dirtyTransform=true;d.x=c.x;d.y=c.y}c=a.rotation||a.rotate;d=j.rotation;delete a.rotate;delete a.rotation;if(c&&("x"in c&&c.x!==d.x||
"y"in c&&c.y!==d.y||"degrees"in c&&c.degrees!==d.degrees)){this.dirtyTransform=true;d.x=c.x;d.y=c.y;d.degrees=c.degrees}c=a.scaling||a.scale;d=j.scaling;delete a.scale;delete a.scaling;if(c&&("x"in c&&c.x!==d.x||"y"in c&&c.y!==d.y||"cx"in c&&c.cx!==d.cx||"cy"in c&&c.cy!==d.cy)){this.dirtyTransform=true;d.x=c.x;d.y=c.y;d.cx=c.cx;d.cy=c.cy}if(!this.dirtyTransform&&k&&(j.scaling.x===null||j.scaling.y===null||j.rotation.y===null||j.rotation.y===null))this.dirtyTransform=true;Ext.apply(j,a);this.dirty=
true;b===true&&h&&this.redraw();return this},getBBox:function(){return this.surface.getBBox(this)},setText:function(a){return this.surface.setText(this,a)},hide:function(a){this.setAttributes({hidden:true},a);return this},show:function(a){this.setAttributes({hidden:false},a);return this},remove:function(){if(this.surface){this.surface.remove(this);return true}return false},onRemove:function(){this.surface.onRemove(this)},destroy:function(){if(this.fireEvent("beforedestroy",this)!==false){this.remove();
this.surface.onDestroy(this);this.clearListeners();this.fireEvent("destroy")}},redraw:function(){this.surface.renderItem(this);return this},setStyle:function(){this.el.setStyle.apply(this.el,arguments);return this},addCls:function(a){this.surface.addCls(this,a);return this},removeCls:function(a){this.surface.removeCls(this,a);return this}});
Ext.define("Ext.draw.engine.ImageExporter",{singleton:!0,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(a,b){var b=b||{},c=b.type;if(Ext.Array.indexOf(this.supportedTypes,c)===-1)return false;c=Ext.getBody().createChild({tag:"form",method:"POST",action:b.url||this.defaultUrl,cls:this.formCls,children:[{tag:"input",type:"hidden",name:b.widthParam||
this.widthParam,value:b.width||a.width},{tag:"input",type:"hidden",name:b.heightParam||this.heightParam,value:b.height||a.height},{tag:"input",type:"hidden",name:b.typeParam||this.typeParam,value:c},{tag:"input",type:"hidden",name:b.svgParam||this.svgParam}]});c.last(null,true).value=Ext.draw.engine.SvgExporter.generate(a);c.dom.submit();c.remove();return true}});
Ext.define("Ext.draw.engine.Svg",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http://www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,
"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},
path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(a,b){var c=this.domRef.createElementNS("http://www.w3.org/2000/svg",a),d;if(b)for(d in b)c.setAttribute(d,""+b[d]);return c},createSpriteElement:function(a){var b=this.createSvgElement(a.type);b.id=a.id;if(b.style)b.style.webkitTapHighlightColor="rgba(0,0,0,0)";a.el=Ext.get(b);this.applyZIndex(a);
a.matrix=new Ext.draw.Matrix;a.bbox={plain:0,transform:0};this.applyAttrs(a);this.applyTransformations(a);a.fireEvent("render",a);return b},getBBoxText:function(a){var b={},c,d,e,g;if(a&&a.el){g=a.el.dom;try{return b=g.getBBox()}catch(h){}b={x:b.x,y:Infinity,width:0,height:0};e=g.getNumberOfChars();for(a=0;a<e;a++){c=g.getExtentOfChar(a);b.y=Math.min(c.y,b.y);d=c.y+c.height-b.y;b.height=Math.max(b.height,d);c=c.x+c.width-b.x;b.width=Math.max(b.width,c)}return b}},hide:function(){Ext.get(this.el).hide()},
show:function(){Ext.get(this.el).show()},hidePrim:function(a){this.addCls(a,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){this.removeCls(a,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(a,b){for(var c=new Ext.draw.Matrix,d=a.transformations,e=d.length,g=0,h,i;g<e;g++){h=d[g];i=h.type;i=="translate"?c.translate(h.x,h.y):i=="rotate"?c.rotate(h.degrees,h.x,h.y):i=="scale"&&c.scale(h.x,h.y,h.centerX,
h.centerY)}a.matrix=c;b||a.el.set({transform:c.toSvg()})},setSize:function(a,b){var c=this.el,a=+a||this.width,b=+b||this.height;this.width=a;this.height=b;c.setSize(a,b);c.set({width:a,height:b});this.callParent([a,b])},getRegion:function(){var a=this.el.getXY(),b=this.bgRect.getXY(),c=Math.max,d=c(a[0],b[0]),a=c(a[1],b[1]);return{left:d,top:a,right:d+this.width,bottom:a+this.height}},onRemove:function(a){if(a.el){a.el.destroy();delete a.el}this.callParent(arguments)},setViewBox:function(a,b,c,d){if(isFinite(a)&&
isFinite(b)&&isFinite(c)&&isFinite(d)){this.callParent(arguments);this.el.dom.setAttribute("viewBox",[a,b,c,d].join(" "))}},render:function(a){var b,c,d,e;if(!this.el){b=this.width||0;c=this.height||0;b=this.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:b,height:c});c=this.getDefs();d=this.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0});Ext.isSafari3&&(e=this.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",
stroke:"#000"}));b.appendChild(c);Ext.isSafari3&&b.appendChild(e);b.appendChild(d);a.appendChild(b);this.el=Ext.get(b);this.bgRect=Ext.get(d);if(Ext.isSafari3){this.webkitRect=Ext.get(e);this.webkitRect.hide()}this.el.on({scope:this,mouseup:this.onMouseUp,mousedown:this.onMouseDown,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mousemove:this.onMouseMove,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,click:this.onClick,dblclick:this.onDblClick})}this.renderAll()},onMouseEnter:function(a){this.el.parent().getRegion().contains(a.getPoint())&&
this.fireEvent("mouseenter",a)},onMouseLeave:function(a){this.el.parent().getRegion().contains(a.getPoint())||this.fireEvent("mouseleave",a)},processEvent:function(a,b){var c=b.getTarget();this.fireEvent(a,b);if(c.nodeName=="tspan"&&c.parentNode)c=c.parentNode;(c=this.items.get(c.id))&&c.fireEvent(a,c,b)},tuneText:function(a,b){var c=[],d,e,g,h,i;if(b.hasOwnProperty("text")){c=a.tspans&&Ext.Array.map(a.tspans,function(a){return a.textContent}).join("");if(!a.tspans||b.text!=c){c=this.setText(a,b.text);
a.tspans=c}else c=a.tspans||[]}if(c.length){d=this.getBBoxText(a).height;i=a.el.dom.getAttribute("x");e=0;for(g=c.length;e<g;e++){h=Ext.isFF3_0||Ext.isFF3_5?2:4;c[e].setAttribute("x",i);c[e].setAttribute("dy",e?d*1.2:d/h)}a.dirty=true}},setText:function(a,b){for(var c=a.el.dom,d=[],e,g,h,i,j;c.firstChild;)c.removeChild(c.firstChild);j=(""+b).split("\n");h=0;for(i=j.length;h<i;h++)if(g=j[h]){e=this.createSvgElement("tspan");e.appendChild(document.createTextNode(Ext.htmlDecode(g)));c.appendChild(e);
d[h]=e}return d},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(a){if(this.el){a.el||this.createSpriteElement(a);a.zIndexDirty&&this.applyZIndex(a);if(a.dirty){this.applyAttrs(a);a.dirtyTransform&&this.applyTransformations(a)}}},redraw:function(a){a.dirty=a.zIndexDirty=true;this.renderItem(a)},applyAttrs:function(a){var b=this,c=a.el,d=a.group,e=a.attr,g=b.parsers,h=b.gradientsMap||{},i=Ext.isSafari&&!Ext.isStrict,j,k,l,m;if(d){j=[].concat(d);l=j.length;for(k=0;k<
l;k++){d=j[k];b.getGroup(d).add(a)}delete a.group}d=b.scrubAttrs(a)||{};a.bbox.plain=0;a.bbox.transform=0;if(a.type=="circle"||a.type=="ellipse"){d.cx=d.cx||d.x;d.cy=d.cy||d.y}else if(a.type=="rect")d.rx=d.ry=d.r;else if(a.type=="path"&&d.d)d.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(d.d));a.dirtyPath=false;if(d["clip-rect"]){b.setClip(a,d);delete d["clip-rect"]}a.type=="text"&&(d.font&&a.dirtyFont)&&c.set({style:"font: "+d.font});a.type=="image"&&c.dom.setAttributeNS(b.xlink,"href",
d.src);Ext.applyIf(d,b.minDefaults[a.type]);if(a.dirtyHidden){e.hidden?b.hidePrim(a):b.showPrim(a);a.dirtyHidden=false}for(m in d)if(d.hasOwnProperty(m)&&d[m]!=null){i&&("color|stroke|fill".indexOf(m)>-1&&d[m]in h)&&(d[m]=h[d[m]]);m=="hidden"&&a.type=="text"||(m in g?c.dom.setAttribute(m,g[m](d[m],a,b)):c.dom.setAttribute(m,d[m]))}a.type=="text"&&b.tuneText(a,d);a.dirtyFont=false;(e=e.style)&&c.setStyle(e);a.dirty=false;if(Ext.isSafari3){b.webkitRect.show();setTimeout(function(){b.webkitRect.hide()})}},
setClip:function(a,b){var c=b["clip-rect"],d,e;if(c){a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode);d=this.createSvgElement("clipPath");e=this.createSvgElement("rect");d.id=Ext.id(null,"ext-clip-");e.setAttribute("x",c.x);e.setAttribute("y",c.y);e.setAttribute("width",c.width);e.setAttribute("height",c.height);d.appendChild(e);this.getDefs().appendChild(d);a.el.dom.setAttribute("clip-path","url(#"+d.id+")");a.clip=e}},applyZIndex:function(a){var b=this.items,c=b.indexOf(a),d=
a.el,e;if(this.el.dom.childNodes[c+2]!==d.dom){if(c>0){do e=b.getAt(--c).el;while(!e&&c>0)}d.insertAfter(e||this.bgRect)}a.zIndexDirty=false},createItem:function(a){a=new Ext.draw.Sprite(a);a.surface=this;return a},addGradient:function(a){var a=Ext.draw.Draw.parseGradient(a),b=a.stops.length,c=a.vector,d=Ext.isSafari&&!Ext.isStrict,e,g,h;h=this.gradientsMap||{};if(d)h["url(#"+a.id+")"]=a.stops[0].color;else{if(a.type=="linear"){d=this.createSvgElement("linearGradient");d.setAttribute("x1",c[0]);d.setAttribute("y1",
c[1]);d.setAttribute("x2",c[2]);d.setAttribute("y2",c[3])}else{d=this.createSvgElement("radialGradient");d.setAttribute("cx",a.centerX);d.setAttribute("cy",a.centerY);d.setAttribute("r",a.radius);if(Ext.isNumber(a.focalX)&&Ext.isNumber(a.focalY)){d.setAttribute("fx",a.focalX);d.setAttribute("fy",a.focalY)}}d.id=a.id;this.getDefs().appendChild(d);for(g=0;g<b;g++){c=a.stops[g];e=this.createSvgElement("stop");e.setAttribute("offset",c.offset+"%");e.setAttribute("stop-color",c.color);e.setAttribute("stop-opacity",
c.opacity);d.appendChild(e)}}this.gradientsMap=h},hasCls:function(a,b){return b&&(" "+(a.el.dom.getAttribute("class")||"")+" ").indexOf(" "+b+" ")!=-1},addCls:function(a,b){var c=a.el,d,e,g,h=[],i=c.getAttribute("class")||"";if(Ext.isArray(b)){d=0;for(e=b.length;d<e;d++){g=b[d];typeof g=="string"&&(" "+i+" ").indexOf(" "+g+" ")==-1&&h.push(g)}h.length&&c.set({"class":" "+h.join(" ")})}else typeof b=="string"&&!this.hasCls(a,b)&&c.set({"class":i+" "+b})},removeCls:function(a,b){var c=a.el,d=c.getAttribute("class")||
"",e,g,h;Ext.isArray(b)||(b=[b]);if(d){h=d.replace(this.trimRe," ").split(this.spacesRe);d=0;for(g=b.length;d<g;d++){e=b[d];if(typeof e=="string"){e=e.replace(this.trimRe,"");e=Ext.Array.indexOf(h,e);e!=-1&&Ext.Array.erase(h,e,1)}}c.set({"class":h.join(" ")})}},destroy:function(){this.callParent();this.el&&this.el.remove();this._defs&&Ext.get(this._defs).destroy();this.bgRect&&Ext.get(this.bgRect).destroy();this.webkitRect&&Ext.get(this.webkitRect).destroy();delete this.el}});
Ext.define("Ext.draw.engine.SvgExporter",function(){var a=/,/g,b=/(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)\s('*.*'*)/,c=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,d=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,([\d\.]+)\)/g,e,g,h,i={path:function(b){var c=b.attr,d=c.path,e="",g,h;if(Ext.isArray(d[0])){h=d.length;for(g=0;g<h;g++)e=e+d[g].join(" ")}else e=Ext.isArray(d)?d.join(" "):d.replace(a," ");return"<path "+k({d:e,fill:c.fill||"none",stroke:c.stroke,"fill-opacity":c.opacity,"stroke-width":c["stroke-width"],
"stroke-opacity":c["stroke-opacity"],"z-index":c.zIndex,transform:b.matrix.toSvg()})+"/>"},text:function(a){var c=a.attr,d=b.exec(c.font),e=d&&d[1]||"12",d=d&&d[3]||"Arial",g=c.text,h=Ext.isFF3_0||Ext.isFF3_5?2:4,i="";a.getBBox();i=i+('<tspan x="'+(c.x||"")+'" dy="');i=i+(e/h+'">')+(Ext.htmlEncode(g)+"</tspan>");return"<text "+k({x:c.x,y:c.y,"font-size":e,"font-family":d,"font-weight":c["font-weight"],"text-anchor":c["text-anchor"],fill:c.fill||"#000","fill-opacity":c.opacity,transform:a.matrix.toSvg()})+
">"+i+"</text>"},rect:function(a){var b=a.attr;return"<rect "+k({x:b.x,y:b.y,rx:b.rx,ry:b.ry,width:b.width,height:b.height,fill:b.fill||"none","fill-opacity":b.opacity,stroke:b.stroke,"stroke-opacity":b["stroke-opacity"],"stroke-width":b["stroke-width"],transform:a.matrix&&a.matrix.toSvg()})+"/>"},circle:function(a){var b=a.attr;return"<circle "+k({cx:b.x,cy:b.y,r:b.radius,fill:b.translation.fill||b.fill||"none","fill-opacity":b.opacity,stroke:b.stroke,"stroke-opacity":b["stroke-opacity"],"stroke-width":b["stroke-width"],
transform:a.matrix.toSvg()})+" />"},image:function(a){var b=a.attr;return"<image "+k({x:b.x-(b.width/2>>0),y:b.y-(b.height/2>>0),width:b.width,height:b.height,"xlink:href":b.src,transform:a.matrix.toSvg()})+" />"}},j=function(){var a='<svg width="'+g+'px" height="'+h+'px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',b="",j,k,p,q,r,s,t,u,v,w,y,x;k=e.items.items;j=k.length;q=function(a){for(var a=a.childNodes,b=a.length,c=0,d,e,g="",h,i,j,k;c<b;c++){h=
a[c];i=h.attributes;j=h.tagName;g=g+("<"+j);e=0;for(d=i.length;e<d;e++){k=i.item(e);g=g+(" "+k.name+'="'+k.value+'"')}g=g+">";h.childNodes.length>0&&(g=g+q(h));g=g+("</"+j+">")}return g};if(e.getDefs)b=q(e.getDefs());else{if(p=e.gradientsColl){t=p.keys;u=0;v=t.length}for(;u<v;u++){r=t[u];p=e.gradientsColl.getByKey(r);var b=b+('<linearGradient id="'+r+'" x1="0" y1="0" x2="1" y2="1">'),z=p.colors.replace(c,"rgb($1|$2|$3)"),z=z.replace(d,"rgba($1|$2|$3|$4)");r=z.split(",");p=0;for(w=r.length;p<w;p++){s=
r[p].split(" ");z=Ext.draw.Color.fromString(s[1].replace(/\|/g,","));b=b+('<stop offset="'+s[0]+'" stop-color="'+z.toString()+'" stop-opacity="1"></stop>')}b=b+"</linearGradient>"}}a=a+("<defs>"+b+"</defs>")+i.rect({attr:{width:"100%",height:"100%",fill:"#fff",stroke:"none",opacity:"0"}});t=Array(j);for(p=0;p<j;p++)t[p]=p;t.sort(function(a,b){y=k[a].attr.zIndex||0;x=k[b].attr.zIndex||0;return y==x?a-b:y-x});for(p=0;p<j;p++){b=k[t[p]];b.attr.hidden||(a=a+i[b.type](b))}return a+"</svg>"},k=function(a){var b=
"",c;for(c in a)a.hasOwnProperty(c)&&a[c]!=null&&(b=b+(c+'="'+a[c]+'" '));return b};return{singleton:true,generate:function(a){e=a;g=e.width;h=e.height;return'<?xml version="1.0" standalone="yes"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+j()}}});
Ext.define("Ext.draw.engine.Vml",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Color","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s\-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/ig,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",
spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1E3,coordorigin:"0 0",zIndexShift:0,orderSpritesByZIndex:!1,path2vml:function(a){var b=this.NonVmlPathRe,c=this.map,d=this.valRe,e=this.zoom,g=this.bitesRe,h=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw),i,j,k,l;if((""+a).match(b))h=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw);else if(!(""+a).match(this.partialPathRe))return a=(""+a).replace(g,function(a,b,
g){var h=[],i=b.toLowerCase()=="m",j=c[b];g.replace(d,function(a){if(i&&h.length===2){j=j+(h+c[b=="m"?"l":"L"]);h=[]}h.push(Math.round(a*e))});return j+h});b=h(a);a=[];i=0;for(j=b.length;i<j;i++){g=b[i];h=b[i][0].toLowerCase();h=="z"&&(h="x");k=1;for(l=g.length;k<l;k++)h=h+(Math.round(g[k]*this.zoom)+(k!=l-1?",":""));a.push(h)}return a.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},
minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,
"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(a){this.fireEvent("mouseenter",a)},onMouseLeave:function(a){this.fireEvent("mouseleave",a)},processEvent:function(a,b){var c=b.getTarget();this.fireEvent(a,b);(c=this.items.get(c.id))&&c.fireEvent(a,c,b)},createSpriteElement:function(a){var b=a.attr,
c=a.type,d=this.zoom,e=a.vml||(a.vml={}),g=c==="image"?this.createNode("image"):this.createNode("shape");g.coordsize=d+" "+d;g.coordorigin=b.coordorigin||"0 0";Ext.get(g).addCls(this.spriteCls);if(c=="text"){e.path=b=this.createNode("path");b.textpathok=true;e.textpath=e=this.createNode("textpath");e.on=true;g.appendChild(e);g.appendChild(b)}g.id=a.id;a.el=Ext.get(g);a.el.setStyle("zIndex",-this.zIndexShift);this.el.appendChild(g);if(c!=="image"){c=this.createNode("skew");c.on=true;g.appendChild(c);
a.skew=c}a.matrix=new Ext.draw.Matrix;a.bbox={plain:null,transform:null};this.applyAttrs(a);this.applyTransformations(a);a.fireEvent("render",a);return a.el},getBBoxText:function(a){a=a.vml;return{x:a.X+(a.bbx||0)-a.W/2,y:a.Y-a.H/2,width:a.W,height:a.H}},applyAttrs:function(a){var b=a.group,c=a.attr,d=a.el,e=d.dom,g,h,i,j;if(b){g=[].concat(b);i=g.length;for(h=0;h<i;h++){b=g[h];this.getGroup(b).add(a)}delete a.group}b=this.scrubAttrs(a)||{};a.zIndexDirty&&this.setZIndex(a);Ext.applyIf(b,this.minDefaults[a.type]);
if(a.type=="image"){Ext.apply(a.attr,{x:b.x,y:b.y,width:b.width,height:b.height});d.setStyle({width:b.width+"px",height:b.height+"px"});e.src=b.src}if(e.href)e.href=b.href;if(e.title)e.title=b.title;if(e.target)e.target=b.target;if(e.cursor)e.cursor=b.cursor;if(a.dirtyHidden){b.hidden?this.hidePrim(a):this.showPrim(a);a.dirtyHidden=false}if(a.dirtyPath)if(a.type=="circle"||a.type=="ellipse"){g=b.x;h=b.y;i=b.rx||b.r||0;j=b.ry||b.r||0;e.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((g-
i)*this.zoom),Math.round((h-j)*this.zoom),Math.round((g+i)*this.zoom),Math.round((h+j)*this.zoom),Math.round(g*this.zoom));a.dirtyPath=false}else if(a.type!=="text"&&a.type!=="image"){a.attr.path=b.path=this.setPaths(a,b)||b.path;e.path=this.path2vml(b.path);a.dirtyPath=false}"clip-rect"in b&&this.setClip(a,b);a.type=="text"&&this.setTextAttributes(a,b);(b.opacity||b["stroke-opacity"]||b.fill)&&this.setFill(a,b);(b.stroke||b["stroke-opacity"]||b.fill)&&this.setStroke(a,b);(c=c.style)&&d.setStyle(c);
a.dirty=false},setZIndex:function(a){var b=a.attr.zIndex,c=this.zIndexShift,d,e;if(b<c){a=this.items.items;d=a.length;for(e=0;e<d;e++)if((b=a[e].attr.zIndex)&&b<c)c=b;this.zIndexShift=c;for(e=0;e<d;e++){b=a[e];b.el&&b.el.setStyle("zIndex",b.attr.zIndex-c);b.zIndexDirty=false}}else if(a.el){a.el.setStyle("zIndex",b-c);a.zIndexDirty=false}},setPaths:function(a,b){var c=a.attr;a.bbox.plain=null;a.bbox.transform=null;if(a.type=="circle"){c.rx=c.ry=b.r;return Ext.draw.Draw.ellipsePath(a)}if(a.type=="ellipse"){c.rx=
b.rx;c.ry=b.ry;return Ext.draw.Draw.ellipsePath(a)}if(a.type=="rect"){c.rx=c.ry=b.r;return Ext.draw.Draw.rectPath(a)}return a.type=="path"&&c.path?Ext.draw.Draw.pathToAbsolute(c.path):false},setFill:function(a,b){var c=a.el.dom,d=c.fill,e=false,g,h;if(!d){d=c.fill=this.createNode("fill");e=true}if(Ext.isArray(b.fill))b.fill=b.fill[0];if(b.fill=="none")d.on=false;else{if(typeof b.opacity=="number")d.opacity=b.opacity;if(typeof b["fill-opacity"]=="number")d.opacity=b["fill-opacity"];d.on=true;if(typeof b.fill==
"string")if(h=b.fill.match(this.fillUrlRe)){h=h[1];h.charAt(0)=="#"&&(g=this.gradientsColl.getByKey(h.substring(1)));if(g){h=b.rotation;h=-(g.angle+270+(h?h.degrees:0))%360;h===0&&(h=180);d.angle=h;d.type="gradient";d.method="sigma";d.colors?d.colors.value=g.colors:d.colors=g.colors}else{d.src=h;d.type="tile"}}else{d.color=Ext.draw.Color.toHex(b.fill);d.src="";d.type="solid"}}e&&c.appendChild(d)},setStroke:function(a,b){var c=a.el.dom,d=a.strokeEl,e=false,g,h;if(!d){d=a.strokeEl=this.createNode("stroke");
e=true}if(Ext.isArray(b.stroke))b.stroke=b.stroke[0];if(!b.stroke||b.stroke=="none"||b.stroke==0||b["stroke-width"]==0)d.on=false;else{d.on=true;if(b.stroke&&!b.stroke.match(this.fillUrlRe))d.color=Ext.draw.Color.toHex(b.stroke);d.dashstyle=b["stroke-dasharray"]?"dash":"solid";d.joinstyle=b["stroke-linejoin"];d.endcap=b["stroke-linecap"]||"round";d.miterlimit=b["stroke-miterlimit"]||8;g=parseFloat(b["stroke-width"]||1)*0.75;h=b["stroke-opacity"]||1;if(Ext.isNumber(g)&&g<1){d.weight=1;d.opacity=h*
g}else{d.weight=g;d.opacity=h}}e&&c.appendChild(d)},setClip:function(a,b){var c=a.clipEl,d=(""+b["clip-rect"]).split(this.separatorRe);if(!c){c=a.clipEl=this.el.insertFirst(Ext.getDoc().dom.createElement("div"));c.addCls(Ext.baseCSSPrefix+"vml-sprite")}if(d.length==4){d[2]=+d[2]+ +d[0];d[3]=+d[3]+ +d[1];c.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",d[0],d[1],d[2],d[3]));c.setSize(this.el.width,this.el.height)}else c.setStyle("clip","")},setTextAttributes:function(a,b){var c=
a.vml,d=c.textpath.style,e=this.span.style,g=this.zoom,h={fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"},i,j;if(a.dirtyFont){if(b.font)d.font=e.font=b.font;if(b["font-family"]){d.fontFamily='"'+b["font-family"].split(",")[0].replace(this.fontFamilyRe,"")+'"';e.fontFamily=b["font-family"]}for(i in h)(j=b[h[i]])&&(d[i]=e[i]=j);this.setText(a,b.text);if(c.textpath.string)this.span.innerHTML=(""+c.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br/>");
c.W=this.span.offsetWidth;c.H=this.span.offsetHeight+2;if(b["text-anchor"]=="middle")d["v-text-align"]="center";else if(b["text-anchor"]=="end"){d["v-text-align"]="right";c.bbx=-Math.round(c.W/2)}else{d["v-text-align"]="left";c.bbx=Math.round(c.W/2)}}c.X=b.x;c.Y=b.y;c.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(c.X*g),Math.round(c.Y*g),Math.round(c.X*g)+1);a.bbox.plain=null;a.bbox.transform=null;a.dirtyFont=false},setText:function(a,b){a.vml.textpath.string=Ext.htmlDecode(b)},hide:function(){this.el.hide()},
show:function(){this.el.show()},hidePrim:function(a){a.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){a.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(a,b){a=a||this.width;b=b||this.height;this.width=a;this.height=b;if(this.el){a!=void 0&&this.el.setWidth(a);b!=void 0&&this.el.setHeight(b)}this.callParent(arguments)},applyViewBox:function(){var a=this.viewBox,b=this.width,c=this.height;this.callParent();if(a&&(b||c)){a=this.items.items;b=a.length;for(c=0;c<
b;c++)this.applyTransformations(a[c])}},onAdd:function(a){this.callParent(arguments);this.el&&this.renderItem(a)},onRemove:function(a){if(a.el){a.el.remove();delete a.el}this.callParent(arguments)},render:function(a){var b=Ext.getDoc().dom,c;if(!this.createNode)try{b.namespaces.rvml||b.namespaces.add("rvml","urn:schemas-microsoft-com:vml");this.createNode=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(d){this.createNode=function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}if(!this.el){c=
b.createElement("div");this.el=Ext.get(c);this.el.addCls(this.baseVmlCls);this.span=b.createElement("span");Ext.get(this.span).addCls(this.measureSpanCls);c.appendChild(this.span);this.el.setSize(this.width||0,this.height||0);a.appendChild(c);this.el.on({scope:this,mouseup:this.onMouseUp,mousedown:this.onMouseDown,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mousemove:this.onMouseMove,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,click:this.onClick,dblclick:this.onDblClick})}this.renderAll()},
renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(a){a.dirty=true;this.renderItem(a)},renderItem:function(a){if(this.el){a.el||this.createSpriteElement(a);if(a.dirty){this.applyAttrs(a);a.dirtyTransform&&this.applyTransformations(a)}}},rotationCompensation:function(a,b,c){var d=new Ext.draw.Matrix;d.rotate(-a,0.5,0.5);return{x:d.x(b,c),y:d.y(b,c)}},transform:function(a,b){for(var c=this.getBBox(a,true),d=new Ext.draw.Matrix,e=a.transformations,g=e.length,h=0,i=a.el.dom.style,
j=a.skew,k=this.viewBoxShift,l,m;h<g;h++){l=e[h];m=l.type;m=="translate"?d.translate(l.x,l.y):m=="rotate"?d.rotate(l.degrees,l.x,l.y):m=="scale"&&d.scale(l.x,l.y,l.centerX,l.centerY)}a.matrix=d.clone();if(!b){k&&d.prepend(k.scale,0,0,k.scale,k.dx*k.scale,k.dy*k.scale);if(a.type!="image"&&j){j.origin="0,0";j.matrix=d.toString();c=d.offset();c[0]>32767?c[0]=32767:c[0]<-32768&&(c[0]=-32768);c[1]>32767?c[1]=32767:c[1]<-32768&&(c[1]=-32768);j.offset=c}else{i.filter=d.toFilter();i.left=Math.min(d.x(c.x,
c.y),d.x(c.x+c.width,c.y),d.x(c.x,c.y+c.height),d.x(c.x+c.width,c.y+c.height))+"px";i.top=Math.min(d.y(c.x,c.y),d.y(c.x+c.width,c.y),d.y(c.x,c.y+c.height),d.y(c.x+c.width,c.y+c.height))+"px"}}},createItem:function(a){return Ext.create("Ext.draw.Sprite",a)},getRegion:function(){return this.el.getRegion()},addCls:function(a,b){a&&a.el&&a.el.addCls(b)},removeCls:function(a,b){a&&a.el&&a.el.removeCls(b)},addGradient:function(a){var b=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),
c=[],d=Ext.create("Ext.util.MixedCollection"),e,g,h,i,j;d.addAll(a.stops);d.sortByKey("ASC",function(a,b){a=parseInt(a,10);b=parseInt(b,10);return a>b?1:a<b?-1:0});e=d.keys;d=d.items;g=e.length;for(j=0;j<g;j++){h=e[j];i=d[j];c.push(h+"% "+i.color)}b.add(a.id,{colors:c.join(","),angle:a.angle})},destroy:function(){this.callParent(arguments);this.el&&this.el.remove();delete this.el}});
Ext.define("Ext.util.ComponentDragger",{extend:"Ext.dd.DragTracker",autoStart:500,constructor:function(a,b){this.comp=a;this.initialConstrainTo=b.constrainTo;this.callParent([b])},onStart:function(){var a=this.comp;this.startPosition=a.el.getXY();if(a.ghost&&!a.liveDrag){this.proxy=a.ghost();this.dragTarget=this.proxy.header.el}if(this.constrain||this.constrainDelegate)this.constrainTo=this.calculateConstrainRegion();a.beginDrag&&a.beginDrag()},calculateConstrainRegion:function(){var a=this.comp,
b=this.initialConstrainTo,c;c=this.proxy?this.proxy.el:a.el;a=!this.constrainDelegate&&c.shadow&&!c.shadowDisabled?c.shadow.getShadowSize():0;b instanceof Ext.util.Region||(b=Ext.fly(b).getViewRegion());a&&b.adjust(a[0],-a[1],-a[2],a[3]);if(!this.constrainDelegate){a=Ext.fly(this.dragTarget).getRegion();c=c.getRegion();b.adjust(a.top-c.top,a.right-c.right,a.bottom-c.bottom,a.left-c.left)}return b},onDrag:function(){var a=this.proxy&&!this.comp.liveDrag?this.proxy:this.comp,b=this.getOffset(this.constrain||
this.constrainDelegate?"dragTarget":null);a.setPagePosition(this.startPosition[0]+b[0],this.startPosition[1]+b[1])},onEnd:function(){var a=this.comp;this.proxy&&!a.liveDrag&&a.unghost();a.endDrag&&a.endDrag()}});
Ext.define("Ext.window.Window",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Window",requires:["Ext.util.ComponentDragger","Ext.util.Region","Ext.EventManager"],alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,ariaRole:"alertdialog",itemCls:Ext.baseCSSPrefix+"window-item",
initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isWindow:!0,initComponent:function(){this.frame=false;this.callParent();this.addEvents("resize","maximize","minimize","restore");this.plain&&this.addClsWithUI("plain");if(this.modal)this.ariaRole="dialog";if(this.floating)this.on({element:"el",mousedown:this.onMouseDown,scope:this});this.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var a;a=this.callParent();a.tabIndex=
-1;return a},getState:function(){var a=this.callParent()||{},b=!!this.maximized;a.maximized=b;Ext.apply(a,{size:b?this.restoreSize:this.getSize(),pos:b?this.restorePos:this.getPosition()});return a},applyState:function(a){if(a)if(this.maximized=a.maximized){this.hasSavedRestore=true;this.restoreSize=a.size;this.restorePos=a.pos}else Ext.apply(this,{width:a.size.width,height:a.size.height,x:a.pos[0],y:a.pos[1]})},onMouseDown:function(a){var b;if(this.floating){Ext.fly(a.getTarget()).focusable()&&(b=
true);this.toFront(b)}},onRender:function(a,b){this.callParent(arguments);this.focusEl=this.el;if(this.maximizable)this.header.on({scope:this,dblclick:this.toggleMaximize})},afterRender:function(){var a;this.callParent();if(this.maximized){this.maximized=false;this.maximize()}if(this.closable){a=this.getKeyMap();a.on(27,this.onEsc,this)}else a=this.keyMap;a&&this.hidden&&a.disable()},initDraggable:function(){var a;this.header||this.updateHeader(true);if(this.header){a=Ext.applyIf({el:this.el,delegate:"#"+
Ext.escapeId(this.header.id)},this.draggable);if(this.constrain||this.constrainHeader){a.constrain=this.constrain;a.constrainDelegate=this.constrainHeader;a.constrainTo=this.constrainTo||this.container}this.dd=new Ext.util.ComponentDragger(this,a);this.relayEvents(this.dd,["dragstart","drag","dragend"])}},onEsc:function(a,b){if(!Ext.FocusManager||!Ext.FocusManager.enabled||Ext.FocusManager.focusedCmp===this){b.stopEvent();this.close()}},beforeDestroy:function(){if(this.rendered){delete this.animateTarget;
this.hide();Ext.destroy(this.keyMap)}this.callParent()},addTools:function(){this.callParent();this.minimizable&&this.addTool({type:"minimize",handler:Ext.Function.bind(this.minimize,this,[])});if(this.maximizable){this.addTool({type:"maximize",handler:Ext.Function.bind(this.maximize,this,[])});this.addTool({type:"restore",handler:Ext.Function.bind(this.restore,this,[]),hidden:true})}},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var a,b=this.defaultButton||this.defaultFocus;
if(b!==void 0)if(Ext.isNumber(b))a=this.query("button")[b];else if(Ext.isString(b)){b.match(this.initialAlphaNum)&&(a=this.down("#"+b));a||(a=this.down(b))}else b.focus&&(a=b);return a||this.el},onFocus:function(){var a;Ext.FocusManager&&Ext.FocusManager.enabled||(a=this.getDefaultFocus())===this?this.callParent(arguments):a.focus()},beforeLayout:function(){var a=this.el.shadow;this.callParent();a&&a.hide()},onShow:function(){this.callParent(arguments);this.expandOnShow&&this.expand(false);this.syncMonitorWindowResize();
this.keyMap&&this.keyMap.enable()},doClose:function(){if(this.hidden){this.fireEvent("close",this);this.closeAction=="destroy"&&this.destroy()}else this.hide(this.animateTarget,this.doClose,this)},afterHide:function(){this.syncMonitorWindowResize();this.keyMap&&this.keyMap.disable();this.callParent(arguments)},onWindowResize:function(){var a;if(this.maximized)this.fitContainer();else{a=this.getSizeModel();(a.width.natural||a.height.natural)&&this.updateLayout()}this.doConstrain()},minimize:function(){this.fireEvent("minimize",
this);return this},afterCollapse:function(){if(this.maximizable){this.tools.maximize.hide();this.tools.restore.hide()}this.resizer&&this.resizer.disable();this.callParent(arguments)},afterExpand:function(){this.maximized?this.tools.restore.show():this.maximizable&&this.tools.maximize.show();this.resizer&&this.resizer.enable();this.callParent(arguments)},maximize:function(){if(!this.maximized){this.expand(false);if(!this.hasSavedRestore){this.restoreSize=this.getSize();this.restorePos=this.getPosition(true)}if(this.maximizable){this.tools.maximize.hide();
this.tools.restore.show()}this.maximized=true;this.el.disableShadow();this.dd&&this.dd.disable();this.resizer&&this.resizer.disable();this.collapseTool&&this.collapseTool.hide();this.el.addCls(Ext.baseCSSPrefix+"window-maximized");this.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct");this.syncMonitorWindowResize();this.fitContainer();this.fireEvent("maximize",this)}return this},restore:function(){var a=this.tools;if(this.maximized){delete this.hasSavedRestore;this.removeCls(Ext.baseCSSPrefix+
"window-maximized");a.restore&&a.restore.hide();a.maximize&&a.maximize.show();this.collapseTool&&this.collapseTool.show();this.maximized=false;this.setPosition(this.restorePos);this.setSize(this.restoreSize);delete this.restorePos;delete this.restoreSize;this.el.enableShadow(true);this.dd&&this.dd.enable();this.resizer&&this.resizer.enable();this.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct");this.syncMonitorWindowResize();this.doConstrain();this.fireEvent("restore",this)}return this},
syncMonitorWindowResize:function(){var a=this._monitoringResize,b=this.hidden||this.destroying||this.isDestroyed;if((this.monitorResize||this.constrain||this.constrainHeader||this.maximized)&&!b){if(!a){Ext.EventManager.onWindowResize(this.onWindowResize,this);this._monitoringResize=true}}else if(a){Ext.EventManager.removeResizeListener(this.onWindowResize,this);this._monitoringResize=false}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}});
Ext.define("Ext.toolbar.TextItem",{extend:"Ext.toolbar.Item",requires:["Ext.XTemplate"],alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){this.callParent();Ext.apply(this.renderData,{text:this.text})},setText:function(a){if(this.rendered){this.el.update(a);this.updateLayout()}else this.text=a}});
Ext.define("Ext.grid.LockingView",{mixins:{observable:"Ext.util.Observable"},eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell)/,constructor:function(a){var b=[],c=this.eventRelayRe,d=a.locked.getView(),e=a.normal.getView(),g;Ext.apply(this,{lockedView:d,normalView:e,lockedGrid:a.locked,normalGrid:a.normal,panel:a.panel});this.mixins.observable.constructor.call(this,a);a=d.events;for(g in a)a.hasOwnProperty(g)&&c.test(g)&&b.push(g);this.relayEvents(d,b);this.relayEvents(e,b);e.on({scope:this,
itemmouseleave:this.onItemMouseLeave,itemmouseenter:this.onItemMouseEnter});d.on({scope:this,itemmouseleave:this.onItemMouseLeave,itemmouseenter:this.onItemMouseEnter})},getGridColumns:function(){return this.lockedGrid.headerCt.getGridColumns().concat(this.normalGrid.headerCt.getGridColumns())},getEl:function(a){return this.getViewForColumn(a).getEl()},getViewForColumn:function(a){var b=this.lockedView,c;b.headerCt.cascade(function(b){if(b===a){c=true;return false}});return c?b:this.normalView},onItemMouseEnter:function(a,
b){var c=this.lockedView,d=this.normalView;if(a.trackOver){a!==c&&(d=c);c=d.getNode(b);d.highlightItem(c)}},onItemMouseLeave:function(a){var b=this.lockedView,c=this.normalView;if(a.trackOver){a!==b&&(c=b);c.clearHighlight()}},relayFn:function(a,b){var b=b||[],c=this.lockedView;c[a].apply(c,b||[]);c=this.normalView;c[a].apply(c,b||[])},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(a){return this.normalView.getNode(a)},
getCell:function(a,b){var c;c=this.getViewForColumn(b).getNode(a);return Ext.fly(c).down(b.getCellSelector())},getRecord:function(a){var b=this.lockedView.getRecord(a);a||(b=this.normalView.getRecord(a));return b},addElListener:function(a,b,c){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",
arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)}});
Ext.define("Ext.grid.Lockable",{requires:["Ext.grid.LockingView","Ext.view.Table"],syncRowHeight:!0,headerCounter:0,scrollDelta:40,unlockText:"Unlock",lockText:"Lock",determineXTypeToCreate:function(){var a,b,c;if(this.subGridXType)a=this.subGridXType;else{b=this.getXTypes().split("/");c=b.length;a=b[c-1];b=b[c-2];a=b!=="tablepanel"?b:a}return a},injectLockable:function(){this.hasView=this.lockable=true;var a=Ext.getScrollbarSize().width===0,b=this.store=Ext.StoreManager.lookup(this.store),c=this.determineXTypeToCreate(),
d=this.getSelectionModel(),e,g,h,i,j,k;e=this.constructFeatures();this.cloneFeatures();g=this.constructFeatures();h=this.constructPlugins();this.clonePlugins();i=this.constructPlugins();delete this.features;delete this.plugins;j=0;for(k=e?e.length:0;j<k;j++){e[j].lockingPartner=g[j];g[j].lockingPartner=e[j]}e=Ext.apply({xtype:c,store:b,scrollerOwner:false,enableAnimations:false,scroll:a?"vertical":false,selModel:d,border:false,cls:Ext.baseCSSPrefix+"grid-inner-locked",isLayoutRoot:function(){return false},
features:e,plugins:h},this.lockedGridConfig);b=Ext.apply({xtype:c,store:b,scrollerOwner:false,enableAnimations:false,selModel:d,border:false,isLayoutRoot:function(){return false},features:g,plugins:i},this.normalGridConfig);this.addCls(Ext.baseCSSPrefix+"grid-locked");Ext.copyTo(b,this,this.bothCfgCopy);Ext.copyTo(e,this,this.bothCfgCopy);Ext.copyTo(b,this,this.normalCfgCopy);Ext.copyTo(e,this,this.lockedCfgCopy);for(j=0;j<this.normalCfgCopy.length;j++)delete this[this.normalCfgCopy[j]];for(j=0;j<
this.lockedCfgCopy.length;j++)delete this[this.lockedCfgCopy[j]];this.addEvents("lockcolumn","unlockcolumn");this.addStateEvents(["lockcolumn","unlockcolumn"]);this.lockedHeights=[];this.normalHeights=[];j=this.processColumns(this.columns);e.width=j.lockedWidth+Ext.num(d.headerWidth,0);e.columns=j.locked;b.columns=j.normal;b.flex=1;e.viewConfig=this.lockedViewConfig||{};e.viewConfig.loadingUseMsg=false;b.viewConfig=this.normalViewConfig||{};Ext.applyIf(e.viewConfig,this.viewConfig);Ext.applyIf(b.viewConfig,
this.viewConfig);this.lockedGrid=Ext.ComponentManager.create(e);d=this.lockedGrid.getView();b.viewConfig.lockingPartner=d;this.normalGrid=Ext.ComponentManager.create(b);j=this.normalGrid.getView();this.view=new Ext.grid.LockingView({locked:this.lockedGrid,normal:this.normalGrid,panel:this});b={scroll:{fn:this.onLockedViewScroll,element:"el",scope:this}};if(!a)b.mousewheel={fn:this.onLockedViewMouseWheel,element:"el",scope:this};if(this.syncRowHeight){b.refresh=this.onLockedViewRefresh;b.itemupdate=
this.onLockedViewItemUpdate;b.scope=this}d.on(b);b={scroll:{fn:this.onNormalViewScroll,element:"el",scope:this},refresh:this.syncRowHeight?this.onNormalViewRefresh:this.updateSpacer,scope:this};j.on(b);a=this.lockedGrid.headerCt;d=this.normalGrid.headerCt;a.lockedCt=true;a.lockableInjected=true;d.lockableInjected=true;a.on({columnshow:this.onLockedHeaderShow,columnhide:this.onLockedHeaderHide,columnmove:this.onLockedHeaderMove,sortchange:this.onLockedHeaderSortChange,columnresize:this.onLockedHeaderResize,
scope:this});d.on({columnmove:this.onNormalHeaderMove,sortchange:this.onNormalHeaderSortChange,scope:this});this.modifyHeaderCt();this.items=[this.lockedGrid,this.normalGrid];this.relayHeaderCtEvents(a);this.relayHeaderCtEvents(d);this.layout={type:"hbox",align:"stretch"}},processColumns:function(a){for(var b=0,c=a.length,d=0,e=[],g=[],h;b<c;++b){h=a[b];h.isComponent||(h=Ext.apply({},a[b]));h.processed=true;if(h.locked){h.flex&&Ext.Error.raise("Columns which are locked do NOT support a flex width. You must set a width on the "+
a[b].text+"column.");h.hidden||(d=d+(h.width||Ext.grid.header.Container.prototype.defaultWidth));e.push(h)}else g.push(h);if(!h.headerId)h.headerId=(h.initialConfig||h).id||"L"+ ++this.headerCounter}return{lockedWidth:d,locked:{items:e,itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt"},normal:{items:g,itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt"}}},onLockedViewMouseWheel:function(a){var b=-this.scrollDelta*a.getWheelDeltas().y,c=this.lockedGrid.getView().el.dom,d,
e;if(c){d=c.scrollTop!==c.scrollHeight-c.clientHeight;e=c.scrollTop!==0}if(b<0&&e||b>0&&d){a.stopEvent();this.scrolling=true;c.scrollTop=c.scrollTop+b;this.normalGrid.getView().el.dom.scrollTop=c.scrollTop;this.scrolling=false;this.onNormalViewScroll()}},onLockedViewScroll:function(){var a=this.lockedGrid.getView(),b=this.normalGrid.getView();if(!this.scrolling){this.scrolling=true;b.el.dom.scrollTop=a.el.dom.scrollTop;if(this.store.buffered){a=a.el.child("table",true);b.el.child("table",true);a.style.position=
"absolute"}this.scrolling=false}},onNormalViewScroll:function(){var a=this.lockedGrid.getView(),b=this.normalGrid.getView();if(!this.scrolling){this.scrolling=true;a.el.dom.scrollTop=b.el.dom.scrollTop;if(this.store.buffered){a=a.el.child("table",true);b=b.el.child("table",true);a.style.position="absolute";a.style.top=b.style.top}this.scrolling=false}},onLockedHeaderMove:function(){if(this.syncRowHeight)this.onNormalViewRefresh()},onNormalHeaderMove:function(){if(this.syncRowHeight)this.onLockedViewRefresh()},
updateSpacer:function(){var a=this.lockedGrid.getView().el,b=this.normalGrid.getView().el.dom,c=a.dom.id+"-spacer",b=b.offsetHeight-b.clientHeight+"px";(this.spacerEl=Ext.getDom(c))?this.spacerEl.style.height=b:Ext.core.DomHelper.append(a,{id:c,style:"height: "+b})},onLockedViewRefresh:function(){if(this.normalGrid.headerCt.getGridColumns().length){var a=this.lockedGrid.getView(),a=a.el.query(a.getItemSelector()),b=a.length,c=0;for(this.lockedHeights=[];c<b;c++)this.lockedHeights[c]=a[c].offsetHeight;
this.syncRowHeights();this.updateSpacer()}},onNormalViewRefresh:function(){if(this.lockedGrid.headerCt.getGridColumns().length){var a=this.normalGrid.getView(),a=a.el.query(a.getItemSelector()),b=a.length,c=0;for(this.normalHeights=[];c<b;c++)this.normalHeights[c]=a[c].offsetHeight;this.syncRowHeights();this.updateSpacer()}},onLockedViewItemUpdate:function(a,b,c){if(this.normalGrid.headerCt.getGridColumns().length){this.lockedHeights[b]=c.offsetHeight;this.syncRowHeights()}},onNormalViewItemUpdate:function(a,
b,c){if(this.lockedGrid.headerCt.getGridColumns().length){this.normalHeights[b]=c.offsetHeight;this.syncRowHeights()}},syncRowHeights:function(){var a=this.lockedHeights,b=this.normalHeights,c=a.length,d=0,e,g,h,i;if(a.length&&b.length){e=this.lockedGrid.getView();g=this.normalGrid.getView();h=e.el.query(e.getItemSelector());for(i=g.el.query(g.getItemSelector());d<c;d++)!isNaN(a[d])&&!isNaN(b[d])&&(a[d]>b[d]?Ext.fly(i[d]).setHeight(a[d]):a[d]<b[d]&&Ext.fly(h[d]).setHeight(b[d]));a=g.el.dom.scrollTop;
g.el.dom.scrollTop=a;e.el.dom.scrollTop=a;this.lockedHeights=[];this.normalHeights=[]}},modifyHeaderCt:function(){this.lockedGrid.headerCt.getMenuItems=this.getMenuItems(this.lockedGrid.headerCt.getMenuItems,true);this.normalGrid.headerCt.getMenuItems=this.getMenuItems(this.normalGrid.headerCt.getMenuItems,false)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},getMenuItems:function(a,b){var c=this.unlockText,d=this.lockText,e=Ext.baseCSSPrefix+"hmenu-unlock",g=
Ext.baseCSSPrefix+"hmenu-lock",h=Ext.Function.bind(this.onUnlockMenuClick,this),i=Ext.Function.bind(this.onLockMenuClick,this);return function(){var j=a.call(this);j.push("-",{cls:e,text:c,handler:h,disabled:!b});j.push({cls:g,text:d,handler:i,disabled:b});return j}},lock:function(a,b){var c=this.normalGrid.headerCt,d=this.lockedGrid.headerCt,a=a||c.getMenu().activeHeader;if(a.flex){a.width=a.getWidth();delete a.flex}Ext.suspendLayouts();a.ownerCt.remove(a,false);a.locked=true;Ext.isDefined(b)?d.insert(b,
a):d.add(a);this.syncLockedSection();Ext.resumeLayouts(true);this.updateSpacer();this.fireEvent("lockcolumn",this,a)},syncLockedSection:function(){this.syncLockedWidth();this.lockedGrid.getView().refresh();this.normalGrid.getView().refresh()},syncLockedWidth:function(){var a=this.lockedGrid,b=a.headerCt.getFullWidth(true);Ext.suspendLayouts();if(b>0){a.setWidth(b);a.show()}else a.hide();Ext.resumeLayouts(true);return b>0},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},
onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(a,b,c){c&&this.normalGrid.headerCt.clearOtherSortStates(null,true)},onNormalHeaderSortChange:function(a,b,c){c&&this.lockedGrid.headerCt.clearOtherSortStates(null,true)},unlock:function(a,b){var c=this.normalGrid.headerCt,d=this.lockedGrid.headerCt,e=false;Ext.isDefined(b)||(b=0);a=a||d.getMenu().activeHeader;Ext.suspendLayouts();a.ownerCt.remove(a,false);this.syncLockedWidth()&&(e=true);a.locked=false;c.insert(b,
a);this.normalGrid.getView().refresh();e&&this.lockedGrid.getView().refresh();Ext.resumeLayouts(true);this.fireEvent("unlockcolumn",this,a)},applyColumnsState:function(a){var b=this.lockedGrid,c=b.headerCt,d=this.normalGrid.headerCt,e=Ext.Array.toMap(c.items,"headerId"),g=Ext.Array.toMap(d.items,"headerId"),h=[],i=[],j=1,k=a.length,l,m,n,o;for(l=0;l<k;l++){o=a[l];if(m=(n=e[o.id])||g[o.id]){m.applyColumnState&&m.applyColumnState(o);if(m.locked===void 0)m.locked=!!n;if(m.locked){h.push(m);!m.hidden&&
typeof m.width=="number"&&(j=j+m.width)}else i.push(m)}}if(h.length+i.length==c.items.getCount()+d.items.getCount()){c.removeAll(false);d.removeAll(false);c.add(h);d.add(i);b.setWidth(j)}},getColumnsState:function(){var a=this.lockedGrid.headerCt.getColumnsState(),b=this.normalGrid.headerCt.getColumnsState();return a.concat(b)},reconfigureLockable:function(a,b){var c=this.lockedGrid,d=this.normalGrid;if(b){Ext.suspendLayouts();c.headerCt.removeAll();d.headerCt.removeAll();b=this.processColumns(b);
c.setWidth(b.lockedWidth);c.headerCt.add(b.locked.items);d.headerCt.add(b.normal.items);Ext.resumeLayouts(true)}if(a){this.store=a=Ext.data.StoreManager.lookup(a);c.bindStore(a);d.bindStore(a)}else{c.getView().refresh();d.getView().refresh()}},cloneFeatures:function(){var a=this.features,b,c=0,d;if(a)for(d=a.length;c<d;c++){b=a[c];b.isFeature&&(a[c]=b.clone())}},clonePlugins:function(){var a=this.plugins,b,c=0,d;if(a)for(d=a.length;c<d;c++){b=a[c];typeof b.init==="function"&&(a[c]=b.clone())}}},function(){this.borrow(Ext.view.Table,
["constructFeatures"]);this.borrow(Ext.AbstractComponent,["constructPlugins","constructPlugin"])});
Ext.define("Ext.grid.PagingScroller",{percentageFromEdge:0.35,numFromEdge:2,trailingBufferZone:5,leadingBufferZone:15,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,tableStart:0,tableEnd:0,constructor:function(a){this.variableRowHeight=a.variableRowHeight;this.bindView(a.view);Ext.apply(this,a);this.callParent(arguments)},bindView:function(a){var b=this,c={scroll:{fn:b.onViewScroll,element:"el",scope:b},render:b.onViewRender,resize:b.onViewResize,boxready:{fn:b.onViewResize,scope:b,single:true},beforerefresh:b.beforeViewRefresh,
refresh:b.onViewRefresh,scope:b},d={guaranteedrange:b.onGuaranteedRange,scope:b},e={reconfigure:b.onGridReconfigure,scope:b},g;if(b.view){b.view.el&&b.view.el.un("scroll",b.onViewScroll,b);(g=a.lockingPartner)&&g.un("refresh",b.onLockRefresh,b);b.view.un(c);b.store.un(d);b.grid&&b.grid.un(e);delete b.view.refreshSize}b.view=a;b.grid=b.view.up("tablepanel");b.store=a.store;if(a.rendered)b.viewSize=b.store.viewSize=Math.ceil(a.getHeight()/b.rowHeight)+b.trailingBufferZone+b.numFromEdge*2+b.leadingBufferZone;
if(g=a.lockingPartner)g.on("refresh",b.onLockRefresh,b);b.view.mon(b.store.pageMap,{scope:b,clear:b.onCacheClear});b.view.refreshSize=Ext.Function.createInterceptor(b.view.refreshSize,b.beforeViewrefreshSize,b);b.position=0;if(b.grid)b.grid.on(e);else b.view.on({added:function(){b.grid=b.view.up("tablepanel");b.grid.on(e)},single:true});b.view.on(b.viewListeners=c);b.store.on(d)},onCacheClear:function(){if(this.view.rendered&&!this.store.isDestroyed){this.ignoreNextScrollEvent=this.view.el.dom.scrollTop!==
0;this.view.el.dom.scrollTop=0;delete this.lastScrollDirection;delete this.scrollOffset;delete this.scrollProportion}},onGridReconfigure:function(a){this.bindView(a.view)},onViewRender:function(){var a=this.view,b;this.stretcher=this.createStretcher(a);if(a=a.lockingPartner){b=this.stretcher;this.stretcher=new Ext.CompositeElement(b);this.stretcher.add(this.createStretcher(a))}},createStretcher:function(a){a=a.el;a.setStyle("position","relative");return a.createChild({style:{position:"absolute",width:"1px",
height:0,top:0,left:0}},a.dom.firstChild)},onViewResize:function(a,b,c){a=Math.ceil(c/this.rowHeight)+this.trailingBufferZone+this.numFromEdge*2+this.leadingBufferZone;if(a>this.viewSize){this.viewSize=this.store.viewSize=a;this.handleViewScroll(this.lastScrollDirection||1)}},beforeViewRefresh:function(){var a=this.view,b,c;this.focusOnRefresh=Ext.Element.getActiveElement===a.el.dom;if(this.variableRowHeight){c=this.lastScrollDirection;this.commonRecordIndex=void 0;if(c&&this.previousStart!==void 0&&
this.scrollProportion===void 0&&(b=a.getNodes()).length){if(c===1){if(this.tableStart<=this.previousEnd)this.commonRecordIndex=b.length-1}else if(c===-1&&this.tableEnd>=this.previousStart)this.commonRecordIndex=0;this.scrollOffset=-a.el.getOffsetsTo(b[this.commonRecordIndex])[1];this.commonRecordIndex=this.commonRecordIndex-(this.tableStart-this.previousStart)}else this.scrollOffset=void 0}},onLockRefresh:function(a){a.table.dom.style.position="absolute"},onViewRefresh:function(){var a=this.store,
b,c=this.view,d=c.el,e=d.dom,g=c.table.dom;if(this.focusOnRefresh){d.focus();this.focusOnRefresh=false}this.disabled=true;if(a.getCount()===a.getTotalCount()||a.isFiltered()&&!a.remoteFilter){this.stretcher.setHeight(0);this.position=e.scrollTop=0;this.setTablePosition("absolute")}else{this.stretcher.setHeight(b=this.getScrollHeight());a=e.scrollTop;this.isScrollRefresh=a>0;if(this.scrollProportion!==void 0){this.setTablePosition("absolute");this.setTableTop((this.scrollProportion?b*this.scrollProportion-
g.offsetHeight*this.scrollProportion:0)+"px")}else{this.setTablePosition("absolute");this.setTableTop((b=(this.tableStart||0)*this.rowHeight)+"px");if(this.scrollOffset){c=c.getNodes();d=-d.getOffsetsTo(c[this.commonRecordIndex])[1];d=d-this.scrollOffset;this.position=e.scrollTop=e.scrollTop+d}else if(b>a||b+g.offsetHeight<a+e.clientHeight){this.lastScrollDirection=-1;this.position=e.scrollTop=b}}this.disabled=false}},setTablePosition:function(a){this.setViewTableStyle(this.view,"position",a)},setTableTop:function(a){this.setViewTableStyle(this.view,
"top",a)},setViewTableStyle:function(a,b,c){a.el.child("table",true).style[b]=c;(a=a.lockingPartner)&&(a.el.child("table",true).style[b]=c)},beforeViewrefreshSize:function(){if(this.isScrollRefresh){this.view.table.attach(this.view.el.child("table",true));return this.isScrollRefresh=false}},onGuaranteedRange:function(a,b,c){var d=this.store;if(!(a.length&&this.visibleStart<a[0].index)){this.previousStart=this.tableStart;this.previousEnd=this.tableEnd;this.tableStart=b;this.tableEnd=c;d.loadRecords(a,
{start:b})}},onViewScroll:function(){var a=this.position;this.position=this.view.el.dom.scrollTop;if(this.ignoreNextScrollEvent)this.ignoreNextScrollEvent=false;else if(!this.disabled){this.lastScrollDirection=this.position>a?1:-1;a!==this.position&&this.handleViewScroll(this.lastScrollDirection)}},handleViewScroll:function(a){var b=this.store,c=this.view,d=this.viewSize,e=b.getTotalCount(),g=e-d,h=this.getFirstVisibleRowIndex(),i=this.getLastVisibleRowIndex(),c=c.el.dom,j;if(e>=d){this.scrollProportion=
void 0;if(a==-1){if(this.tableStart)if(h!==void 0)h<this.tableStart+this.numFromEdge&&(j=Math.max(0,i+this.trailingBufferZone-d));else{this.scrollProportion=c.scrollTop/(c.scrollHeight-c.clientHeight);j=Math.max(0,e*this.scrollProportion-d/2-this.numFromEdge-(this.leadingBufferZone+this.trailingBufferZone)/2)}}else if(h!==void 0)i>this.tableEnd-this.numFromEdge&&(j=Math.max(0,h-this.trailingBufferZone));else{this.scrollProportion=c.scrollTop/(c.scrollHeight-c.clientHeight);j=e*this.scrollProportion-
d/2-this.numFromEdge-(this.leadingBufferZone+this.trailingBufferZone)/2}if(j!==void 0){if(j>g){j=g&-2;a=e-1}else{j=j&-2;a=j+d-1}if(b.rangeCached(j,a)){this.cancelLoad();b.guaranteeRange(j,a)}else this.attemptLoad(j,a)}}},getFirstVisibleRowIndex:function(){var a=this.view,b=a.el.dom.scrollTop,c,d,e;if(this.variableRowHeight){b=a.getNodes();if(c=b.length){e=Ext.fly(b[0]).getOffsetsTo(a.el)[1];for(d=0;d<c;d++){e=e+b[d].offsetHeight;if(e>a.el.dom.clientHeight)break;if(e>0)return a.getRecord(b[d]).index}}}else return Math.floor(b/
this.rowHeight)},getLastVisibleRowIndex:function(){var a=this.store,b=this.view,c=b.el.dom.clientHeight,d,e;if(this.variableRowHeight){d=b.getNodes();if(d.length){e=a.getCount()-1;for(a=Ext.fly(d[e]).getOffsetsTo(b.el)[1]+d[e].offsetHeight;e>=0;e--){a=a-d[e].offsetHeight;if(a<0)break;if(a<c)return b.getRecord(d[e]).index}}}else return this.getFirstVisibleRowIndex()+Math.ceil(c/this.rowHeight)+1},getScrollHeight:function(){var a=this.view,b,c=this.store,d=0;b=!this.hasOwnProperty("rowHeight");if(this.variableRowHeight){a=
this.view.table.dom;if(b){this.initialTableHeight=a.offsetHeight;this.rowHeight=this.initialTableHeight/this.store.getCount()}else{d=a.offsetHeight-this.initialTableHeight;c.getCount()>this.viewSize&&(d=d-this.rowHeight)}}else if(b)if(b=a.el.down(a.getItemSelector()))this.rowHeight=b.getHeight(false,true);return Math.floor(c.getTotalCount()*this.rowHeight)+d},attemptLoad:function(a,b){if(this.scrollToLoadBuffer){if(!this.loadTask)this.loadTask=new Ext.util.DelayedTask(this.doAttemptLoad,this,[]);
this.loadTask.delay(this.scrollToLoadBuffer,this.doAttemptLoad,this,[a,b])}else this.store.guaranteeRange(a,b)},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(a,b){this.store.guaranteeRange(a,b)},destroy:function(){var a=this.viewListeners.scroll;this.store.un({guaranteedrange:this.onGuaranteedRange,scope:this});this.view.un(this.viewListeners);if(this.view.rendered){this.stretcher.remove();this.view.el.un("scroll",a.fn,a.scope)}}});
Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:"Ext.layout.component.Auto",type:"body",beginLayout:function(a){this.callParent(arguments);a.bodyContext=a.getEl("body")},calculateOwnerHeightFromContentHeight:function(a,b){var c=this.callParent(arguments);a.targetContext!=a&&(c=c+a.getPaddingInfo().height);return c},calculateOwnerWidthFromContentWidth:function(a,b){var c=this.callParent(arguments);a.targetContext!=a&&(c=c+a.getPaddingInfo().width);return c},measureContentWidth:function(a){return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth,
false)},measureContentHeight:function(a){return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight,false)},publishInnerHeight:function(a,b){var c=b-a.getFrameInfo().height;a.targetContext!=a&&(c=c-a.getPaddingInfo().height);return a.bodyContext.setHeight(c,!a.heightModel.natural)},publishInnerWidth:function(a,b){var c=b-a.getFrameInfo().width;a.targetContext!=a&&(c=c-a.getPaddingInfo().width);a.bodyContext.setWidth(c,!a.widthModel.natural)}});
Ext.define("Ext.layout.container.Fit",{extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:!0,sizePolicies:{"0":{setsWidth:0,setsHeight:0},1:{setsWidth:1,setsHeight:0},2:{setsWidth:0,setsHeight:1},3:{setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a,b){var c=b||this.owner.getSizeModel();return this.sizePolicies[(c.width.shrinkWrap?
0:1)|(c.height.shrinkWrap?0:2)]},beginLayoutCycle:function(a,b){var c=this.lastHeightModel&&this.lastHeightModel.calculated,d=this.lastWidthModel&&this.lastWidthModel.calculated,e=d||c,g=0,h=0,i,j,k,l,m,n,o;this.callParent(arguments);e&&a.targetContext.el.dom.tagName.toUpperCase()!="TD"&&(e=d=c=false);j=a.childItems;m=j.length;for(k=0;k<m;++k){l=j[k];if(b){i=l.target;n=i.minHeight;if((o=i.minWidth)||n){i=l.marginInfo||l.getMarginInfo();n=n+i.height;o=o+i.height;g<n&&(g=n);h<o&&(h=o)}}if(e){l=l.el.dom.style;
if(c)l.height="";if(d)l.width=""}}if(b){a.maxChildMinHeight=g;a.maxChildMinWidth=h}i=a.target;a.overflowX=!a.widthModel.shrinkWrap&&a.maxChildMinWidth&&(i.autoScroll||i.overflowX)||void 0;a.overflowY=!a.heightModel.shrinkWrap&&a.maxChildMinHeight&&(i.autoScroll||i.overflowY)||void 0},calculate:function(a){var b=a.childItems,c=b.length,d=this.getContainerSize(a),e={length:c,ownerContext:a,targetSize:d},g=a.widthModel.shrinkWrap,h=a.heightModel.shrinkWrap,i=a.overflowX,j=a.overflowY,k,l,m;if(i||j)if(k=
this.getScrollbarsNeeded(i&&d.width,j&&d.height,a.maxChildMinWidth,a.maxChildMinHeight)){l=Ext.getScrollbarSize();if(k&1)d.height=d.height-l.height;if(k&2)d.width=d.width-l.width}for(m=0;m<c;++m){e.index=m;this.fitItem(b[m],e)}if(h||g){b=a.targetContext.getPaddingInfo();if(g)if(j&&!d.gotHeight)this.done=false;else{g=e.contentWidth+b.width;k&2&&(g=g+l.width);if(!a.setContentWidth(g))this.done=false}if(h)if(i&&!d.gotWidth)this.done=false;else{d=e.contentHeight+b.height;k&1&&(d=d+l.height);if(!a.setContentHeight(d))this.done=
false}}},fitItem:function(a,b){if(a.invalid)this.done=false;else{b.margins=a.getMarginInfo();b.needed=b.got=0;this.fitItemWidth(a,b);this.fitItemHeight(a,b);if(b.got!=b.needed)this.done=false}},fitItemWidth:function(a,b){var c,d;if(b.ownerContext.widthModel.shrinkWrap){d=a.getProp("width")+b.margins.width;c=b.contentWidth;b.contentWidth=c===void 0?d:Math.max(c,d)}else if(a.widthModel.calculated){++b.needed;if(b.targetSize.gotWidth){++b.got;this.setItemWidth(a,b)}}this.positionItemX(a,b)},fitItemHeight:function(a,
b){var c,d;if(b.ownerContext.heightModel.shrinkWrap){d=a.getProp("height")+b.margins.height;c=b.contentHeight;b.contentHeight=c===void 0?d:Math.max(c,d)}else if(a.heightModel.calculated){++b.needed;if(b.targetSize.gotHeight){++b.got;this.setItemHeight(a,b)}}this.positionItemY(a,b)},positionItemX:function(a,b){var c=b.margins;(b.index||c.left)&&a.setProp("x",c.left);c.width&&a.setProp("margin-right",c.width)},positionItemY:function(a,b){var c=b.margins;(b.index||c.top)&&a.setProp("y",c.top);c.height&&
a.setProp("margin-bottom",c.height)},setItemHeight:function(a,b){a.setHeight(b.targetSize.height-b.margins.height)},setItemWidth:function(a,b){a.setWidth(b.targetSize.width-b.margins.width)}});
Ext.define("Ext.menu.Item",{extend:"Ext.Component",alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:!0,clickHideDelay:1,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,isMenuItem:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',
"{text}","<tpl else>",'<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on">','<img id="{id}-iconEl" src="{icon}" class="'+Ext.baseCSSPrefix+'menu-item-icon {iconCls}" />','<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}" />',"</a>","</tpl>"],maskOnDisable:!1,
activate:function(){if(!this.activated&&this.canActivate&&this.rendered&&!this.isDisabled()&&this.isVisible()){this.el.addCls(this.activeCls);this.focus();this.activated=true;this.fireEvent("activate",this)}},getFocusEl:function(){return this.itemEl},deactivate:function(){if(this.activated){this.el.removeCls(this.activeCls);this.blur();this.hideMenu();this.activated=false;this.fireEvent("deactivate",this)}},deferExpandMenu:function(){if(this.activated&&(!this.menu.rendered||!this.menu.isVisible())){this.parentMenu.activeChild=
this.menu;this.menu.parentItem=this;this.menu.parentMenu=this.menu.ownerCt=this.parentMenu;this.menu.showBy(this,this.menuAlign)}},deferHideMenu:function(){this.menu.isVisible()&&this.menu.hide()},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var a;Ext.menu.Manager.hideAll();if(!Ext.Element.getActiveElement())(a=this.up(":not([hidden])"))&&a.focus()},expandMenu:function(a){if(this.menu){this.cancelDeferHide();a===0?this.deferExpandMenu():this.expandMenuTimer=
Ext.defer(this.deferExpandMenu,Ext.isNumber(a)?a:this.menuExpandDelay,this)}},getRefItems:function(a){var b=this.menu,c;if(b){c=b.getRefItems(a);c.unshift(b)}return c||[]},hideMenu:function(a){if(this.menu){clearTimeout(this.expandMenuTimer);this.hideMenuTimer=Ext.defer(this.deferHideMenu,Ext.isNumber(a)?a:this.menuHideDelay,this)}},initComponent:function(){var a=Ext.baseCSSPrefix,b=[a+"menu-item"];this.addEvents("activate","click","deactivate");this.plain&&b.push(a+"menu-item-plain");this.cls&&b.push(this.cls);
this.cls=b.join(" ");if(this.menu){a=this.menu;delete this.menu;this.setMenu(a)}this.callParent(arguments)},onClick:function(a){this.href||a.stopEvent();if(!this.disabled){if(this.hideOnClick)this.deferHideParentMenusTimer=Ext.defer(this.deferHideParentMenus,this.clickHideDelay,this);Ext.callback(this.handler,this.scope||this,[this,a]);this.fireEvent("click",this,a);this.hideOnClick||this.focus()}},onRemoved:function(){this.activated&&this.parentMenu.activeItem===this&&this.parentMenu.deactivateActiveItem();
this.callParent(arguments);delete this.parentMenu;delete this.ownerButton},beforeDestroy:function(){this.rendered&&this.clearTip();this.callParent()},onDestroy:function(){clearTimeout(this.expandMenuTimer);this.cancelDeferHide();clearTimeout(this.deferHideParentMenusTimer);this.setMenu(null);this.callParent(arguments)},beforeRender:function(){var a=Ext.BLANK_IMAGE_URL,b,c;this.callParent();if(this.iconAlign==="right"){b=this.checkChangeDisabled?this.disabledCls:"";c=Ext.baseCSSPrefix+"menu-item-icon-right "+
this.iconCls}else{b=this.iconCls+(this.checkChangeDisabled?" "+this.disabledCls:"");c=this.menu?this.arrowCls:""}Ext.applyIf(this.renderData,{href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon||a,iconCls:b,plain:this.plain,text:this.text,arrowCls:c,blank:a})},onRender:function(){this.callParent(arguments);this.tooltip&&this.setTooltip(this.tooltip,true)},setMenu:function(a,b){var c=this.menu,d=this.arrowEl;if(c){delete c.parentItem;delete c.parentMenu;delete c.ownerCt;delete c.ownerItem;
(b===true||b!==false&&this.destroyMenu)&&Ext.destroy(c)}if(a){this.menu=Ext.menu.Manager.get(a);this.menu.ownerItem=this}else this.menu=null;if(this.rendered&&!this.destroying&&d)d[this.menu?"addCls":"removeCls"](this.arrowCls)},setHandler:function(a,b){this.handler=a||null;this.scope=b},setIcon:function(a){var b=this.iconEl;if(b)b.src=a||Ext.BLANK_IMAGE_URL;this.icon=a},setIconCls:function(a){var b=this.iconEl;if(b){this.iconCls&&b.removeCls(this.iconCls);a&&b.addCls(a)}this.iconCls=a},setText:function(a){var b=
this.textEl||this.el;this.text=a;if(this.rendered){b.update(a||"");this.ownerCt.updateLayout()}},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},clearTip:function(){Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(a,b){if(this.rendered){b||this.clearTip();if(Ext.isObject(a)){Ext.tip.QuickTipManager.register(Ext.apply({target:this.itemEl.id},a));this.tooltip=a}else this.itemEl.dom.setAttribute(this.getTipAttr(),a)}else this.tooltip=
a;return this}});
Ext.define("Ext.menu.CheckItem",{extend:"Ext.menu.Item",alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,afterRender:function(){this.callParent();this.checked=!this.checked;this.setChecked(!this.checked,true);this.checkChangeDisabled&&this.disableCheckChange()},initComponent:function(){this.addEvents("beforecheckchange","checkchange");
this.callParent(arguments);Ext.menu.Manager.registerCheckable(this);if(this.group){if(!this.iconCls)this.iconCls=this.groupCls;if(this.initialConfig.hideOnClick!==false)this.hideOnClick=true}},disableCheckChange:function(){var a=this.iconEl;a&&a.addCls(this.disabledCls);(!Ext.isIE9||!Ext.isStrict)&&this.rendered&&this.el.repaint();this.checkChangeDisabled=true},enableCheckChange:function(){var a=this.iconEl;a&&a.removeCls(this.disabledCls);this.checkChangeDisabled=false},onClick:function(a){!this.disabled&&
(!this.checkChangeDisabled&&(!this.checked||!this.group))&&this.setChecked(!this.checked);this.callParent([a])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setChecked:function(a,b){if(this.checked!==a&&(b||this.fireEvent("beforecheckchange",this,a)!==false)){if(this.el)this.el[a?"addCls":"removeCls"](this.checkedCls)[!a?"addCls":"removeCls"](this.uncheckedCls);this.checked=a;Ext.menu.Manager.onCheckChange(this,a);if(!b){Ext.callback(this.checkHandler,
this.scope,[this,a]);this.fireEvent("checkchange",this,a)}}}});
Ext.define("Ext.menu.KeyNav",{extend:"Ext.util.KeyNav",requires:["Ext.FocusManager"],constructor:function(a){this.menu=a;this.callParent([a.el,{down:this.down,enter:this.enter,esc:this.escape,left:this.left,right:this.right,space:this.enter,tab:this.tab,up:this.up}])},down:function(a){var b=this.menu.focusedItem;if(b&&a.getKey()==Ext.EventObject.DOWN&&this.isWhitelisted(b))return true;this.focusNextItem(1)},enter:function(a){var b=this.menu,c=b.focusedItem;if(b.activeItem)b.onClick(a);else if(c&&
c.isFormField)return true},escape:function(){Ext.menu.Manager.hideAll()},focusNextItem:function(a){for(var b=this.menu,c=b.items,d=b.focusedItem,d=d?c.indexOf(d):-1,e=d+a,g;e!=d;){e<0?e=c.length-1:e>=c.length&&(e=0);g=c.getAt(e);if(b.canActivateItem(g)){b.setActiveItem(g);break}e=e+a}},isWhitelisted:function(a){return Ext.FocusManager.isWhitelisted(a)},left:function(){var a=this.menu,b=a.focusedItem;if(b&&this.isWhitelisted(b))return true;a.hide();a.parentMenu&&a.parentMenu.focus()},right:function(){var a=
this.menu,b=a.focusedItem,c=a.activeItem,d;if(b&&this.isWhitelisted(b))return true;if(c)if(d=a.activeItem.menu){c.expandMenu(0);Ext.defer(function(){d.setActiveItem(d.items.getAt(0))},25)}},tab:function(a){a.shiftKey?this.up(a):this.down(a)},up:function(a){var b=this.menu.focusedItem;if(b&&a.getKey()==Ext.EventObject.UP&&this.isWhitelisted(b))return true;this.focusNextItem(-1)}});
Ext.define("Ext.menu.Separator",{extend:"Ext.menu.Item",alias:"widget.menuseparator",canActivate:!1,focusable:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(){this.callParent();this.addCls(this.separatorCls)}});
Ext.define("Ext.menu.Menu",{extend:"Ext.panel.Panel",alias:"widget.menu",requires:"Ext.layout.container.Fit Ext.layout.container.VBox Ext.menu.CheckItem Ext.menu.Item Ext.menu.KeyNav Ext.menu.Manager Ext.menu.Separator".split(" "),enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",defaultAlign:"tl-bl?",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,initComponent:function(){var a=this,b=Ext.baseCSSPrefix,
c=[b+"menu"],d=a.bodyCls?[a.bodyCls]:[],e=a.floating!==false;a.addEvents("click","mouseenter","mouseleave","mouseover");Ext.menu.Manager.register(a);a.plain&&c.push(b+"menu-plain");a.cls=c.join(" ");d.unshift(b+"menu-body");a.bodyCls=d.join(" ");if(!a.layout)a.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"};if(e&&a.minWidth===void 0)a.minWidth=a.defaultMinWidth;if(!e&&a.initialConfig.hidden!==true)a.hidden=false;a.callParent(arguments);a.on("beforeshow",function(){var b=!!a.items.length;
b&&a.rendered&&a.el.setStyle("visibility",null);return b})},beforeRender:function(){this.callParent(arguments);if(!this.getSizeModel().width.shrinkWrap)this.layout.align="stretch"},onBoxReady:function(){var a;this.callParent(arguments);if(this.showSeparator){a={cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"};if(!Ext.isStrict&&Ext.isIE||Ext.isIE6)a.style="height:"+this.el.getHeight()+"px";this.iconSepEl=this.layout.getElementTarget().insertFirst(a)}this.mon(this.el,{click:this.onClick,mouseover:this.onMouseOver,
scope:this});this.mouseMonitor=this.el.monitorMouseLeave(100,this.onMouseLeave,this);if(this.enableKeyNav)this.keyNav=new Ext.menu.KeyNav(this)},getBubbleTarget:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(a){return a&&!a.isDisabled()&&a.isVisible()&&(a.canActivate||a.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(a){var b=this.activeItem,c=this.focusedItem;if(b){b.deactivate();b.activated||delete this.activeItem}if(c&&
a){c.blur();delete this.focusedItem}},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(true);this.callParent(arguments)},getItemFromEvent:function(a){return this.getChildByElement(a.getTarget())},lookupComponent:function(a){typeof a=="string"?a=this.lookupItemFromString(a):Ext.isObject(a)&&(a=this.lookupItemFromObject(a));a.minWidth=a.minWidth||this.minWidth;return a},lookupItemFromObject:function(a){var b=Ext.baseCSSPrefix,c;a.isComponent||(a=a.xtype?
Ext.ComponentManager.create(a,a.xtype):Ext.create("Ext.menu."+(Ext.isBoolean(a.checked)?"Check":"")+"Item",a));if(a.isMenuItem)a.parentMenu=this;if(!a.isMenuItem&&!a.dock){c=[b+"menu-item",b+"menu-item-cmp"];!this.plain&&(a.indent===true||a.iconCls==="no-icon")&&c.push(b+"menu-item-indent");a.rendered?a.el.addCls(c):a.cls=(a.cls?a.cls:"")+" "+c.join(" ")}return a},lookupItemFromString:function(a){return a=="separator"||a=="-"?new Ext.menu.Separator:new Ext.menu.Item({canActivate:false,hideOnClick:false,
plain:true,text:a})},onClick:function(a){var b;if(this.disabled)a.stopEvent();else{if((b=a.type==="click"?this.getItemFromEvent(a):this.activeItem)&&b.isMenuItem)if(!b.menu||!this.ignoreParentClicks)b.onClick(a);else a.stopEvent();if(!b||b.disabled)b=void 0;this.fireEvent("click",this,b,a)}},onDestroy:function(){Ext.menu.Manager.unregister(this);delete this.parentMenu;delete this.ownerButton;if(this.rendered){this.el.un(this.mouseMonitor);Ext.destroy(this.keyNav);delete this.keyNav}this.callParent(arguments)},
onMouseLeave:function(a){this.deactivateActiveItem();this.disabled||this.fireEvent("mouseleave",this,a)},onMouseOver:function(a){var b=!this.el.contains(a.getRelatedTarget()),c=this.getItemFromEvent(a),d=this.parentMenu,e=this.parentItem;if(b&&d){d.setActiveItem(e);e.cancelDeferHide();d.mouseMonitor.mouseenter()}if(!this.disabled){if(c&&!c.activated){this.setActiveItem(c);c.activated&&c.expandMenu&&c.expandMenu()}b&&this.fireEvent("mouseenter",this,a);this.fireEvent("mouseover",this,c,a)}},setActiveItem:function(a){if(a&&
a!=this.activeItem){this.deactivateActiveItem();if(this.canActivateItem(a))if(a.activate){a.activate();if(a.activated){this.focusedItem=this.activeItem=a;this.focus()}}else{a.focus();this.focusedItem=a}a.el.scrollIntoView(this.layout.getRenderTarget())}},showBy:function(a,b,c){if(this.floating&&a){this.show();this.setPagePosition(this.el.getAlignToXY(a.el||a,b||this.defaultAlign,c));this.setVerticalPosition()}return this},show:function(){var a,b=this.maxHeight;this.rendered||this.doAutoRender();if(this.floating){a=
Ext.fly(this.el.getScopeParent());a=a.getViewSize().height;this.maxHeight=Math.min(b||a,a)}a=this.callParent(arguments);this.maxHeight=b;return a},afterComponentLayout:function(a,b,c,d){this.callParent(arguments);this.showSeparator&&this.iconSepEl.setHeight(this.componentLayout.lastComponentSize.contentHeight)},setVerticalPosition:function(){var a,b=this.el.getY(),c=b,d=this.getHeight(),e=Ext.Element.getViewportHeight().height;a=Ext.fly(this.el.getScopeParent());var g=a.getViewSize().height,h=b-a.getScroll().top;
if(this.floating){a=this.maxHeight?this.maxHeight:g-h;d>g?c=b-h:a<d?c=b-(d-a):b+d>e&&(c=e-d)}this.el.setY(c)}});
Ext.define("Ext.panel.Tool",{extend:"Ext.Component",requires:["Ext.tip.QuickTipManager"],alias:"widget.tool",baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img id="{id}-toolEl" src="{blank}" class="{baseCls}-{type}" role="presentation"/>'],tooltipType:"qtip",stopEvent:!0,height:15,width:15,_toolTypes:{close:1,collapse:1,down:1,
expand:1,gear:1,help:1,left:1,maximize:1,minimize:1,minus:1,next:1,pin:1,plus:1,prev:1,print:1,refresh:1,restore:1,right:1,save:1,search:1,toggle:1,unpin:1,up:1},initComponent:function(){this.addEvents("click");this.id&&(this._toolTypes[this.id]&&Ext.global.console)&&Ext.global.console.warn("When specifying a tool you should use the type option, the id can conflict now that tool is a Component");this.type=this.type||this.id;Ext.applyIf(this.renderData,{baseCls:this.baseCls,blank:Ext.BLANK_IMAGE_URL,
type:this.type});this.tooltip=this.tooltip||this.qtip;this.callParent();this.on({element:"toolEl",click:this.onClick,mousedown:this.onMouseDown,mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this})},afterRender:function(){var a;this.callParent(arguments);if(this.tooltip)if(Ext.isObject(this.tooltip))Ext.tip.QuickTipManager.register(Ext.apply({target:this.id},this.tooltip));else{a=this.tooltipType=="qtip"?"data-qtip":"title";this.toolEl.dom.setAttribute(a,this.tooltip)}},getFocusEl:function(){return this.el},
setType:function(a){this.type=a;if(this.rendered)this.toolEl.dom.className=this.baseCls+"-"+a;return this},bindTo:function(a){this.owner=a},onClick:function(a,b){var c;if(this.disabled)return false;c=this.owner||this.ownerCt;this.el.removeCls(this.toolPressedCls);this.el.removeCls(this.toolOverCls);this.stopEvent!==false&&a.stopEvent();Ext.callback(this.handler,this.scope||this,[a,b,c,this]);this.fireEvent("click",this,a);return true},onDestroy:function(){Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.id);
this.callParent()},onMouseDown:function(){if(this.disabled)return false;this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return false;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}});
Ext.define("Ext.resizer.SplitterTracker",{extend:"Ext.dd.DragTracker",requires:["Ext.util.Region"],enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"});a.unselectable();a.setSize(Ext.Element.getViewWidth(true),Ext.Element.getViewHeight(true));a.show()},getPrevCmp:function(){return this.getSplitter().previousSibling()},getNextCmp:function(){return this.getSplitter().nextSibling()},
onBeforeStart:function(a){var b=this.getPrevCmp(),c=this.getNextCmp(),d=this.getSplitter().collapseEl,a=a.getTarget();if(d&&a===this.getSplitter().collapseEl.dom||c.collapsed||b.collapsed)return false;this.prevBox=b.getEl().getBox();this.nextBox=c.getEl().getBox();this.constrainTo=b=this.calculateConstrainRegion();if(!b)return false;this.createDragOverlay();return b},onStart:function(){var a=this.getSplitter();a.addCls(a.baseCls+"-active")},calculateConstrainRegion:function(){var a=this.getSplitter(),
b=a.getWidth(),c=a.defaultSplitMin,d=a.orientation,a=this.prevBox,e=this.getPrevCmp(),g=this.nextBox,h=this.getNextCmp();if(d==="vertical"){d=new Ext.util.Region(a.y,(e.maxWidth?a.x+e.maxWidth:g.right-(h.minWidth||c))+b,a.bottom,a.x+(e.minWidth||c));b=new Ext.util.Region(g.y,g.right-(h.minWidth||c),g.bottom,(h.maxWidth?g.right-h.maxWidth:a.x+(a.minWidth||c))-b)}else{d=new Ext.util.Region(a.y+(e.minHeight||c),a.right,(e.maxHeight?a.y+e.maxHeight:g.bottom-(h.minHeight||c))+b,a.x);b=new Ext.util.Region((h.maxHeight?
g.bottom-h.maxHeight:a.y+(e.minHeight||c))-b,g.right,g.bottom-(h.minHeight||c),g.x)}return d.intersect(b)},performResize:function(a,b){for(var c=this.getSplitter(),d=c.orientation,e=this.getPrevCmp(),g=this.getNextCmp(),c=c.ownerCt,h=c.query(">[flex]"),i=h.length,j=0,k;j<i;j++){k=h[j].getWidth();h[j].flex=k}b=b||this.getOffset("dragTarget");if(d==="vertical"){b=b[0];d="width"}else{d="height";b=b[1]}if(e){k=this.prevBox[d]+b;e.flex?e.flex=k:e[d]=k}if(g){k=this.nextBox[d]-b;g.flex?g.flex=k:g[d]=k}c.updateLayout()},
endDrag:function(){if(this.overlay){this.overlay.remove();delete this.overlay}this.callParent(arguments)},onEnd:function(a){var b=this.getSplitter();b.removeCls(b.baseCls+"-active");this.performResize(a,this.getOffset("dragTarget"))},onDrag:function(){var a=this.getOffset("dragTarget"),b=this.getSplitter(),c=b.getEl();b.orientation==="vertical"?c.setX(this.startRegion.left+a[0]):c.setY(this.startRegion.top+a[1])},getSplitter:function(){return this.splitter}});
Ext.define("Ext.resizer.BorderSplitterTracker",{extend:"Ext.resizer.SplitterTracker",requires:["Ext.util.Region"],getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var a=this.splitter,b=a.collapseTarget,c=a.defaultSplitMin,d=a.vertical?"Width":"Height",e="min"+d,g="max"+d,d="get"+d,h=a.neighbors,i=h.length,j=b.el.getBox(),k=j.x,l=j.y,m=j.right,j=j.bottom,n=a.vertical?m-k:j-l,o,p,q,r,s;q=(b[e]||Math.min(n,c))-n;b=(b=b[g])?b-n:1E9;s=n;for(o=0;o<i;++o){p=h[o];n=p[d]();r=n-p[g];n=n-
(p[e]||Math.min(n,c));isNaN(r)||q<r&&(q=r);b>n&&(b=n)}if(b-q<2)return null;j=new Ext.util.Region(l,m,j,k);this.constraintAdjusters[a.collapseDirection](j,q,b,a);this.dragInfo={minRange:q,maxRange:b,targetSize:s};return j},constraintAdjusters:{left:function(a,b,c,d){a[0]=a.x=a.left=a.right+b;a.right=a.right+(c+d.getWidth())},top:function(a,b,c,d){a[1]=a.y=a.top=a.bottom+b;a.bottom=a.bottom+(c+d.getHeight())},bottom:function(a,b,c,d){a.bottom=a.top-b;a.top=a.top-(c+d.getHeight())},right:function(a,
b,c,d){a.right=a.left-b;a.left=a.left-(c+d.getWidth())}},onBeforeStart:function(a){var b=this.splitter,c=b.collapseTarget,d=b.neighbors,e=this.getSplitter().collapseEl,g=a.getTarget(),a=d.length;if(e&&g===b.collapseEl.dom||c.collapsed)return false;for(b=0;b<a;++b){e=d[b];if(e.collapsed&&e.isHorz===c.isHorz)return false}if(!(this.constrainTo=this.calculateConstrainRegion()))return false;this.createDragOverlay();return true},performResize:function(a,b){var c=this.splitter,d=c.collapseDirection,e=c.collapseTarget,
g=this.splitAdjusters[c.vertical?"horz":"vert"],h=b[g.index],i=this.dragInfo;if(d=="right"||d=="bottom")h=-h;if(h=Math.min(Math.max(i.minRange,h),i.maxRange)){(c=c.ownerCt).suspendLayouts();g.adjustTarget(e,i.targetSize,h);c.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(a,b,c){a.flex=null;a.setSize(b+c)}},vert:{index:1,adjustTarget:function(a,b,c){a.flex=null;a.setSize(void 0,b+c)}}}});
Ext.define("Ext.resizer.ResizeTracker",{extend:"Ext.dd.DragTracker",dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(a){var b=this,c,d,e;if(!a.el)b.el=a.target.isComponent?a.target.getEl():a.target;this.callParent(arguments);if(b.preserveRatio&&b.minWidth&&b.minHeight){c=b.minWidth/b.el.getWidth();d=b.minHeight/b.el.getHeight();d>c?b.minWidth=b.el.getWidth()*d:b.minHeight=b.el.getHeight()*c}if(b.throttle){e=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(b,
arguments)},b.throttle);b.resize=function(a,c,d){d?Ext.resizer.ResizeTracker.prototype.resize.apply(b,arguments):e.apply(null,arguments)}}},onBeforeStart:function(){this.startBox=this.el.getBox()},getDynamicTarget:function(){var a=this.target;if(this.dynamic)return a;if(!this.proxy)this.proxy=this.createProxy(a);this.proxy.show();return this.proxy},createProxy:function(a){var b=this.proxyCls,c;if(a.isComponent)a=a.getProxy().addCls(b);else{c=Ext.getBody();Ext.scopeResetCSS&&(c=Ext.getBody().createChild({cls:Ext.resetCls}));
a=a.createProxy({tag:"div",cls:b,id:a.id+"-rzproxy"},c)}a.removeCls(Ext.baseCSSPrefix+"proxy-el");return a},onStart:function(){this.activeResizeHandle=Ext.get(this.getDragTarget().id);this.dynamic||this.resize(this.startBox,{horizontal:"none",vertical:"none"})},onDrag:function(a){(this.dynamic||this.proxy)&&this.updateDimensions(a)},updateDimensions:function(a,b){var c=this.activeResizeHandle.region,d=this.getOffset(this.constrainTo?"dragTarget":null),e=this.startBox,g,h=0,i=0,j,k,l=g=0,m,n=d[0]<
0?"right":"left",o=d[1]<0?"down":"up",p;switch(c){case "south":i=d[1];p=2;break;case "north":i=-d[1];l=-i;p=2;break;case "east":h=d[0];p=1;break;case "west":h=-d[0];g=-h;p=1;break;case "northeast":i=-d[1];l=-i;h=d[0];m=[e.x,e.y+e.height];p=3;break;case "southeast":i=d[1];h=d[0];m=[e.x,e.y];p=3;break;case "southwest":h=-d[0];g=-h;i=d[1];m=[e.x+e.width,e.y];p=3;break;case "northwest":i=-d[1];l=-i;h=-d[0];g=-h;m=[e.x+e.width,e.y+e.height];p=3}d={width:e.width+h,height:e.height+i,x:e.x+g,y:e.y+l};j=Ext.Number.snap(d.width,
this.widthIncrement);k=Ext.Number.snap(d.height,this.heightIncrement);if(j!=d.width||k!=d.height){switch(c){case "northeast":d.y=d.y-(k-d.height);break;case "north":d.y=d.y-(k-d.height);break;case "southwest":d.x=d.x-(j-d.width);break;case "west":d.x=d.x-(j-d.width);break;case "northwest":d.x=d.x-(j-d.width);d.y=d.y-(k-d.height)}d.width=j;d.height=k}if(d.width<this.minWidth||d.width>this.maxWidth){d.width=Ext.Number.constrain(d.width,this.minWidth,this.maxWidth);if(g)d.x=e.x+(e.width-d.width)}else this.lastX=
d.x;if(d.height<this.minHeight||d.height>this.maxHeight){d.height=Ext.Number.constrain(d.height,this.minHeight,this.maxHeight);if(l)d.y=e.y+(e.height-d.height)}else this.lastY=d.y;if(this.preserveRatio||a.shiftKey){g=this.startBox.width/this.startBox.height;l=Math.min(Math.max(this.minHeight,d.width/g),this.maxHeight);j=Math.min(Math.max(this.minWidth,d.height*g),this.maxWidth);if(p==1)d.height=l;else if(p==2)d.width=j;else{m=Math.abs(m[0]-this.lastXY[0])/Math.abs(m[1]-this.lastXY[1]);m>g?d.height=
l:d.width=j;if(c=="northeast")d.y=e.y-(d.height-e.height);else if(c=="northwest"){d.y=e.y-(d.height-e.height);d.x=e.x-(d.width-e.width)}else if(c=="southwest")d.x=e.x-(d.width-e.width)}}i===0&&(o="none");h===0&&(n="none");this.resize(d,{horizontal:n,vertical:o},b)},getResizeTarget:function(a){return a?this.target:this.getDynamicTarget()},resize:function(a,b,c){b=this.getResizeTarget(c);if(b.isComponent){b.setSize(a.width,a.height);b.floating&&b.setPagePosition(a.x,a.y)}else b.setBox(a);if((b=this.originalTarget)&&
(this.dynamic||c))if(b.isComponent){b.setSize(a.width,a.height);b.floating&&b.setPagePosition(a.x,a.y)}else b.setBox(a)},onEnd:function(a){this.updateDimensions(a,true);this.proxy&&this.proxy.hide()}});
Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1E4,maxWidth:1E4,pinned:!1,preserveRatio:!1,
transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(a,b){var c;c=this.handles;var d,e,g,h=0,i,j=[],k,l;this.addEvents("beforeresize","resizedrag","resize");if(Ext.isString(a)||Ext.isElement(a)||a.dom){c=a;a=b||{};a.target=c}this.mixins.observable.constructor.call(this,a);if(c=this.target)if(c.isComponent){this.el=c.getEl();if(c.minWidth)this.minWidth=c.minWidth;if(c.minHeight)this.minHeight=c.minHeight;
if(c.maxWidth)this.maxWidth=c.maxWidth;if(c.maxHeight)this.maxHeight=c.maxHeight;if(c.floating&&!this.hasOwnProperty("handles"))this.handles="n ne e se s sw w nw"}else this.el=this.target=Ext.get(c);else this.target=this.el=Ext.get(this.el);c=this.el.dom.tagName.toUpperCase();if(c=="TEXTAREA"||c=="IMG"||c=="TABLE"){this.originalTarget=this.target;c=this.el;d=c.getBox();this.target=this.el=this.el.wrap({cls:this.wrapCls,id:this.el.id+"-rzwrap",style:c.getStyles("margin-top","margin-bottom")});this.el.setPositioning(c.getPositioning());
c.clearPositioning();this.el.setBox(d);c.setStyle("position","absolute")}this.el.position();this.pinned&&this.el.addCls(this.pinnedCls);this.resizeTracker=new Ext.resizer.ResizeTracker({disabled:this.disabled,target:this.target,constrainTo:this.constrainTo,overCls:this.overCls,throttle:this.throttle,originalTarget:this.originalTarget,delegate:"."+this.handleCls,dynamic:this.dynamic,preserveRatio:this.preserveRatio,heightIncrement:this.heightIncrement,widthIncrement:this.widthIncrement,minHeight:this.minHeight,
maxHeight:this.maxHeight,minWidth:this.minWidth,maxWidth:this.maxWidth});this.resizeTracker.on({mousedown:this.onBeforeResize,drag:this.onResize,dragend:this.onResizeEnd,scope:this});if(this.handles=="all")this.handles="n s e w ne nw se sw";c=this.handles=this.handles.split(/ |\s*?[,;]\s*?/);e=this.possiblePositions;g=c.length;d=this.handleCls+" "+(this.target.isComponent?this.target.baseCls+"-handle ":"")+this.handleCls+"-";for(k=Ext.isIE6?' style="height:'+this.el.getHeight()+'px"':"";h<g;h++)if(c[h]&&
e[c[h]]){i=e[c[h]];l=i==="east"||i==="west"?k:"";j.push('<div id="'+this.el.id+"-"+i+'-handle" class="'+d+i+" "+Ext.baseCSSPrefix+'unselectable"'+l+"></div>")}Ext.DomHelper.append(this.el,j.join(""));for(h=0;h<g;h++)if(c[h]&&e[c[h]]){i=e[c[h]];this[i]=this.el.getById(this.el.id+"-"+i+"-handle");this[i].region=i;this[i].unselectable();this.transparent&&this[i].setOpacity(0)}if(Ext.isNumber(this.width))this.width=Ext.Number.constrain(this.width,this.minWidth,this.maxWidth);if(Ext.isNumber(this.height))this.height=
Ext.Number.constrain(this.height,this.minHeight,this.maxHeight);if(this.width!==null||this.height!==null){if(this.originalTarget){this.originalTarget.setWidth(this.width);this.originalTarget.setHeight(this.height)}this.resizeTo(this.width,this.height)}this.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(a,b){var c=this.el.getBox();return this.fireEvent("beforeresize",this,c.width,c.height,b)},onResize:function(a,
b){var c=this.el.getBox();this.forceHandlesHeight();return this.fireEvent("resizedrag",this,c.width,c.height,b)},onResizeEnd:function(a,b){var c=this.el.getBox();this.forceHandlesHeight();return this.fireEvent("resize",this,c.width,c.height,b)},resizeTo:function(a,b){this.target.setSize(a,b);this.fireEvent("resize",this,a,b,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){for(var a=0,b=this.handles,c=b.length,d=this.possiblePositions;a<c;a++)this[d[b[a]]].remove()},
forceHandlesHeight:function(){var a;if(Ext.isIE6){(a=this.east)&&a.setHeight(this.el.getHeight());(a=this.west)&&a.setHeight(this.el.getHeight());this.el.repaint()}}});
Ext.define("Ext.selection.CellModel",{extend:"Ext.selection.Model",alias:"selection.cellmodel",requires:["Ext.util.KeyNav"],isCellModel:!0,enableKeyNav:!0,preventWrap:!1,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select");this.callParent(arguments)},bindComponent:function(a){var b=a.ownerCt;this.primaryView=a;this.views=this.views||[];this.views.push(a);this.bindStore(a.getStore(),true);a.on({cellmousedown:this.onMouseDown,refresh:this.onViewRefresh,scope:this});
if(b.optimizedColumnMove!==false)b.on("columnmove",this.onColumnMove,this);this.enableKeyNav&&this.initKeyNav(a)},initKeyNav:function(a){if(a.rendered){a.el.set({tabIndex:-1});this.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:true,up:this.onKeyUp,down:this.onKeyDown,right:this.onKeyRight,left:this.onKeyLeft,tab:this.onKeyTab,scope:this})}else a.on("render",Ext.Function.bind(this.initKeyNav,this,[a],0),this,{single:true})},getHeaderCt:function(){var a=this.getCurrentPosition();return(a?
a.view:this.primaryView).headerCt},onKeyUp:function(a){this.keyNavigation=true;this.move("up",a);this.keyNavigation=false},onKeyDown:function(a){this.keyNavigation=true;this.move("down",a);this.keyNavigation=false},onKeyLeft:function(a){this.keyNavigation=true;this.move("left",a);this.keyNavigation=false},onKeyRight:function(a){this.keyNavigation=true;this.move("right",a);this.keyNavigation=false},move:function(a,b){var c=this.getCurrentPosition(),d=c.view.walkCells(c,a,b,this.preventWrap);if(d){d.view=
c.view;return this.setCurrentPosition(d)}return null},getCurrentPosition:function(){return this.selection},setCurrentPosition:function(a){if(this.lastSelection=this.selection)this.onCellDeselect(this.selection);if(a){this.nextSelection=new this.Selection(this);this.nextSelection.setPosition(a);this.onCellSelect(this.nextSelection);return this.selection=this.nextSelection}return null},onStoreRemove:function(a,b,c){var d=this.getCurrentPosition();this.callParent(arguments);if(d)if(d.row==c)if(c<a.getCount()-
1){d.setPosition(c,d.column);this.setCurrentPosition(d)}else delete this.selection;else if(c<d.row){d.setPosition(d.row-1,d.column);this.setCurrentPosition(d)}},onMouseDown:function(a,b,c,d,e,g){this.setCurrentPosition({view:a,row:g,column:c})},onCellSelect:function(a,b){a&&(a.row!==void 0&&a.row>-1)&&this.doSelect(a.view.getStore().getAt(a.row),false,b)},onCellDeselect:function(a,b){a&&a.row!==void 0&&this.doDeselect(a.view.getStore().getAt(a.row),b)},onSelectChange:function(a,b,c,d){var e,g,h;if(b){e=
this.nextSelection;g="select"}else{e=this.lastSelection||this.noSelection;g="deselect"}h=e.view||this.primaryView;if((c||this.fireEvent("before"+g,this,a,e.row,e.column))!==false&&d()!==false){if(b){h.onCellSelect(e);h.onCellFocus(e)}else{h.onCellDeselect(e);delete this.selection}c||this.fireEvent(g,this,a,e.row,e.column)}},onKeyTab:function(a){var b=this.getCurrentPosition().view.editingPlugin;if(b&&this.wasEditing)this.onEditorTab(b,a);else this.move(a.shiftKey?"left":"right",a)},onEditorTab:function(a,
b){var c=this.move(b.shiftKey?"left":"right",b);if(c)if(a.startEditByPosition(c))this.wasEditing=false;else{this.wasEditing=true;if(!c.columnHeader.dataIndex)this.onEditorTab(a,b)}},refresh:function(){var a=this.getCurrentPosition(),b;if(a&&(b=this.store.indexOf(this.selected.last()))!==-1)a.row=b},onColumnMove:function(a){if(a=a.up("tablepanel"))this.onViewRefresh(a.view)},onViewRefresh:function(a){var b=this.getCurrentPosition(),c=a.headerCt,d;if(b&&b.view===a){d=b.record;b=b.columnHeader;b.isDescendantOf(c)||
(b=c.queryById(b.id)||c.down('[text="'+b.text+'"]')||c.down('[dataIndex="'+b.dataIndex+'"]'));b&&a.store.indexOfId(d.getId())!==-1&&this.setCurrentPosition({row:d,column:b,view:a})}},selectByPosition:function(a){this.setCurrentPosition(a)}},function(){(this.prototype.Selection=function(a){this.model=a}).prototype.setPosition=function(a,b){var c;if(arguments.length===1){if(a.view)this.view=c=a.view;b=a.column;a=a.row}if(!c)this.view=c=this.model.primaryView;if(typeof a==="number"){this.row=a;this.record=
c.store.getAt(a)}else if(a.isModel){this.record=a;this.row=c.indexOf(a)}else if(a.tagName){this.record=c.getRecord(a);this.row=c.indexOf(this.record)}if(typeof b==="number"){this.column=b;this.columnHeader=c.getHeaderAtIndex(b)}else{this.columnHeader=b;this.column=b.getIndex()}return this}});
Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:"Ext.selection.RowModel",mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:!0,headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",refreshOnRemove:!0,beforeViewRender:function(a){this.callParent(arguments);if(!this.hasLockedHeader()||a.headerCt.lockedCt){if(this.showHeaderCheckbox!==false)a.headerCt.on("headerclick",this.onHeaderClick,this);this.addCheckbox(a,true);this.mon(a.ownerCt,"reconfigure",
this.onReconfigure,this)}},bindComponent:function(a){this.sortable=false;this.callParent(arguments)},hasLockedHeader:function(){var a=this.views,b=a.length,c;for(c=0;c<b;c++)if(a[c].headerCt.lockedCt)return true;return false},addCheckbox:function(a,b){var c=this.injectCheckbox,d=a.headerCt;if(c!==false){c=="first"?c=0:c=="last"&&(c=d.getColumnCount());Ext.suspendLayouts();d.add(c,this.getHeaderConfig());Ext.resumeLayouts()}b!==true&&a.refresh()},onReconfigure:function(a,b,c){c&&this.addCheckbox(this.views[0])},
toggleUiHeader:function(a){var b=this.views[0].headerCt.child("gridcolumn[isCheckerHd]");b&&(a?b.el.addCls(this.checkerOnCls):b.el.removeCls(this.checkerOnCls))},onHeaderClick:function(a,b,c){if(b.isCheckerHd){c.stopEvent();a=b.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");this.preventFocus=true;a?this.deselectAll():this.selectAll();delete this.preventFocus}},getHeaderConfig:function(){var a=this.showHeaderCheckbox!==false;return{isCheckerHd:a,text:"&#160;",width:this.headerWidth,sortable:false,
draggable:false,resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:a?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(this.renderer,this),editRenderer:this.editRenderer||this.renderEmpty,locked:this.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},renderer:function(a,b){var c=Ext.baseCSSPrefix;b.tdCls=c+"grid-cell-special "+c+"grid-cell-row-checker";return'<div class="'+c+'grid-row-checker">&#160;</div>'},onRowMouseDown:function(a,b,c,d,e){a.el.focus();
a=e.getTarget("."+Ext.baseCSSPrefix+"grid-row-checker");if(this.allowRightMouseSelection(e)&&(!this.checkOnly||a))if(a){a=this.getSelectionMode();a!=="SINGLE"&&this.setSelectionMode("SIMPLE");this.selectWithEvent(b,e);this.setSelectionMode(a)}else this.selectWithEvent(b,e)},onSelectChange:function(){this.callParent(arguments);this.updateHeaderState()},onStoreLoad:function(){this.callParent(arguments);this.updateHeaderState()},updateHeaderState:function(){this.toggleUiHeader(this.selected.getCount()===
this.store.getCount())}});
Ext.define("Ext.util.CSS",function(){var a=null,b=document,c=/(-[a-z])/gi,d=function(a,b){return b.charAt(1).toUpperCase()};return{singleton:true,constructor:function(){this.rules={};this.initialized=false},createStyleSheet:function(a,c){var d;d=b.getElementsByTagName("head")[0];var i=b.createElement("style");i.setAttribute("type","text/css");c&&i.setAttribute("id",c);if(Ext.isIE){d.appendChild(i);d=i.styleSheet;d.cssText=a}else{try{i.appendChild(b.createTextNode(a))}catch(j){i.cssText=a}d.appendChild(i);
d=i.styleSheet?i.styleSheet:i.sheet||b.styleSheets[b.styleSheets.length-1]}this.cacheStyleSheet(d);return d},removeStyleSheet:function(a){(a=document.getElementById(a))&&a.parentNode.removeChild(a)},swapStyleSheet:function(a,b){var c=document,d;this.removeStyleSheet(a);d=c.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("type","text/css");d.setAttribute("id",a);d.setAttribute("href",b);c.getElementsByTagName("head")[0].appendChild(d)},refreshCache:function(){return this.getRules(true)},
cacheStyleSheet:function(b){a||(a={});try{for(var c=b.cssRules||b.rules,d,i=c.length-1,j,k;i>=0;--i)if(d=c[i].selectorText){d=d.split(",");k=d.length;for(j=0;j<k;j++)a[Ext.String.trim(d[j]).toLowerCase()]=c[i]}}catch(l){}},getRules:function(c){if(a===null||c){a={};for(var c=b.styleSheets,d=0,h=c.length;d<h;d++)try{c[d].disabled||this.cacheStyleSheet(c[d])}catch(i){}}return a},getRule:function(a,b){var c=this.getRules(b),d;if(!Ext.isArray(a))return c[a.toLowerCase()];for(d=0;d<a.length;d++)if(c[a[d]])return c[a[d].toLowerCase()];
return null},updateRule:function(a,b,h){var i;if(Ext.isArray(a))for(i=0;i<a.length;i++){if(this.updateRule(a[i],b,h))return true}else if(a=this.getRule(a)){a.style[b.replace(c,d)]=h;return true}return false}}}());Ext.define("Ext.util.Grouper",{extend:"Ext.util.Sorter",isGrouper:!0,getGroupString:function(a){return a.get(this.property)}});
Ext.define("Ext.util.Point",{extend:"Ext.util.Region",statics:{fromEvent:function(a){a=a.changedTouches&&a.changedTouches.length>0?a.changedTouches[0]:a;return new this(a.pageX,a.pageY)}},constructor:function(a,b){this.callParent([b,a,b,a])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},isWithin:function(a,b){Ext.isObject(b)||(b={x:b,y:b});return this.x<=a.x+b.x&&this.x>=a.x-b.x&&this.y<=a.y+b.y&&this.y>=a.y-b.y},roundedEquals:function(a){return Math.round(this.x)==
Math.round(a.x)&&Math.round(this.y)==Math.round(a.y)}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy});
Ext.define("Ext.view.TableChunker",{singleton:!0,requires:["Ext.XTemplate"],metaTableTpl:["{%if (this.openTableWrap)out.push(this.openTableWrap())%}",'<table class="'+Ext.baseCSSPrefix+"grid-table "+Ext.baseCSSPrefix+'grid-table-resizer" border="0" cellspacing="0" cellpadding="0" {[this.embedFullWidth(values)]}>',"<tbody>",'<tr class="'+Ext.baseCSSPrefix+'grid-header-row">','<tpl for="columns">','<th class="'+Ext.baseCSSPrefix+'grid-col-resizer-{id}" style="width: {width}px; height: 0px;"></th>',
"</tpl>","</tr>","{[this.openRows()]}","{row}",'<tpl for="features">',"{[this.embedFeature(values, parent, xindex, xcount)]}","</tpl>","{[this.closeRows()]}","</tbody>","</table>","{%if (this.closeTableWrap)out.push(this.closeTableWrap())%}"],constructor:function(){Ext.XTemplate.prototype.recurse=function(a,b){return this.apply(b?a[b]:a)}},embedFeature:function(a,b,c,d){var e="";a.disabled||(e=a.getFeatureTpl(a,b,c,d));return e},embedFullWidth:function(a){var b='style="width:{fullWidth}px;';a.rowCount||
(b=b+"height:1px;");return b+'"'},openRows:function(){return'<tpl for="rows">'},closeRows:function(){return"</tpl>"},metaRowTpl:['<tr class="'+Ext.baseCSSPrefix+'grid-row {[this.embedRowCls()]}" {[this.embedRowAttr()]}>','<tpl for="columns">','<td class="{cls} '+Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+'grid-cell-{columnId} {{id}-modified} {{id}-tdCls} {[this.firstOrLastCls(xindex, xcount)]}" {{id}-tdAttr}>','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {unselectableCls}" style="text-align: {align}; {{id}-style};">{{id}}</div>',
"</td>","</tpl>","</tr>"],firstOrLastCls:function(a,b){if(a===1)return Ext.view.Table.prototype.firstCls;if(a===b)return Ext.view.Table.prototype.lastCls},embedRowCls:function(){return"{rowCls}"},embedRowAttr:function(){return"{rowAttr}"},openTableWrap:void 0,closeTableWrap:void 0,getTableTpl:function(a,b){var c;c={openRows:this.openRows,closeRows:this.closeRows,embedFeature:this.embedFeature,embedFullWidth:this.embedFullWidth,openTableWrap:this.openTableWrap,closeTableWrap:this.closeTableWrap};for(var d=
{},e=a.features||[],g=e.length,h=0,i={embedRowCls:this.embedRowCls,embedRowAttr:this.embedRowAttr,firstOrLastCls:this.firstOrLastCls,unselectableAttr:a.enableTextSelection?"":'unselectable="on"',unselectableCls:a.enableTextSelection?"":Ext.baseCSSPrefix+"unselectable"},j=Array.prototype.slice.call(this.metaRowTpl,0);h<g;h++)if(!e[h].disabled){e[h].mutateMetaRowTpl(j);Ext.apply(i,e[h].getMetaRowTplFragments());Ext.apply(d,e[h].getFragmentTpl());Ext.apply(c,e[h].getTableFragments())}j=new Ext.XTemplate(j.join(""),
i);a.row=j.applyTemplate(a);c=(new Ext.XTemplate(this.metaTableTpl.join(""),c)).applyTemplate(a);b||(c=new Ext.XTemplate(c,d));return c}});
Ext.define("Ext.view.TableLayout",{extend:"Ext.layout.component.Auto",alias:["layout.tableview"],type:"tableview",beginLayout:function(a){this.callParent(arguments);if(this.owner.table.dom){a.tableContext=a.getEl(this.owner.table);a.headerContext=a.context.getCmp(this.headerCt)}},calculate:function(a){this.callParent(arguments);if(a.tableContext)if(a.state.columnWidthsSynced)a.hasProp("columnWidthsFlushed")?a.tableContext.setHeight(a.tableContext.el.dom.offsetHeight,false):this.done=false;else{if(a.headerContext.hasProp("columnWidthsDone")){a.context.queueFlush(this);
a.state.columnWidthsSynced=true}this.done=false}},measureContentHeight:function(a){if(!a.headerContext||a.hasProp("columnWidthsFlushed"))return this.callParent(arguments)},flush:function(){var a=this.ownerContext.context,b=this.headerCt.getGridColumns(),c=0,d=b.length,e=this.owner.el,g=0,h;a.currentLayout=this;for(c=0;c<d;c++){h=b[c].hidden?0:a.getCmp(b[c]).props.width;g=g+h;e.select(this.getColumnSelector(b[c])).setWidth(h)}e.select("table."+Ext.baseCSSPrefix+"grid-table-resizer").setWidth(g);this.ownerContext.setProp("columnWidthsFlushed",
true)},finishedLayout:function(){var a;this.callParent(arguments);if(Ext.isGecko)if(a=this.headerCt.getGridColumns()[0])if(a=this.owner.el.down(this.getColumnSelector(a))){a.setStyle("display","none");a.dom.scrollWidth;a.setStyle("display","")}},getColumnSelector:function(a){return"th."+Ext.baseCSSPrefix+"grid-col-resizer-"+a.id}});